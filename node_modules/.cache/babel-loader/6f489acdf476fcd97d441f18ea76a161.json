{"ast":null,"code":"import _defineProperty from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\src\\\\components\\\\Account\\\\Otp.js\";\n\n/* eslint-disable */\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport { Link, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport cookie from 'react-cookies';\nimport Header from '../Layout/Header';\nimport Footer from '../Layout/Footer';\nimport { appName, apiUrl, baseUrl, fbAppId } from \"../Config/Config\";\nimport { isNumber } from \"../Helpers/SettingHelper\";\nimport { showAlert, showLoader, hideLoader, stripslashes } from \"../Helpers/SettingHelper\";\nimport IntlTelInput from 'react-intl-tel-input';\nimport 'react-intl-tel-input/dist/main.css';\nimport { GET_RESENDOTP, GET_IPDATA, GET_OTP } from '../../actions';\n\nvar Otp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Otp, _Component);\n\n  function Otp(props) {\n    var _this;\n\n    _classCallCheck(this, Otp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Otp).call(this, props));\n\n    _this.handleResendotp = function () {\n      var qs = require('qs');\n\n      var user_id = _this.state.user_id;\n      var postObject = {\n        \"app_name\": appName,\n        \"user_id\": user_id\n      };\n\n      _this.props.getResendotpData(qs.stringify(postObject));\n    };\n\n    _this.handleChangeTxt = function (item, event) {\n      _this.setState(_defineProperty({}, item, event.target.value));\n    };\n\n    _this.handleotpFormSubmit = function (e) {\n      e.preventDefault();\n\n      if (_this.validateForm()) {\n        var formPayload = _this.state;\n\n        var qs = require('qs');\n\n        var user_id = _this.state.user_id;\n        var postObject = {\n          \"app_name\": appName,\n          \"user_id\": user_id,\n          \"user_otp\": formPayload.user_otp\n        };\n\n        _this.setState({\n          Loading: true\n        });\n\n        _this.props.getOtpData(qs.stringify(postObject));\n      }\n    };\n\n    _this.state = {\n      user_otp: '',\n      user_id: cookie.load('UserId'),\n      errors: {},\n      textinput: 'Edit',\n      Loading: false\n    };\n\n    _this.getcounter();\n\n    $('.resendotp').hide();\n    _this.handleotpFormSubmit = _this.handleotpFormSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Otp, [{\n    key: \"getcounter\",\n    value: function getcounter() {\n      $('.resendotp').hide();\n      var timeleft = 15;\n      var downloadTimer = setInterval(function () {\n        $('.resendotp').hide();\n        var timersec = \"You can resend OTP in \" + timeleft + \" seconds remaining\";\n        $(\".countdown\").html(timersec);\n        timeleft -= 1;\n\n        if (timeleft <= 0) {\n          clearInterval(downloadTimer);\n          $(\".countdown\").hide();\n          $('.resendotp').show();\n        }\n      }, 1000);\n    }\n  }, {\n    key: \"closepopup\",\n    value: function closepopup() {\n      $('.genie-close-btn').parents(\".genie-msg-popup-wrapper\").removeClass(\"genie-popup-open\");\n      cookie.save(\"OTPSEND\", 'no');\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(Props) {\n      if (Object.keys(Props.resendotpdata).length > 0) {\n        if (Props.resendotpdata !== this.props.resendotpdata) {\n          if (Props.resendotpdata[0].status === \"success\") {\n            $(\".genie-msg-popup-wrapper\").addClass(\"genie-popup-open\");\n            $('.genie-msg-popup-body').html('<div class=\"state_img text-center\"><i class=\"fa fa-check-circle\" ></i></div><p>' + Props.resendotpdata[0].message + '</p>');\n          } else {\n            $(\".genie-msg-popup-wrapper\").addClass(\"genie-popup-open\");\n            $('.genie-msg-popup-body').html('<div class=\"state_img text-center\"><i class=\"fa fa-times-circle\" ></i></div><p>' + Props.resendotpdata[0].form_error + '</p>');\n          }\n        }\n      }\n\n      if (Object.keys(Props.otpdata).length > 0) {\n        if (Props.otpdata !== this.props.otpdata) {\n          if (Props.otpdata[0].status === \"success\") {\n            this.setState({\n              Loading: true\n            });\n            $(\".genie-msg-popup-wrapper\").addClass(\"genie-popup-open\");\n            $('.genie-msg-popup-body').html('<div class=\"state_img text-center\"><i class=\"fa fa-check-circle\" ></i></div><p>' + Props.otpdata[0].message + '</p>');\n            this.props.history.push('/setpassword');\n          } else {\n            $(\".genie-msg-popup-wrapper\").addClass(\"genie-popup-open\");\n            $('.genie-msg-popup-body').html('<div class=\"state_img text-center\"><i class=\"fa fa-times-circle\" ></i></div><p>' + Props.otpdata[0].form_error + '</p>');\n          }\n        }\n      }\n    }\n  }, {\n    key: \"validateForm\",\n    value: function validateForm() {\n      var user_otp = this.state.user_otp;\n      var errors = {};\n      var formIsValid = true;\n\n      if (!user_otp) {\n        formIsValid = false;\n        $('.erroruserotp').html('<span class=\"errorspan\">Please enter your OTP</span>');\n      } else if (user_otp) {\n        $('.erroruserotp').html('');\n      }\n\n      return formIsValid;\n    }\n  }, {\n    key: \"ComponentDidMount\",\n    value: function ComponentDidMount() {\n      $('.resendotp').hide();\n\n      if (cookie.load('OTPSEND') == 'yes') {\n        $(\".genie-msg-popup-wrapper\").addClass(\"genie-popup-open\");\n        $('.genie-msg-popup-body').html('<div class=\"state_img text-center\"><i class=\"fa fa-check-circle\" ></i></div><p>Otp Send to your registered Mobile Number</p>');\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"wrapper_out account_bg_wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"account-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"account-title-warpper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"title4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"OTP\"))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: function onSubmit(e) {\n          return _this2.handleotpFormSubmit(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"Please provide the OTP below\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"user_otp\",\n        id: \"user_otp\",\n        placeholder: \"Enter your otp number\",\n        className: \"form-control\",\n        value: this.state.user_otp,\n        onChange: this.handleChangeTxt.bind(this, 'user_otp'),\n        maxLength: \"6\",\n        onKeyPress: function onKeyPress(e) {\n          return isNumber(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"erroruserotp\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"account-submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn_orange btn_minwid animate-btn2\",\n        type: \"submit\",\n        disabled: this.state.Loading === true ? true : false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \" \", this.state.Loading === true && React.createElement(\"span\", {\n        className: \"load-data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"Loading\"), \" Verify\")), React.createElement(\"div\", {\n        className: \"countdown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"account-alter-link resendotp\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"Don't recieved OTP? \", React.createElement(\"a\", {\n        onClick: this.handleResendotp.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"Resend the OTP\")))))))), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"genie-msg-popup-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"genie-msg-popup-inner-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        onClick: this.closepopup,\n        className: \"genie-close-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-times\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"genie-msg-popup-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        onClick: this.closepopup,\n        className: \"genie-msg-popup-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn_orange btn_minwid genie-close-btn\",\n        type: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"Ok\")))));\n    }\n  }]);\n\n  return Otp;\n}(Component);\n\nvar mapStateTopProps = function mapStateTopProps(state) {\n  return {\n    resendotpdata: state.resendotp,\n    ipaddress: state.ip,\n    otpdata: state.otp\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getResendotpData: function getResendotpData(formPayload) {\n      dispatch({\n        type: GET_RESENDOTP,\n        formPayload: formPayload\n      });\n    },\n    getOtpData: function getOtpData(formPayload) {\n      dispatch({\n        type: GET_OTP,\n        formPayload: formPayload\n      });\n    },\n    getIpData: function getIpData(ipaddress) {\n      dispatch({\n        type: GET_IPDATA,\n        ipaddress: ipaddress\n      });\n    }\n  };\n};\n\nexport default connect(mapStateTopProps, mapDispatchToProps)(withRouter(Otp));","map":{"version":3,"sources":["D:/text video/geniehut-Geni-App-Code/geniehut-Geni-App-Code/front-end/src/components/Account/Otp.js"],"names":["React","Component","$","Link","withRouter","connect","cookie","Header","Footer","appName","apiUrl","baseUrl","fbAppId","isNumber","showAlert","showLoader","hideLoader","stripslashes","IntlTelInput","GET_RESENDOTP","GET_IPDATA","GET_OTP","Otp","props","handleResendotp","qs","require","user_id","state","postObject","getResendotpData","stringify","handleChangeTxt","item","event","setState","target","value","handleotpFormSubmit","e","preventDefault","validateForm","formPayload","user_otp","Loading","getOtpData","load","errors","textinput","getcounter","hide","bind","timeleft","downloadTimer","setInterval","timersec","html","clearInterval","show","parents","removeClass","save","Props","Object","keys","resendotpdata","length","status","addClass","message","form_error","otpdata","history","push","formIsValid","closepopup","mapStateTopProps","resendotp","ipaddress","ip","otp","mapDispatchToProps","dispatch","type","getIpData"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport { Link, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport cookie from 'react-cookies';\nimport Header from '../Layout/Header';\nimport Footer from '../Layout/Footer';\nimport { appName, apiUrl, baseUrl, fbAppId } from \"../Config/Config\";\nimport { isNumber } from \"../Helpers/SettingHelper\";\n\n\nimport { showAlert, showLoader, hideLoader, stripslashes } from \"../Helpers/SettingHelper\";\nimport IntlTelInput from 'react-intl-tel-input';\nimport 'react-intl-tel-input/dist/main.css';\n\nimport { GET_RESENDOTP, GET_IPDATA, GET_OTP} from '../../actions';\n\nclass Otp extends Component {\n\nconstructor(props) {\n    super(props);\n    this.state = {  \n        user_otp: '',\n        user_id:cookie.load('UserId'),\n        errors: {},\n        textinput : 'Edit',\n        Loading:false\n    };  \n    this.getcounter();\n    $('.resendotp').hide();\n    this.handleotpFormSubmit = this.handleotpFormSubmit.bind(this);\n}\ngetcounter(){\n        $('.resendotp').hide();\n        let timeleft = 15;\n        const downloadTimer = setInterval(function(){\n        $('.resendotp').hide();\n        let timersec = \"You can resend OTP in \"+timeleft + \" seconds remaining\"\n        $(\".countdown\").html(timersec);\n        timeleft -= 1;\n        if(timeleft <= 0){\n        clearInterval(downloadTimer);\n        $(\".countdown\").hide();\n        $('.resendotp').show();\n        }\n        }, 1000);\n}\n\nhandleResendotp = () => {\n        \n        var qs = require('qs');\n        var user_id = this.state.user_id; \n        var postObject = {\n            \"app_name\": appName,\n            \"user_id\": user_id,\n        };\n        this.props.getResendotpData(qs.stringify(postObject));\n    }\n\nhandleChangeTxt = (item, event) => {  \n        this.setState({[item]:event.target.value}); \n }\n  closepopup(){\n\n      \n        $('.genie-close-btn').parents(\".genie-msg-popup-wrapper\").removeClass(\"genie-popup-open\");\n      \n      cookie.save(\"OTPSEND\",'no');\n    }\n\n componentWillReceiveProps(Props) {\n  if(Object.keys(Props.resendotpdata).length > 0){\n     if(Props.resendotpdata !== this.props.resendotpdata){\n       if(Props.resendotpdata[0].status === \"success\"){\n             $(\".genie-msg-popup-wrapper\").addClass(\"genie-popup-open\");\n                    $('.genie-msg-popup-body').html('<div class=\"state_img text-center\"><i class=\"fa fa-check-circle\" ></i></div><p>'+Props.resendotpdata[0].message+'</p>');   \n       }\n       else{\n              $(\".genie-msg-popup-wrapper\").addClass(\"genie-popup-open\");\n               $('.genie-msg-popup-body').html('<div class=\"state_img text-center\"><i class=\"fa fa-times-circle\" ></i></div><p>'+Props.resendotpdata[0].form_error+'</p>'); \n       }\n    }\n   }\n\n    if(Object.keys(Props.otpdata).length > 0){\n         if(Props.otpdata !== this.props.otpdata){\n                if(Props.otpdata[0].status === \"success\"){\n                    this.setState({Loading:true})\n                    $(\".genie-msg-popup-wrapper\").addClass(\"genie-popup-open\");\n                    $('.genie-msg-popup-body').html('<div class=\"state_img text-center\"><i class=\"fa fa-check-circle\" ></i></div><p>'+Props.otpdata[0].message+'</p>');   \n                      this.props.history.push('/setpassword');\n                } else{\n              $(\".genie-msg-popup-wrapper\").addClass(\"genie-popup-open\");\n               $('.genie-msg-popup-body').html('<div class=\"state_img text-center\"><i class=\"fa fa-times-circle\" ></i></div><p>'+Props.otpdata[0].form_error+'</p>'); \n          }\n        }\n    }\n }\n\n handleotpFormSubmit = (e) => {\n  e.preventDefault();\n        if(this.validateForm()){\n            const formPayload = this.state;\n            var qs = require('qs');\n            var user_id = this.state.user_id; \n            var postObject = {\n                \"app_name\": appName,\n                \"user_id\": user_id,\n                \"user_otp\": formPayload.user_otp,\n            };\n            this.setState({Loading:true})\n\t\t\tthis.props.getOtpData(qs.stringify(postObject));\n       }\n    }\n    \n    validateForm() {\n        \n        const {user_otp} = this.state;\n        \n        let errors = {};\n        let formIsValid = true;\n\n        if (!user_otp) {\n            formIsValid = false;\n            $('.erroruserotp').html('<span class=\"errorspan\">Please enter your OTP</span>');\n        }else if(user_otp){\n             $('.erroruserotp').html('');\n        }\n\n        return formIsValid;\n    }\nComponentDidMount(){\n    $('.resendotp').hide();\n       if(cookie.load('OTPSEND') == 'yes'){\n       $(\".genie-msg-popup-wrapper\").addClass(\"genie-popup-open\");\n       $('.genie-msg-popup-body').html('<div class=\"state_img text-center\"><i class=\"fa fa-check-circle\" ></i></div><p>Otp Send to your registered Mobile Number</p>');\n    }\n}\nrender() {\n \n    return (\n        <div>\n            <Header />\n                  <div className=\"wrapper_out account_bg_wrap\">\n                   <div className=\"container\">\n                        <div className=\"account-wrapper\">\n                            <div className=\"account-title-warpper\">\n                                <h2 className=\"title4\"><span>OTP</span></h2>\n                            </div>\n                            <div>\n                                <form onSubmit={ (e) => this.handleotpFormSubmit(e)}>\n                                     <div className=\"form-group\">\n                                        <label>Please provide the OTP below</label>\n                                        <input type=\"text\" name=\"user_otp\" id=\"user_otp\" placeholder=\"Enter your otp number\" className=\"form-control\" value={this.state.user_otp} onChange={this.handleChangeTxt.bind(this, 'user_otp')} maxLength=\"6\" onKeyPress={(e) => isNumber(e)}  />\n                                        <div className=\"erroruserotp\"></div>            \n                                    </div>\n                                    <div className=\"account-submit\">\n\n                                        <button className=\"btn btn_orange btn_minwid animate-btn2\" type=\"submit\" disabled={(this.state.Loading ===true)?true:false}> {this.state.Loading ===true &&\n                                        <span className=\"load-data\">Loading</span> \n                                        } Verify\n                                      </button>\n\n                                    </div>\n                                    <div className=\"countdown\"></div>\n                                    <div className=\"account-alter-link resendotp\">\n                                        <p>Don't recieved OTP? <a onClick={this.handleResendotp.bind(this)}>Resend the OTP</a></p>\n                                    </div>\n                                </form>\n                            </div>\n                        </div>\n                   </div>\n               </div>\n            <Footer />\n             <div className=\"genie-msg-popup-wrapper\">\n            <div className=\"genie-msg-popup-inner-wrapper\">\n                <a onClick={this.closepopup} className=\"genie-close-btn\"><i className=\"fa fa-times\" aria-hidden=\"true\"></i></a>\n                    <div className=\"genie-msg-popup-body\">\n                </div>\n                 <div onClick={this.closepopup} className=\"genie-msg-popup-btn\"><button className=\"btn btn_orange btn_minwid genie-close-btn\" type=\"button\">Ok</button></div>\n            </div>\n        </div>\n        </div>\n    );\n}\n}\n\nconst mapStateTopProps = (state) => {\n  return {\n    resendotpdata: state.resendotp ,\n    ipaddress: state.ip,\n    otpdata: state.otp,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getResendotpData: (formPayload) => {\n      dispatch({ type: GET_RESENDOTP, formPayload });\n    },\n     getOtpData: (formPayload) => {\n      dispatch({ type: GET_OTP, formPayload });\n    },\n    getIpData: (ipaddress) => {\n        dispatch({ type: GET_IPDATA, ipaddress});\n    },\n  }\n}\nexport default connect(mapStateTopProps, mapDispatchToProps)(withRouter(Otp));\n"]},"metadata":{},"sourceType":"module"}