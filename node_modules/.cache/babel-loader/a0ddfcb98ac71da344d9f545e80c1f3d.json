{"ast":null,"code":"import _classCallCheck from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\src\\\\components\\\\Account\\\\Notification.js\";\n\n/* eslint-disable */\nimport React, { Component } from 'react';\nimport Select from 'react-select';\nimport { Row, Col, Modal, Table, ProgressBar, OverlayTrigger, ButtonToolbar, Tooltip, Button } from 'react-bootstrap';\nimport Header from '../Layout/Header';\nimport Footer from '../Layout/Footer';\nimport NotifyIco from '../../common/images/ManageProp_img.jpeg';\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport { GET_ALLNOTIFICATION, GET_DELETENOTIFICATION, GET_READNOTIFY } from '../../actions';\nimport { CheckAuth, LoadingSec, LoadImage } from \"../Helpers/SettingHelper\";\nimport cookie from 'react-cookies';\nimport Parser from 'html-react-parser';\nimport $ from 'jquery';\nimport SuccessMsg from '../../common/images/success-msg.png';\nimport ModalPopup from '../Layout/ModalPopup';\n\nvar Notification =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Notification, _Component);\n\n  function Notification(props) {\n    var _this;\n\n    _classCallCheck(this, Notification);\n\n    CheckAuth();\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Notification).call(this, props));\n    _this.state = {\n      customerinner_notify: '',\n      genruninner_notify: '',\n      genproinner_notify: '',\n      loading: true,\n      cust_total: '',\n      page: 0,\n      loadMoreEnable: false,\n      oldnotification: [],\n      moreloading: false,\n      notificationlist: '',\n      modalmessage: false,\n      deleteLoading: false\n    };\n\n    _this.props.getAllNotification(cookie.load('UserAuthToken'), 0);\n\n    _this.togglemessage = _this.togglemessage.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Notification, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"notificationAddclass\",\n    value: function notificationAddclass(notify, notifyseen) {\n      $('.notification-cnt.key-' + notify).toggleClass(\"height-toggle\");\n\n      if (notifyseen === 'unread') {\n        this.props.getReadNotify(cookie.load('UserAuthToken'), notify);\n      }\n    }\n  }, {\n    key: \"DeleteAllNotify\",\n    value: function DeleteAllNotify(notifyId) {\n      notifyId ? $('#' + notifyId).remove() : '';\n      this.props.getDeleteNotification(cookie.load('UserAuthToken'), notifyId);\n    }\n  }, {\n    key: \"DeleteAll\",\n    value: function DeleteAll() {\n      this.togglemessage();\n    }\n  }, {\n    key: \"togglemessage\",\n    value: function togglemessage() {\n      this.setState(function (prevState) {\n        return {\n          modalmessage: !prevState.modalmessage\n        };\n      });\n    }\n  }, {\n    key: \"AllowDelete\",\n    value: function AllowDelete() {\n      this.setState({\n        deleteLoading: true\n      });\n      this.props.getDeleteNotification(cookie.load('UserAuthToken'), 'deleteall');\n      this.setState({\n        notificationlist: ''\n      });\n      this.setState(function (prevState) {\n        return {\n          modalmessage: !prevState.modalmessage\n        };\n      });\n    }\n  }, {\n    key: \"closepopup\",\n    value: function closepopup() {\n      $('.genie-close-btn').parents(\".genie-msg-popup-wrapper\").removeClass(\"genie-popup-open\");\n      $(\".genie-msg-popup-wrapper\").parents(\"body\").removeClass(\"genie-popup-shade\");\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(NextProps) {\n      if (NextProps.notifyInner !== this.props.notifyInner) {\n        this.setState({\n          loading: false\n        });\n        this.setState({\n          moreloading: false\n        });\n\n        if (NextProps.notifyInner[0].status === 'success') {\n          if (NextProps.notifyInner[0].result_set !== '' && NextProps.notifyInner[0].result_set !== null) {\n            var totalrecords = NextProps.notifyInner[0].totalnotify;\n            var limit = NextProps.notifyInner[0].limit;\n            var loadMoreCount = totalrecords / limit;\n            var pagecount = parseInt(this.state.page) + 1;\n\n            if (loadMoreCount > pagecount && totalrecords > limit) {\n              this.setState({\n                loadMoreEnable: true\n              });\n            } else {\n              this.setState({\n                loadMoreEnable: false\n              });\n            }\n\n            var newnotification = '';\n\n            if (this.state.oldnotification !== '') {\n              var oldnotification = this.state.oldnotification;\n              newnotification = oldnotification.concat(NextProps.notifyInner[0].result_set);\n            } else {\n              newnotification = NextProps.notifyInner[0].result_set;\n            }\n\n            this.setState({\n              oldnotification: newnotification,\n              cust_total: NextProps.notifyInner[0].unreadtotal\n            }, function () {\n              this.getcustomernotify(newnotification);\n            }.bind(this));\n            this.getcustomernotify(NextProps.notifyInner[0].result_set);\n          } else if (NextProps.notifyInner[0].status === 'error') {\n            this.getcustomernotify();\n          }\n        } else if (NextProps.notifyInner[0].status === 'authenticfailed') {\n          this.props.history.push('/logout');\n        }\n      }\n\n      if (NextProps.deletenotify !== this.props.deletenotify) {\n        this.setState({\n          loading: false\n        });\n        this.setState({\n          deleteLoading: false\n        });\n\n        if (Object.keys(NextProps.deletenotify).length > 0) {\n          if (NextProps.deletenotify[0].status === 'success') {\n            this.setState({\n              cust_total: NextProps.deletenotify[0].cust_total\n            });\n            $(\".genie-msg-popup-wrapper\").addClass(\"genie-popup-open\");\n            $(\".genie-msg-popup-wrapper\").parents(\"body\").addClass(\"genie-popup-shade\");\n            $('.genie-msg-popup-body').html('<div class=\"state_img text-center\"><img src=\"' + SuccessMsg + '\" alt=\"SuccessMsg\" /></div><h2 class=\"title3\">Success</h2><p>' + NextProps.deletenotify[0].message + '</p> ');\n          } else if (NextProps.deletenotify[0].status === 'authenticfailed') {\n            this.props.history.push('/logout');\n          }\n        }\n      }\n\n      if (NextProps.readnotify !== this.props.readnotify) {\n        if (Object.keys(NextProps.readnotify).length > 0) {\n          if (NextProps.readnotify[0].status === 'success') {\n            if (NextProps.readnotify[0].cust_total !== '') {\n              this.setState({\n                cust_total: NextProps.readnotify[0].cust_total\n              });\n            }\n          } else if (NextProps.readnotify[0].status === 'authenticfailed') {\n            this.props.history.push('/logout');\n          }\n        }\n      }\n    }\n  }, {\n    key: \"getcustomernotify\",\n    value: function getcustomernotify(customerinner_notify) {\n      var _this2 = this;\n\n      var notifyArr = customerinner_notify;\n\n      if (notifyArr !== 'undefined' && notifyArr !== null && notifyArr !== '') {\n        if (Object.keys(notifyArr).length > 0) {\n          var notificationDetails = notifyArr.map(function (notification, notificationIndex) {\n            var current = _this2;\n            var notify_id = notification.notification_id;\n            var readclass = '';\n\n            if (notification.notification_seen == 'read') {\n              readclass = \"read_background\";\n            }\n\n            console.log(notification);\n            return React.createElement(\"div\", {\n              className: \"notification-listbox \" + readclass,\n              id: notification.notification_id,\n              key: notificationIndex,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 167\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              className: \"notification-inner-box\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 168\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              className: 'notification-cnt key-' + notify_id,\n              onClick: current.notificationAddclass.bind(current, notification.notification_id, notification.notification_seen),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 172\n              },\n              __self: this\n            }, React.createElement(\"a\", {\n              href: \"javascript:void(0);\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 173\n              },\n              __self: this\n            }, React.createElement(\"h3\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 174\n              },\n              __self: this\n            }, notification.username, React.createElement(\"small\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 174\n              },\n              __self: this\n            }, notification.notify_date)), notification.content !== '' && notification.content !== null ? Parser(notification.content) : '')), React.createElement(\"div\", {\n              className: \"notification-del\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 180\n              },\n              __self: this\n            }, React.createElement(\"a\", {\n              onClick: _this2.DeleteAllNotify.bind(_this2, notify_id),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 181\n              },\n              __self: this\n            }, React.createElement(\"i\", {\n              className: \"fa fa-trash\",\n              \"aria-hidden\": \"true\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 181\n              },\n              __self: this\n            })))));\n          });\n          this.setState({\n            notificationlist: notificationDetails\n          });\n        } else {\n          this.setState({\n            notificationlist: ''\n          });\n        }\n      } else {\n        this.setState({\n          notificationlist: ''\n        });\n      }\n    }\n  }, {\n    key: \"StripTags\",\n    value: function StripTags(string) {\n      var decoded_string = $(\"<div/>\").html(string).text();\n      return $(\"<div/>\").html(decoded_string).text();\n    }\n  }, {\n    key: \"loadMore\",\n    value: function loadMore() {\n      var page = parseInt(this.state.page) + 1;\n      this.setState({\n        page: page\n      }, function () {\n        this.loadnotification();\n      }.bind(this));\n    }\n  }, {\n    key: \"loadnotification\",\n    value: function loadnotification() {\n      if (this.state.page > 0) {\n        this.setState({\n          moreloading: true\n        });\n      }\n\n      this.props.getAllNotification(cookie.load('UserAuthToken'), this.state.page);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, React.createElement(Header, {\n        custTotal: this.state.cust_total,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"wrapper_out\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"notification-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"notification-wrapper-head\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, \"Notification\"), this.state.loading === false && this.state.notificationlist !== '' && React.createElement(\"button\", {\n        className: \"btn btn_orange animate-btn2\",\n        onClick: this.DeleteAll.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-trash\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }), \" Delete All\")), React.createElement(\"div\", {\n        className: \"notification-inner-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"notification-lists\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, this.state.loading === true ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, LoadingSec) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, this.state.notificationlist !== '' ? this.state.notificationlist : 'No records found', React.createElement(\"div\", {\n        className: \"text-center mt25\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"javascript:;\",\n        className: \"btn btn_orange animate-btn2\",\n        onClick: this.loadMore.bind(this),\n        title: \"Load More\",\n        style: {\n          display: this.state.loadMoreEnable === false ? 'none' : ''\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, this.state.moreloading === true && React.createElement(\"span\", {\n        className: \"load-data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, \"Loading\"), \"Load More\")))))))), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }), React.createElement(ModalPopup, {\n        modal: this.state.modalmessage,\n        toggle: this.togglemessage,\n        className: \"modal-width followers-msg-popup del-all-notify-popup\",\n        title: \"\",\n        disablefooter: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"fmp-form-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"fmp-add-members-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, \"Do you want to delete all the notification?\")), React.createElement(\"div\", {\n        className: \"fmp-btns\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn1 btn_sm btn_orange animate-btn2 ab-none posabs-btn\",\n        type: \"button\",\n        onClick: this.AllowDelete.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, this.state.deleteLoading === true && React.createElement(\"span\", {\n        className: \"load-data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }), \"Yes\"), React.createElement(\"button\", {\n        className: \"btn btn1 btn_sm btn_black animate-btn2 ab-none posabs-btn\",\n        type: \"button\",\n        onClick: this.togglemessage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, \"No\")))), React.createElement(\"div\", {\n        className: \"genie-msg-popup-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"genie-msg-popup-inner-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        onClick: this.closepopup,\n        className: \"genie-close-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-times\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"genie-msg-popup-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        onClick: this.closepopup,\n        className: \"genie-msg-popup-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn_orange btn_minwid genie-close-btn\",\n        type: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, \"Ok\")))));\n    }\n  }]);\n\n  return Notification;\n}(Component);\n\nvar mapStateTopProps = function mapStateTopProps(state) {\n  return {\n    notifyInner: state.notification,\n    deletenotify: state.deletenotify,\n    readnotify: state.readnotify\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getAllNotification: function getAllNotification(usertoken, page) {\n      dispatch({\n        type: GET_ALLNOTIFICATION,\n        usertoken: usertoken,\n        page: page\n      });\n    },\n    getDeleteNotification: function getDeleteNotification(usertoken, notifyId) {\n      dispatch({\n        type: GET_DELETENOTIFICATION,\n        usertoken: usertoken,\n        notifyId: notifyId\n      });\n    },\n    getReadNotify: function getReadNotify(usertoken, notifyId) {\n      dispatch({\n        type: GET_READNOTIFY,\n        usertoken: usertoken,\n        notifyId: notifyId\n      });\n    }\n  };\n};\n\nexport default connect(mapStateTopProps, mapDispatchToProps)(withRouter(Notification));","map":{"version":3,"sources":["D:/text video/geniehut-Geni-App-Code/geniehut-Geni-App-Code/front-end/src/components/Account/Notification.js"],"names":["React","Component","Select","Row","Col","Modal","Table","ProgressBar","OverlayTrigger","ButtonToolbar","Tooltip","Button","Header","Footer","NotifyIco","connect","Link","withRouter","GET_ALLNOTIFICATION","GET_DELETENOTIFICATION","GET_READNOTIFY","CheckAuth","LoadingSec","LoadImage","cookie","Parser","$","SuccessMsg","ModalPopup","Notification","props","state","customerinner_notify","genruninner_notify","genproinner_notify","loading","cust_total","page","loadMoreEnable","oldnotification","moreloading","notificationlist","modalmessage","deleteLoading","getAllNotification","load","togglemessage","bind","notify","notifyseen","toggleClass","getReadNotify","notifyId","remove","getDeleteNotification","setState","prevState","parents","removeClass","NextProps","notifyInner","status","result_set","totalrecords","totalnotify","limit","loadMoreCount","pagecount","parseInt","newnotification","concat","unreadtotal","getcustomernotify","history","push","deletenotify","Object","keys","length","addClass","html","message","readnotify","notifyArr","notificationDetails","map","notification","notificationIndex","current","notify_id","notification_id","readclass","notification_seen","console","log","notificationAddclass","username","notify_date","content","DeleteAllNotify","string","decoded_string","text","loadnotification","DeleteAll","loadMore","display","AllowDelete","closepopup","mapStateTopProps","mapDispatchToProps","dispatch","usertoken","type"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport React, { Component } from 'react';\nimport Select from 'react-select';\nimport {Row, Col, Modal, Table , ProgressBar, OverlayTrigger, ButtonToolbar, Tooltip, Button} from 'react-bootstrap';\nimport Header from '../Layout/Header';\nimport Footer from '../Layout/Footer';\nimport NotifyIco from '../../common/images/ManageProp_img.jpeg';\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport { GET_ALLNOTIFICATION, GET_DELETENOTIFICATION, GET_READNOTIFY } from '../../actions';\nimport { CheckAuth, LoadingSec, LoadImage } from \"../Helpers/SettingHelper\";\nimport cookie from 'react-cookies';\nimport Parser from 'html-react-parser';\nimport $ from 'jquery';\nimport SuccessMsg from '../../common/images/success-msg.png';\nimport ModalPopup from '../Layout/ModalPopup';\n\nclass Notification extends Component {\n\nconstructor(props) {\n    CheckAuth();\n    super(props);\n    this.state = {\n        customerinner_notify:'',\n        genruninner_notify:'',\n        genproinner_notify:'',\n        loading:true,\n        cust_total:'',\n        page : 0,\n        loadMoreEnable:false,\n        oldnotification:[],\n        moreloading:false,\n        notificationlist:'',\n        modalmessage:false,\n        deleteLoading:false\n      }\n      this.props.getAllNotification(cookie.load('UserAuthToken'),0);\n      this.togglemessage = this.togglemessage.bind(this);\n  }\n\ncomponentDidMount(){\n    \n}\n\n\nnotificationAddclass(notify,notifyseen){\n  $('.notification-cnt.key-'+notify).toggleClass(\"height-toggle\");\n  if(notifyseen === 'unread'){\n   this.props.getReadNotify(cookie.load('UserAuthToken'), notify)\n  }\n}\n\nDeleteAllNotify(notifyId){\n    (notifyId)?$('#'+notifyId).remove():'';\n    this.props.getDeleteNotification(cookie.load('UserAuthToken'), notifyId)\n}\nDeleteAll(){\n  this.togglemessage();\n}\n\ntogglemessage() {\n       this.setState(prevState => ({\n        modalmessage: !prevState.modalmessage\n        }));\n }\n\nAllowDelete(){\n    this.setState({deleteLoading: true})\n    this.props.getDeleteNotification(cookie.load('UserAuthToken'), 'deleteall')\n    this.setState({notificationlist:''});\n    this.setState(prevState => ({\n      modalmessage: !prevState.modalmessage\n    }));\n\n  }\nclosepopup(){\n     $('.genie-close-btn').parents(\".genie-msg-popup-wrapper\").removeClass(\"genie-popup-open\");\n     $(\".genie-msg-popup-wrapper\").parents(\"body\").removeClass(\"genie-popup-shade\");\n}\ncomponentWillReceiveProps(NextProps) {\n\n      if(NextProps.notifyInner !==this.props.notifyInner){ \n            this.setState({loading:false});\n            this.setState({moreloading:false});\n            \n            if(NextProps.notifyInner[0].status === 'success'){ \n\n            if(NextProps.notifyInner[0].result_set!== '' && NextProps.notifyInner[0].result_set!== null){\n\n            const totalrecords =  NextProps.notifyInner[0].totalnotify;\n            const limit = NextProps.notifyInner[0].limit;\n            const loadMoreCount = totalrecords/limit;\n            const pagecount = parseInt(this.state.page)+1;\n            if(loadMoreCount> pagecount && totalrecords > limit) {\n            this.setState({loadMoreEnable:true});\n            }\n            else {\n            this.setState({loadMoreEnable:false});\n            }\n\n            let newnotification = '';\n            if(this.state.oldnotification!=='') {\n            let oldnotification = this.state.oldnotification;\n            newnotification = oldnotification.concat(NextProps.notifyInner[0].result_set);\n            }else {\n            newnotification = NextProps.notifyInner[0].result_set;\n            }\n            this.setState({  oldnotification : newnotification,cust_total: NextProps.notifyInner[0].unreadtotal }, function () { this.getcustomernotify(newnotification) }.bind(this));\n\n            this.getcustomernotify(NextProps.notifyInner[0].result_set)\n\n            }else if(NextProps.notifyInner[0].status === 'error'){\n              this.getcustomernotify();\n            }\n            }else if(NextProps.notifyInner[0].status === 'authenticfailed'){\n            this.props.history.push('/logout');\n            }\n        }\n\n        if(NextProps.deletenotify !==this.props.deletenotify){ \n              this.setState({loading:false});\n              this.setState({deleteLoading:false})\n            if(Object.keys(NextProps.deletenotify).length > 0) {\n\n               if(NextProps.deletenotify[0].status === 'success'){\n                      this.setState({cust_total : NextProps.deletenotify[0].cust_total})\n                      $(\".genie-msg-popup-wrapper\").addClass(\"genie-popup-open\");\n                      $(\".genie-msg-popup-wrapper\").parents(\"body\").addClass(\"genie-popup-shade\");\n                      $('.genie-msg-popup-body').html('<div class=\"state_img text-center\"><img src=\"'+SuccessMsg+'\" alt=\"SuccessMsg\" /></div><h2 class=\"title3\">Success</h2><p>'+NextProps.deletenotify[0].message+'</p> ');\n\n               }else if(NextProps.deletenotify[0].status === 'authenticfailed'){\n                    this.props.history.push('/logout');\n               }\n            }\n\n        }\n\n\n        if(NextProps.readnotify !==this.props.readnotify){ \n          if(Object.keys(NextProps.readnotify).length > 0) {\n             if(NextProps.readnotify[0].status === 'success'){\n                if(NextProps.readnotify[0].cust_total!==''){\n                 this.setState({cust_total: NextProps.readnotify[0].cust_total})              \n                }\n             }else if(NextProps.readnotify[0].status === 'authenticfailed'){\n                  this.props.history.push('/logout');\n             }\n          }\n\n        }\n\n }\n\n  getcustomernotify(customerinner_notify){\n    var notifyArr = customerinner_notify;\n     if(notifyArr!=='undefined' && notifyArr!==null && notifyArr!==''){\n        if(Object.keys(notifyArr).length > 0) {\n             const notificationDetails = notifyArr.map((notification, notificationIndex) => {         \n                let current = this;\n                let notify_id = notification.notification_id;               \n                let readclass = '';\n                if(notification.notification_seen == 'read'){\n                    readclass = \"read_background\";\n                }\n                console.log(notification)\n              return (\n                         <div className={\"notification-listbox \"+readclass} id={notification.notification_id} key={notificationIndex}>\n                                    <div className=\"notification-inner-box\">\n                                         {/* <div className=\"notification-img\">\n                                         <div><img src={LoadImage(notification.genprofile, 'avatar')} alt=\"\" /></div>\n                                        </div>*/}\n                                        <div className={'notification-cnt key-'+notify_id} onClick={current.notificationAddclass.bind(current,notification.notification_id, notification.notification_seen)}>\n                                           <a href=\"javascript:void(0);\">\n                                                <h3>{notification.username}<small>{notification.notify_date}</small></h3>\n                                                {/*<p className=\"tn-para\"><b>Transaction No:</b> {txn}</p><p><b>({notification.user_type})</b></p>*/}\n                                                \n                                                 {(notification.content!=='' && notification.content!==null)?Parser(notification.content):''} \n                                           </a>\n                                        </div>\n                                        <div className=\"notification-del\">\n                                           <a onClick={this.DeleteAllNotify.bind(this,notify_id)} ><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></a>\n                                        </div>\n                                    </div>\n                                </div>\n                     );\n              });\n                this.setState({notificationlist:notificationDetails});\n    }else {\n       this.setState({notificationlist:''});\n     \n    }\n    \n  }else {\n    this.setState({notificationlist:''});\n    }\n }\n\n StripTags(string) {\n\n  var decoded_string = $(\"<div/>\").html(string).text();\n  return $(\"<div/>\").html(decoded_string).text();\n\n}\n\nloadMore() {\n  let page = parseInt(this.state.page)+1;\n  this.setState({  page: page}, function () { this.loadnotification(); }.bind(this));  \n}\n\nloadnotification() {\n  if(this.state.page>0) {\n    this.setState({moreloading:true});\n  } \n  this.props.getAllNotification(cookie.load('UserAuthToken'),this.state.page)\n}\n\nrender() {\n    return (\n        <div>\n            <Header custTotal={this.state.cust_total} />\n            \n            <div className=\"wrapper_out\">\n                <div className=\"container\">\n                    <div className=\"notification-wrapper\">\n                        <div className=\"notification-wrapper-head\">\n                           <h2>Notification</h2>\n                           {(this.state.loading===false && this.state.notificationlist!=='') &&\n                            <button className=\"btn btn_orange animate-btn2\" onClick={this.DeleteAll.bind(this)} ><i className=\"fa fa-trash\" aria-hidden=\"true\"></i> Delete All</button>\n                           }\n                        </div>\n                        <div className=\"notification-inner-wrapper\">\n                            <div className=\"notification-lists\">\n                                {(this.state.loading===true) ? (\n                                    <div>\n                                        {LoadingSec}\n                                    </div>\n                                    \n                                ):(\n                                    <div>\n                                        {(this.state.notificationlist!=='')?this.state.notificationlist:'No records found'}\n                                        <div className=\"text-center mt25\">\n\n                                        <a href=\"javascript:;\" className=\"btn btn_orange animate-btn2\"  onClick={this.loadMore.bind(this)} title=\"Load More\" style={{display:(this.state.loadMoreEnable===false)?'none':''}}>\n                                        {this.state.moreloading ===true &&\n                                        <span className=\"load-data\">Loading</span> \n                                        }\n                                        Load More</a>\n                                        </div>\n                                    </div>\n                                )}\n                                                     \n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <Footer />\n             <ModalPopup modal={this.state.modalmessage} toggle={this.togglemessage} className=\"modal-width followers-msg-popup del-all-notify-popup\" title=\"\" disablefooter={1} >\n                <div className=\"fmp-form-wrapper\">\n                       \n                        <div className=\"fmp-add-members-wrapper\">\n                        <span>Do you want to delete all the notification?</span>\n                        </div>\n                        <div className=\"fmp-btns\">\n                            <button className='btn btn1 btn_sm btn_orange animate-btn2 ab-none posabs-btn' type=\"button\" onClick={this.AllowDelete.bind(this)}>{this.state.deleteLoading ===true &&\n                                <span className=\"load-data\"></span> \n                                }Yes</button>\n                            <button className=\"btn btn1 btn_sm btn_black animate-btn2 ab-none posabs-btn\" type=\"button\" onClick={this.togglemessage}>No</button>\n                            \n                        </div>\n                   </div>\n                </ModalPopup>\n\n            <div className=\"genie-msg-popup-wrapper\">\n                <div className=\"genie-msg-popup-inner-wrapper\">\n                  <a onClick={this.closepopup} className=\"genie-close-btn\"><i className=\"fa fa-times\" aria-hidden=\"true\"></i></a>\n                  <div className=\"genie-msg-popup-body\">\n                  </div>\n                  <div onClick={this.closepopup} className=\"genie-msg-popup-btn\"><button className=\"btn btn_orange btn_minwid genie-close-btn\" type=\"button\">Ok</button></div>\n                </div>\n            </div>\n\n        </div>\n    );\n}\n}\n\nconst mapStateTopProps = (state) => {\n  return {\n   notifyInner: state.notification,\n   deletenotify: state.deletenotify,\n   readnotify: state.readnotify\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n      getAllNotification: (usertoken, page) => {\n        dispatch({ type: GET_ALLNOTIFICATION, usertoken, page});\n      },\n      getDeleteNotification: (usertoken, notifyId) => {\n        dispatch({ type: GET_DELETENOTIFICATION, usertoken, notifyId});\n      },\n      getReadNotify: (usertoken, notifyId) => {\n        dispatch({ type: GET_READNOTIFY, usertoken, notifyId});\n      },\n  }\n}\nexport default connect(mapStateTopProps, mapDispatchToProps)(withRouter(Notification));\n\n\n\n"]},"metadata":{},"sourceType":"module"}