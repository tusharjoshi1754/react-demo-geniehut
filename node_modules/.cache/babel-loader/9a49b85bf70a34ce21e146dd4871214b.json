{"ast":null,"code":"import _classCallCheck from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\src\\\\components\\\\Buypoints\\\\Thankyou.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Container, Col, Row } from \"reactstrap\";\nimport Header from \"../Layout/Header\";\nimport Footer from \"../Layout/Footer\";\nimport SecondaryHeader from '../Layout/SecondaryHeader';\nimport tick from \"../../common/images/tick_popup.png\";\nimport cookie from \"react-cookies\";\nimport { LoadingSec } from \"../Helpers/SettingHelper\";\nimport { GET_TRANSACTIONDETAILS } from \"../../actions\";\nimport moment from \"moment\";\n\nvar Thankyou =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Thankyou, _Component);\n\n  function Thankyou(props) {\n    var _this;\n\n    _classCallCheck(this, Thankyou);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Thankyou).call(this, props));\n    _this.state = {\n      transaction_ref_id: \"\",\n      transaction_date: \"\",\n      transaction_title: \"\",\n      transaction_points: \"\",\n      transaction_amount: \"\",\n      transaction_promo_points: \"\",\n      transaction_total_points: \"\",\n      transaction_Usertotal_points: \"\",\n      transcation_primary_id: cookie.load(\"transcation_primary_id\"),\n      transcation_promo: cookie.load(\"promo_code\"),\n      payment_method: '',\n      loading: true\n    };\n    return _this;\n  }\n\n  _createClass(Thankyou, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var transcation_primary_id = this.state.transcation_primary_id;\n      this.props.getTransactiondetails(transcation_primary_id);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(Props) {\n      console.log(Props.transactiondetails);\n\n      if (Props.transactiondetails !== this.props.transactiondetails) {\n        this.setState({\n          loading: false\n        });\n\n        if (Props.transactiondetails[0].status === \"ok\") {\n          var paidCurrency = \"\";\n\n          if (Props.transactiondetails[0].result_set[\"topup_transaction_curreny\"] === \"SGD\") {\n            paidCurrency = \"S$\";\n          } else {\n            paidCurrency = \"$\";\n          }\n\n          this.setState({\n            transaction_date: Props.transactiondetails[0].result_set[\"topup_transaction_payment_retrieved_on\"],\n            transaction_title: Props.transactiondetails[0].result_set[\"topup_title\"],\n            transaction_points: Props.transactiondetails[0].result_set[\"topup_transaction_points\"],\n            transaction_currency: paidCurrency,\n            transaction_amount: Props.transactiondetails[0].result_set[\"topup_transaction_amount\"],\n            transaction_promo_points: Props.transactiondetails[0].result_set[\"topup_transaction_promo_points\"],\n            transaction_total_points: Props.transactiondetails[0].result_set[\"topup_transaction_total_points\"],\n            payment_method: Props.transactiondetails[0].result_set[\"topup_transaction_payment_type\"]\n          });\n          this.setState({\n            transaction_ref_id: Props.transactiondetails[0].result_set[\"topup_transaction_ref_id\"]\n          });\n          this.setState({\n            transaction_Usertotal_points: Props.transactiondetails[0].userPoints\n          });\n          cookie.save(\"UserPoints\", Props.transactiondetails[0].userPoints);\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var promo_code = \"\";\n\n      if (this.state.transcation_promo !== \"\" && this.state.transcation_promo !== undefined) {\n        promo_code = 1;\n      } else {\n        promo_code = \"\";\n      }\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(Header, {\n        userPoints: this.state.transaction_Usertotal_points !== '' && this.state.transaction_Usertotal_points !== undefined && this.state.transaction_Usertotal_points,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }), React.createElement(SecondaryHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(Container, {\n        className: \"rating_feedback_wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"tnk-you\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, this.state.loading === true ? LoadingSec : \"\", this.state.loading === false && React.createElement(\"div\", {\n        className: \"tnk-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"tick\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: tick,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Thank You \"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Your transaction has been placed successfully\")), React.createElement(\"div\", {\n        className: \"tnk-detail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"YOUR TRANSACTION DETAILS\"), React.createElement(\"div\", {\n        className: \"tnk-order\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Transaction No - \", this.state.transaction_ref_id), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Order placed at :\", \" \", moment(this.state.transaction_date).format(\"DD-MM-YYYY, h:mm A\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }), \"Pay by : \", this.state.payment_method))), React.createElement(\"div\", {\n        className: \"tnk-delivery\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"order_details\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row addon_list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-6 col-xs-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"odr-dtls\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"/\",\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, this.state.transaction_title)), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, this.state.transaction_points, \" Points\"), promo_code === 1 ? React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Promo Code : \", this.state.transcation_promo) : \"\")), React.createElement(\"div\", {\n        className: \"col-sm-6 col-xs-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"amt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, this.state.transaction_currency, \" \", parseFloat(this.state.transaction_amount).toFixed(2)))))), React.createElement(\"div\", {\n        className: \"odr_total_amt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"subtotal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"Package points\"), React.createElement(Col, {\n        sm: \"6\",\n        className: \"f_amt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, this.state.transaction_points))), promo_code === 1 ? React.createElement(\"div\", {\n        className: \"subtotal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \"Promotion points\"), React.createElement(Col, {\n        sm: \"6\",\n        className: \"f_amt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, this.state.transaction_promo_points))) : \"\", React.createElement(\"div\", {\n        className: \"subtotal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, \"Total points\"), React.createElement(Col, {\n        sm: \"6\",\n        className: \"f_amt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, this.state.transaction_total_points))), React.createElement(\"div\", {\n        className: \"subtotal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"Total user points\"), React.createElement(Col, {\n        sm: \"6\",\n        className: \"f_amt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, this.state.transaction_Usertotal_points))), React.createElement(\"div\", {\n        className: \"total\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, \"Total Amount\"), React.createElement(Col, {\n        sm: \"6\",\n        className: \"f_amt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, this.state.transaction_currency, \" \", parseFloat(this.state.transaction_amount).toFixed(2)))))), React.createElement(\"div\", {\n        className: \"tnk-chk-order\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"btn check-btn\",\n        href: \"/wallet\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, \"Topup Transaction History\"))))), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Thankyou;\n}(Component);\n\nvar mapStateTopProps = function mapStateTopProps(state) {\n  return {\n    transactiondetails: state.transactiondetails\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getTransactiondetails: function getTransactiondetails(transactionid) {\n      dispatch({\n        type: GET_TRANSACTIONDETAILS,\n        transactionid: transactionid\n      });\n    }\n  };\n};\n\nexport default connect(mapStateTopProps, mapDispatchToProps)(withRouter(Thankyou));","map":{"version":3,"sources":["D:/text video/geniehut-Geni-App-Code/geniehut-Geni-App-Code/front-end/src/components/Buypoints/Thankyou.js"],"names":["React","Component","connect","withRouter","Container","Col","Row","Header","Footer","SecondaryHeader","tick","cookie","LoadingSec","GET_TRANSACTIONDETAILS","moment","Thankyou","props","state","transaction_ref_id","transaction_date","transaction_title","transaction_points","transaction_amount","transaction_promo_points","transaction_total_points","transaction_Usertotal_points","transcation_primary_id","load","transcation_promo","payment_method","loading","getTransactiondetails","Props","console","log","transactiondetails","setState","status","paidCurrency","result_set","transaction_currency","userPoints","save","promo_code","undefined","format","parseFloat","toFixed","mapStateTopProps","mapDispatchToProps","dispatch","transactionid","type"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Container, Col, Row } from \"reactstrap\";\nimport Header from \"../Layout/Header\";\nimport Footer from \"../Layout/Footer\";\nimport SecondaryHeader from '../Layout/SecondaryHeader';\nimport tick from \"../../common/images/tick_popup.png\";\nimport cookie from \"react-cookies\";\nimport { LoadingSec } from \"../Helpers/SettingHelper\";\nimport { GET_TRANSACTIONDETAILS } from \"../../actions\";\n\nimport moment from \"moment\";\n\nclass Thankyou extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      transaction_ref_id: \"\",\n      transaction_date: \"\",\n      transaction_title: \"\",\n      transaction_points: \"\",\n      transaction_amount: \"\",\n      transaction_promo_points: \"\",\n      transaction_total_points: \"\",\n      transaction_Usertotal_points: \"\",\n      transcation_primary_id: cookie.load(\"transcation_primary_id\"),\n      transcation_promo: cookie.load(\"promo_code\"),\n      payment_method:'',\n      loading: true\n    };\n  }\n\n  componentDidMount() {\n    let transcation_primary_id = this.state.transcation_primary_id;\n\n    this.props.getTransactiondetails(transcation_primary_id);\n  }\n  componentWillReceiveProps(Props) {\n    console.log(Props.transactiondetails)\n    if (Props.transactiondetails !== this.props.transactiondetails) {\n      this.setState({ loading: false });\n      if (Props.transactiondetails[0].status === \"ok\") {\n        var paidCurrency = \"\";\n        if (\n          Props.transactiondetails[0].result_set[\n            \"topup_transaction_curreny\"\n          ] === \"SGD\"\n        ) {\n          paidCurrency = \"S$\";\n        } else {\n          paidCurrency = \"$\";\n        }\n\n        this.setState({\n          transaction_date:\n            Props.transactiondetails[0].result_set[\n              \"topup_transaction_payment_retrieved_on\"\n            ],\n          transaction_title:\n            Props.transactiondetails[0].result_set[\"topup_title\"],\n          transaction_points:\n            Props.transactiondetails[0].result_set[\"topup_transaction_points\"],\n          transaction_currency: paidCurrency,\n          transaction_amount:\n            Props.transactiondetails[0].result_set[\"topup_transaction_amount\"],\n          transaction_promo_points:\n            Props.transactiondetails[0].result_set[\n              \"topup_transaction_promo_points\"\n            ],\n          transaction_total_points:\n            Props.transactiondetails[0].result_set[\n              \"topup_transaction_total_points\"\n            ],\n          payment_method: \n            Props.transactiondetails[0].result_set[\"topup_transaction_payment_type\"]\n        });\n        this.setState({\n          transaction_ref_id:\n            Props.transactiondetails[0].result_set[\"topup_transaction_ref_id\"]\n        });\n        this.setState({transaction_Usertotal_points: Props.transactiondetails[0].userPoints})\n        cookie.save(\"UserPoints\", Props.transactiondetails[0].userPoints);\n         \n      }\n    }\n  }\n\n  render() {\n    let promo_code = \"\";\n    if (\n      this.state.transcation_promo !== \"\" &&\n      this.state.transcation_promo !== undefined\n    ) {\n      promo_code = 1;\n    } else {\n      promo_code = \"\";\n    }\n\n    return (\n      <div className=\"App\">\n        <Header userPoints= {(this.state.transaction_Usertotal_points!=='' && this.state.transaction_Usertotal_points!==undefined) && this.state.transaction_Usertotal_points}/>\n         <SecondaryHeader />\n        <Container className=\"rating_feedback_wrap\">\n          <div className=\"tnk-you\">\n            {this.state.loading === true ? LoadingSec : \"\"}\n            {this.state.loading === false && (\n              <div className=\"tnk-header\">\n                <div className=\"tick\">\n                  <img src={tick} alt=\"\" />\n                  <h2>Thank You </h2>\n                  <span>Your transaction has been placed successfully</span>\n                </div>\n                <div className=\"tnk-detail\">\n                  <h2>YOUR TRANSACTION DETAILS</h2>\n                  <div className=\"tnk-order\">\n                    <h3>Transaction No - {this.state.transaction_ref_id}</h3>\n                    <p>\n                      Order placed at :{\" \"}\n                      {moment(this.state.transaction_date).format(\n                        \"DD-MM-YYYY, h:mm A\"\n                      )}\n                      <br />\n                      Pay by : {this.state.payment_method}\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"tnk-delivery\">\n                  <div className=\"order_details\">\n                    <div className=\"row addon_list\">\n                      <div className=\"col-sm-6 col-xs-9\">\n                        <div className=\"odr-dtls\">\n                          <h5>\n                            <a href=\"/\" className=\"title\">\n                              {this.state.transaction_title}\n                            </a>\n                          </h5>\n                          <p>{this.state.transaction_points} Points</p>\n                          {promo_code === 1 ? (\n                            <p>Promo Code : {this.state.transcation_promo}</p>\n                          ) : (\n                            \"\"\n                          )}\n                        </div>\n                      </div>\n                      <div className=\"col-sm-6 col-xs-3\">\n                        <div className=\"amt\">\n                          <span>\n                            {this.state.transaction_currency}{\" \"}\n                            {parseFloat(this.state.transaction_amount).toFixed(\n                              2\n                            )}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"odr_total_amt\">\n                    <div className=\"subtotal\">\n                      <Row>\n                        <Col sm=\"6\">Package points</Col>\n                        <Col sm=\"6\" className=\"f_amt\">\n                          {this.state.transaction_points}\n                        </Col>\n                      </Row>\n                    </div>\n                    {promo_code === 1 ? (\n                      <div className=\"subtotal\">\n                        <Row>\n                          <Col sm=\"6\">Promotion points</Col>\n                          <Col sm=\"6\" className=\"f_amt\">\n                            {this.state.transaction_promo_points}\n                          </Col>\n                        </Row>\n                      </div>\n                    ) : (\n                      \"\"\n                    )}\n                    <div className=\"subtotal\">\n                      <Row>\n                        <Col sm=\"6\">Total points</Col>\n                        <Col sm=\"6\" className=\"f_amt\">\n                          {this.state.transaction_total_points}\n                        </Col>\n                      </Row>\n                    </div>\n                    <div className=\"subtotal\">\n                      <Row>\n                        <Col sm=\"6\">Total user points</Col>\n                        <Col sm=\"6\" className=\"f_amt\">\n                          {this.state.transaction_Usertotal_points}\n                        </Col>\n                      </Row>\n                    </div>\n                    <div className=\"total\">\n                      <Row>\n                        <Col sm=\"6\">Total Amount</Col>\n                        <Col sm=\"6\" className=\"f_amt\">\n                          {this.state.transaction_currency}{\" \"}\n                          {parseFloat(this.state.transaction_amount).toFixed(2)}\n                        </Col>\n                      </Row>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"tnk-chk-order\">\n                  <a className=\"btn check-btn\" href=\"/wallet\">\n                    Topup Transaction History\n                  </a>\n                </div>\n              </div>\n            )}\n          </div>\n        </Container>\n        <Footer />\n      </div>\n    );\n  }\n}\n\nconst mapStateTopProps = state => {\n  return {\n    transactiondetails: state.transactiondetails\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getTransactiondetails: transactionid => {\n      dispatch({ type: GET_TRANSACTIONDETAILS, transactionid });\n    }\n  };\n};\nexport default connect(\n  mapStateTopProps,\n  mapDispatchToProps\n)(withRouter(Thankyou));\n"]},"metadata":{},"sourceType":"module"}