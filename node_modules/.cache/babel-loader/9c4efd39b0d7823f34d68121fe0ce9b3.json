{"ast":null,"code":"import _defineProperty from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\src\\\\components\\\\Buypoints\\\\Buypoints.js\";\n\n/* eslint-disable */\nimport React, { Component } from 'react';\nimport { Container, Col, Row, Button, FormGroup, Label, Input } from 'reactstrap';\nimport Header from '../Layout/Header';\nimport Footer from '../Layout/Footer';\nimport SecondaryHeader from '../Layout/SecondaryHeader';\nimport ModalPopup from '../Layout/ModalPopup';\nimport qrcodepay from \"../../common/images/qrcodepay.png\";\nimport Logo from \"../../common/images/icons.png\";\nimport loading from \"../../common/images/loading_popup.gif\";\nimport tick from \"../../common/images/tick_popup.png\";\nimport $ from 'jquery';\nimport { PageTitle } from \"../Helpers/SettingHelper\";\nimport Select from 'react-select';\nimport cookie from 'react-cookies';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport StripeCheckout from 'react-stripe-checkout';\nimport { appName, stripeKey, stripeEnvir } from \"../Config/Config\";\nimport { GET_TOPUPPLAN, GET_APPLYPROMOTION, GET_STRIPONTOKEN, GET_TOPUPPOINTS, GET_CAPTUREAMOUNT, GET_SUBMITPOINTSYSTEM } from '../../actions';\nvar package_price = [{\n  value: '1',\n  label: 'Price In SGD'\n}, {\n  value: '2',\n  label: 'Price In USD'\n}];\n\nvar Buypoints =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Buypoints, _Component);\n\n  function Buypoints(props) {\n    var _this;\n\n    _classCallCheck(this, Buypoints);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Buypoints).call(this, props));\n\n    _this.onToken = function (token) {\n      var payAmount = parseFloat(_this.state.packageAmout).toFixed(2);\n\n      var qs = require('qs');\n      /*  load process html */\n\n\n      var postObject = {};\n      postObject = {\n        'app_name': appName,\n        'token': token.id,\n        'userToken': _this.state.user_token,\n        'stripe_envir': stripeEnvir,\n        'stripe_key': stripeKey,\n        \"user_id\": cookie.load('UserId'),\n        \"paid_amount\": payAmount,\n        \"payment_reference\": 'Geniehut'\n      };\n\n      _this.togglePaymentProcess();\n\n      _this.props.striponToken(qs.stringify(postObject));\n    };\n\n    _this.state = {\n      purchase_point_package: [],\n      defaultLimit: 4,\n      loadMorebut: '',\n      totalplan: 0,\n      loadMorebutton: 0,\n      loadMoreEnable: false,\n      packageId: '',\n      packagePoints: 0,\n      promo_id: '',\n      promo_points: 0,\n      packageAmout: '0.00',\n      promo_code: '',\n      promo_error: '',\n      promo_sucess: '',\n      totalPoints: 0,\n      userAvailablepoints: cookie.load(\"UserPoints\"),\n      palnUseremail: cookie.load(\"UserEmail\"),\n      user_token: cookie.load('UserAuthToken'),\n      errors: {},\n      showload: false,\n      modalPayment: '',\n      cartVaild: 0,\n      transcationtVaild: 0,\n      transCompVaild: 0,\n      appliedPromo: 0,\n      loadmoreBut: 0,\n      package_price_type: {\n        value: '1',\n        label: 'Price In SGD'\n      },\n      packageFinalSymbol: 'S$',\n      getstripeCurrency: 'SGD',\n      showqrcode: 1,\n      modalQRcode: false,\n      repeatMode: 1,\n      cpatureMode: 1,\n      submitpoints: 0,\n      promo_percentage: ''\n    };\n    _this.loadMoreoption = _this.loadMoreoption.bind(_assertThisInitialized(_this));\n    _this.setpackagePlan = _this.setpackagePlan.bind(_assertThisInitialized(_this));\n    _this.promotionFormSubmit = _this.promotionFormSubmit.bind(_assertThisInitialized(_this));\n    _this.handleInputChange = _this.handleInputChange.bind(_assertThisInitialized(_this));\n    _this.togglePaymentProcess = _this.togglePaymentProcess.bind(_assertThisInitialized(_this));\n    _this.toggleQRcode = _this.toggleQRcode.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Buypoints, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.title = PageTitle('Buypoints');\n\n      if (!cookie.load('UserAuthToken')) {\n        window.location.href = \"/login\";\n      }\n\n      this.props.getTopupPlan();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(Props) {\n      if (Object.keys(Props.topupplans).length > 0) {\n        if (Props.topupplans[0]['status'] === 'success') {\n          this.setState({\n            purchase_point_package: Props.topupplans[0]['result_set'],\n            loadMorebut: 'View all plan',\n            toatalPlan: Props.topupplans[0].total_records\n          });\n          var totalrecords = Props.topupplans[0].total_records;\n          var limit = this.state.defaultLimit;\n\n          if (totalrecords > limit) {\n            this.setState({\n              loadMoreEnable: true\n            });\n          } else {\n            this.setState({\n              loadMoreEnable: false\n            });\n          }\n          /*if(Props.topupplans[0].total_records > this.state.defaultLimit) {\n          \tthis.setState({loadMorebutton: 2});\n          }else{\n          \tthis.setState({loadMorebutton: 1});\n          }*/\n\n        }\n      }\n\n      if (Object.keys(Props.promotionValues).length > 0) {\n        if (Props.promotionValues[0]['status'] === 'success') {\n          parseInt(this.state.packagePoints) * Props.promotionValues[0]['promo_percentage'] / 100;\n          var current = this;\n          this.setState({\n            promo_sucess: Props.promotionValues[0]['message'],\n            //promo_points:Props.promotionValues[0]['promo_ponits'],\n            promo_points: parseInt(current.state.packagePoints) * Props.promotionValues[0]['promo_percentage'] / 100,\n            promo_percentage: Props.promotionValues[0]['promo_percentage'],\n            promo_id: Props.promotionValues[0]['promo_id'],\n            appliedPromo: 1\n          });\n          setTimeout(function () {\n            this.setState({\n              promo_sucess: ''\n            });\n          }.bind(this), 3000);\n          cookie.save('promo_code', Props.promotionValues[0]['promo_code']);\n        } else {\n          this.setState(function (prevState) {\n            return {\n              showload: false\n            };\n          });\n          this.setState({\n            promo_error: Props.promotionValues[0]['message'],\n            promo_code: '',\n            promo_points: '',\n            promo_percentage: ''\n          });\n          setTimeout(function () {\n            this.setState({\n              promo_error: ''\n            });\n          }.bind(this), 3000);\n        }\n      }\n\n      if (Object.keys(Props.stripontokenValues).length > 0) {\n        if (Props.stripontokenValues[0].status === \"ok\") {\n          var captureID = Props.stripontokenValues[0].result_set['payment_reference_1'];\n\n          if (this.state.repeatMode === 1) {\n            this.postOrder(3, captureID, 'Stripe');\n          }\n\n          this.setState({\n            cartVaild: 1\n          });\n        } else if (Props.stripontokenValues['status'] === \"error\") {\n          $('.payment_errors').html('<span class=\"alert alert_danger\">Error code: 1001 Oops! Something went wrong! Please try again</span>');\n          setTimeout(function () {\n            $('.payment_errors').html('');\n          }, 3000);\n          return false;\n        }\n      }\n\n      if (Object.keys(Props.topuppointsValues).length > 0) {\n        if (Props.topuppointsValues[0].status === \"ok\") {\n          var localOrderNo = Props.topuppointsValues[0].transaction_ref_id;\n          var payGetWayType = 'Stripe';\n          /* capture payemnt */\n\n          if (payGetWayType === \"Stripe\" && this.state.cpatureMode === 1) {\n            this.captureAmount(captureID, Props.topuppointsValues[0].transaction_primary_id, localOrderNo);\n          }\n\n          cookie.save(\"transcation_primary_id\", Props.topuppointsValues[0].transaction_primary_id);\n          this.setState({\n            transcationtVaild: 1\n          });\n        } else if (Props.topuppointsValues['status'] === \"error\") {\n          $('.payment_errors').html('<span class=\"alert alert_danger\">Your transcation was not successful</span>');\n          setTimeout(function () {\n            $('.payment_errors').html('');\n          }, 3000);\n        }\n      }\n\n      if (Object.keys(Props.captureAmountres).length > 0) {\n        if (Props.captureAmountres[0].status === \"ok\") {\n          this.setState({\n            transCompVaild: 1\n          });\n\n          if (this.state.submitpoints == 0) {\n            this.topuppromotion();\n          }\n\n          ;\n        } else if (Props.captureAmountres['status'] === \"error\") {\n          $('.payment_errors').html('<span class=\"alert alert_danger\">Your transcation was not successful</span>');\n          setTimeout(function () {\n            $('.payment_errors').html('');\n          }, 3000);\n        } else {\n          $('.payment_errors').html('<span class=\"alert alert_danger\">Your transcation was not successful</span>');\n          setTimeout(function () {\n            $('.payment_errors').html('');\n          }, 3000);\n        }\n      }\n\n      if (Object.keys(Props.submitsystempoints).length > 0) {\n        if (Props.submitsystempoints[0].status === \"ok\") {\n          if (this.state.appliedPromo !== 1) {\n            cookie.save('promo_code', '');\n          }\n\n          window.location.href = \"/thank-you\";\n        } else {\n          $('.payment_errors').html('<span class=\"alert alert_danger\">Your transcation was not successful</span>');\n          setTimeout(function () {\n            $('.payment_errors').html('');\n          }, 3000);\n        }\n      }\n    }\n  }, {\n    key: \"toggleQRcode\",\n    value: function toggleQRcode() {\n      this.setState(function (prevState) {\n        return {\n          modalQRcode: !prevState.modalQRcode\n        };\n      });\n    }\n  }, {\n    key: \"togglePaymentProcess\",\n    value: function togglePaymentProcess() {\n      this.setState(function (prevState) {\n        return {\n          modalPayment: !prevState.modalPayment\n        };\n      });\n    }\n  }, {\n    key: \"handleSelectChange\",\n    value: function handleSelectChange(option, actionMeta) {\n      this.setState(_defineProperty({}, actionMeta.name, option));\n      var PlanSym = '';\n\n      if (this.state.package_price_type.value == 2) {\n        PlanSym = 'S$';\n      } else if (this.state.package_price_type.value == 1) {\n        PlanSym = '$';\n      }\n\n      this.setState({\n        packageId: '',\n        packagePoints: 0,\n        packageAmout: '0.00',\n        packageFinalSymbol: PlanSym\n      });\n      $(\".package_plan_radio\").prop(\"checked\", false);\n    }\n  }, {\n    key: \"setpackagePlan\",\n    value: function setpackagePlan(selectedPlan) {\n      var pricePlanType = '';\n      var pricePlanSym = '';\n      var getstripeCurrency = 'SGD';\n\n      if (this.state.package_price_type.value === 2) {\n        pricePlanType = selectedPlan.topup_amount_usd;\n        pricePlanSym = '$';\n        getstripeCurrency = 'USD';\n      } else {\n        pricePlanType = selectedPlan.topup_amount_sgd;\n        pricePlanSym = 'S$';\n        getstripeCurrency = 'SGD';\n      }\n\n      this.setState({\n        packageId: selectedPlan.topup_id,\n        packagePoints: selectedPlan.topup_points,\n        packageAmout: parseFloat(pricePlanType).toFixed(2),\n        packageFinalSymbol: pricePlanSym,\n        getstripeCurrency: getstripeCurrency\n      });\n    }\n  }, {\n    key: \"loadMoreoption\",\n    value: function loadMoreoption() {\n      var currentLimit = this.state.defaultLimit;\n      var ingrementVal = currentLimit + 4;\n      this.setState({\n        defaultLimit: ingrementVal,\n        loadmoreBut: 1,\n        loadMorebut: 'Please wait...'\n      }, function () {\n        this.props.getTopupPlan();\n      });\n    }\n  }, {\n    key: \"handleInputChange\",\n    value: function handleInputChange(event) {\n      this.setState({\n        promo_code: event.target.value,\n        errors: ''\n      });\n    }\n  }, {\n    key: \"promotionFormSubmit\",\n    value: function promotionFormSubmit() {\n      this.setState(function (prevState) {\n        return {\n          showload: !prevState.showload\n        };\n      });\n\n      if (this.validateForm()) {\n        var qs = require('qs');\n\n        var postObject = {\n          \"app_name\": appName,\n          \"promo_code\": this.state.promo_code,\n          \"user_token\": this.state.user_token\n        };\n        this.props.applyPromotion(qs.stringify(postObject));\n      } else {\n        setTimeout(function () {\n          this.setState({\n            errors: ''\n          });\n          this.setState(function (prevState) {\n            return {\n              showload: false\n            };\n          });\n        }.bind(this), 3000);\n      }\n    }\n  }, {\n    key: \"validateForm\",\n    value: function validateForm() {\n      var promo_code = this.state.promo_code;\n      var errors = {};\n      var formIsValid = true;\n\n      if (!promo_code) {\n        formIsValid = false;\n        $('.promoerror').html('<span class=\"errorspan\">Please enter your promocode</span>');\n      } else if (promo_code !== '') {\n        $('.promoerror').html('');\n      }\n\n      this.setState({\n        errors: errors\n      });\n      return formIsValid;\n    }\n  }, {\n    key: \"choosePackage\",\n    value: function choosePackage() {\n      $('.payment_package_errors').html('<span class=\"alert alert_danger\">Please select your package first.</span>');\n      setTimeout(function () {\n        $('.payment_package_errors').html('');\n      }, 10000);\n    }\n    /* post stripe account */\n\n  }, {\n    key: \"postOrder\",\n\n    /* this fuction used to post order to biz panel */\n    value: function postOrder(paymentMode) {\n      var captureID = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var payGetWayType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n      var Paymentpop = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'No';\n      var currentUserAuthToken = cookie.load('UserAuthToken');\n\n      if (currentUserAuthToken === '' || currentUserAuthToken === undefined) {\n        window.location.href = \"/\";\n      }\n\n      var qs = require('qs');\n\n      var postObject = {};\n      postObject = {\n        /* cart details */\n        'app_name': appName,\n        'transaction_topup_id': this.state.packageId,\n        'transaction_promo_id': this.state.promo_id,\n        'transaction_user_Token': currentUserAuthToken,\n        'transaction_payment_mode': paymentMode,\n        'transaction_payment_type': payGetWayType,\n        'transaction_currency': this.state.getstripeCurrency,\n        \"transaction_amount\": parseFloat(this.state.packageAmout).toFixed(2),\n        \"transaction_payment_status\": '',\n        \"transaction_percentage\": this.state.promo_percentage,\n        \"transaction_points\": this.state.packagePoints,\n        \"transaction_promo_points\": this.state.promo_points,\n        \"transaction_order_source\": 'Web',\n        \"transaction_payment_getway_status\": 'Yes'\n      };\n      this.setState({\n        repeatMode: 2\n      });\n      this.props.topupPoints(qs.stringify(postObject));\n    }\n    /* Capture amount */\n\n  }, {\n    key: \"captureAmount\",\n    value: function captureAmount(captureID, orderPrimaryId, localOrderNo) {\n      var captureObjects = {};\n\n      var qs = require('qs'); //console.log(parseInt(this.state.promo_percentage))\n\n\n      var Paidtotal_points = parseInt(this.state.packagePoints) + parseInt(this.state.packagePoints) * this.state.promo_percentage / 100; //var Paidtotal_points = (parseInt(this.state.packagePoints)+parseInt(this.state.promo_points));\n\n      captureObjects = {\n        payment_reference: 'geniehut',\n        stripe_envir: stripeEnvir,\n        \"customer_token\": cookie.load('UserAuthToken'),\n        'token': captureID,\n        'transaction_id': orderPrimaryId,\n        'app_name': appName,\n        'paid_total_points': Paidtotal_points\n      };\n      this.setState({\n        cpatureMode: 2\n      });\n      this.props.capturePaymentAmount(qs.stringify(captureObjects));\n    }\n  }, {\n    key: \"topuppromotion\",\n    value: function topuppromotion() {\n      var PointpostObject = {};\n\n      var qs = require('qs');\n\n      PointpostObject = {\n        /* cart details */\n        'app_name': appName,\n        'trans_user_token': cookie.load('UserAuthToken'),\n        \"trans_points\": this.state.packagePoints,\n        \"trans_promo_points\": this.state.promo_points,\n        \"trans_type\": 'topup',\n        \"trans_action\": 'A'\n      };\n      this.setState({\n        submitpoints: 1\n      });\n      this.props.getSubmitPointsystem(qs.stringify(PointpostObject));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      //console.log(this.state.promo_points)\n      var qrcodeimg = React.createElement(\"span\", {\n        className: \"qrcode_img_tag\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: qrcodepay,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458\n        },\n        __self: this\n      }));\n      var point_packages = '';\n\n      if (this.state.purchase_point_package.length === 1) {\n        point_packages = React.createElement(FormGroup, {\n          check: true,\n          className: \"custom_checkbox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 464\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"points\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 465\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 466\n          },\n          __self: this\n        }, \"There is no points plan\")));\n      } else {\n        var thisVal = this;\n        var recommendedPlan = '';\n        var pricePlanType = '';\n        var pricePlanSym = '';\n        point_packages = React.createElement(\"div\", {\n          className: \"toatalPackes\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 476\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"pkg_price_field\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 477\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          htmlFor: \"propertiesfor\",\n          className: \"star\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 478\n          },\n          __self: this\n        }, \"Package Price On\"), React.createElement(Select, {\n          options: package_price,\n          name: \"package_price_type\",\n          id: \"package_price_type\",\n          Value: this.state.package_price_type,\n          defaultValue: this.state.package_price_type,\n          onChange: this.handleSelectChange.bind(this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 479\n          },\n          __self: this\n        })), this.state.purchase_point_package.map(function (item, index) {\n          if (item.topup_recommended === 1) {\n            recommendedPlan = 'custom_checkbox recommended';\n          } else {\n            recommendedPlan = 'custom_checkbox packagelist';\n          }\n\n          if (thisVal.state.package_price_type.value == 2) {\n            pricePlanType = parseFloat(item.topup_amount_usd).toFixed(2);\n            pricePlanSym = '$';\n          } else {\n            pricePlanType = parseFloat(item.topup_amount_sgd).toFixed(2);\n            pricePlanSym = 'S$';\n          }\n\n          return React.createElement(FormGroup, {\n            check: true,\n            className: recommendedPlan,\n            key: item.topup_id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 498\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: \"points packages\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 499\n            },\n            __self: this\n          }, React.createElement(\"input\", {\n            type: \"radio\",\n            name: \"package_plan\",\n            id: item.topup_id,\n            value: \"1\",\n            className: \"package_plan_radio\",\n            onClick: thisVal.setpackagePlan.bind(thisVal, item),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 500\n            },\n            __self: this\n          }), React.createElement(Label, {\n            for: \"exampleCheck\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 501\n            },\n            __self: this\n          }, item.topup_title)), React.createElement(\"span\", {\n            className: \"cs top_plan_title\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 503\n            },\n            __self: this\n          }, item.topup_points, \" Points\"), React.createElement(\"span\", {\n            className: \"rs\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 504\n            },\n            __self: this\n          }, pricePlanSym, \" \", pricePlanType));\n        }));\n      }\n\n      {\n        /*let loadMorebutton = '';\n        \t\tif(this.state.loadMorebutton === 1){\n        \n        loadMorebutton = <div className=\"view_planlink text-center\">\n        \t\t\t\t\t<a href=\"javascript:void(0)\" title=\"View all plants\" onClick={this.loadMoreoption}>{this.state.loadMorebut}<i className=\"fa fa-angle-down\"></i></a>\n        \t\t\t\t</div>\n        }else{\n        loadMorebutton = '';\n        }*/\n      }\n      var toatalPackagepoints = 0;\n\n      if (this.state.promo_points > 0) {\n        //toatalPackagepoints  = (parseInt(this.state.promo_points) + parseInt(this.state.packagePoints));\n        toatalPackagepoints = parseInt(this.state.packagePoints) + parseInt(this.state.packagePoints) * this.state.promo_percentage / 100;\n      } else {\n        toatalPackagepoints = this.state.packagePoints;\n      }\n\n      var cartVaildinfo = '';\n\n      if (this.state.cartVaild === 1) {\n        cartVaildinfo = React.createElement(\"div\", {\n          className: \"card_information process_list pay_processed\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 540\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"process_icon\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 541\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: tick,\n          alt: \"logo\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 542\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"process_rslt\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 544\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 545\n          },\n          __self: this\n        }, \"Processed\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 546\n          },\n          __self: this\n        }, \"Validating card information\")));\n      } else {\n        cartVaildinfo = React.createElement(\"div\", {\n          className: \"card_information process_list\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 552\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"process_icon\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 553\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: loading,\n          alt: \"logo\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 554\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"process_rslt\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 556\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 557\n          },\n          __self: this\n        }, \"Processing\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 558\n          },\n          __self: this\n        }, \"Validating card information\")));\n      }\n\n      var transcationtVaildinfo = '';\n\n      if (this.state.transcationtVaild) {\n        transcationtVaildinfo = React.createElement(\"div\", {\n          className: \"process_list pay_processed\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 569\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"process_icon\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 570\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: tick,\n          alt: \"logo\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 571\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"process_rslt\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 573\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 574\n          },\n          __self: this\n        }, \"Processed\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 575\n          },\n          __self: this\n        }, \"Placing your transaction now\")));\n      } else {\n        transcationtVaildinfo = React.createElement(\"div\", {\n          className: \"process_list\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 581\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"process_icon\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 582\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: loading,\n          alt: \"logo\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 583\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"process_rslt\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 585\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 586\n          },\n          __self: this\n        }, \"Processing\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 587\n          },\n          __self: this\n        }, \"Placing your transaction now\")));\n      }\n\n      var transCompVaildinfo = '';\n\n      if (this.state.transCompVaild === 1) {\n        transCompVaildinfo = React.createElement(\"div\", {\n          className: \"process_list pay_processed\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 597\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"process_icon\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 598\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: tick,\n          alt: \"logo\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 599\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"process_rslt\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 601\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 602\n          },\n          __self: this\n        }, \"Processed\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 603\n          },\n          __self: this\n        }, \"Completing your online payment\")));\n      } else {\n        transCompVaildinfo = React.createElement(\"div\", {\n          className: \"process_list\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 609\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"process_icon\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 610\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: loading,\n          alt: \"logo\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 611\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"process_rslt\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 613\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 614\n          },\n          __self: this\n        }, \"Processing\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 615\n          },\n          __self: this\n        }, \"Completing your online payment\")));\n      }\n\n      var submitBut = '';\n\n      if (this.state.packageId !== '') {\n        submitBut = React.createElement(StripeCheckout, {\n          name: \"geniehut\",\n          image: Logo,\n          description: \"User topup plan\",\n          token: this.onToken,\n          stripeKey: stripeKey,\n          amount: this.state.packageAmout * 100,\n          email: this.state.palnUseremail,\n          currency: this.state.getstripeCurrency,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 624\n          },\n          __self: this\n        }, React.createElement(Button, {\n          className: \"frm-btn btn animate-btn2 btn_green\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 624\n          },\n          __self: this\n        }, \"Pay Now\"));\n      } else {\n        submitBut = React.createElement(Button, {\n          className: \"frm-btn btn animate-btn2 btn_green\",\n          onClick: this.choosePackage.bind(this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 626\n          },\n          __self: this\n        }, \"Pay Now\");\n      }\n\n      return React.createElement(\"div\", {\n        className: \"Homepage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 630\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 631\n        },\n        __self: this\n      }), React.createElement(SecondaryHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 632\n        },\n        __self: this\n      }), React.createElement(Container, {\n        className: \"Plan_purchase\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 633\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"Plan_select_sect\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 635\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"plan_desc text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 637\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 638\n        },\n        __self: this\n      }, \"Plans for purchase points\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 639\n        },\n        __self: this\n      }, \"Purchase GH points with our attractive packages using credit cards.\"), React.createElement(\"div\", {\n        className: \"avail_points\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 640\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 641\n        },\n        __self: this\n      }, \"Available Points: \", React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 641\n        },\n        __self: this\n      }, this.state.userAvailablepoints)))), React.createElement(\"div\", {\n        className: \"gh_points_Plann_sec\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 645\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 646\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 647\n        },\n        __self: this\n      }), React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 678\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"plan_select\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 679\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 680\n        },\n        __self: this\n      }, \"Select Plan\"), React.createElement(\"div\", {\n        className: \"payment_package_errors\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 681\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"plan_list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 682\n        },\n        __self: this\n      }, point_packages, React.createElement(\"div\", {\n        className: \"view_planlink text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 684\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"javascript:void(0)\",\n        title: \"View all plants\",\n        onClick: this.loadMoreoption,\n        style: {\n          display: this.state.loadMoreEnable === false ? 'none' : ''\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 685\n        },\n        __self: this\n      }, this.state.loadMorebut, React.createElement(\"i\", {\n        className: \"fa fa-angle-down\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 685\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"apply_promosec\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 688\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"agent_login\",\n        id: \"agent_login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 689\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"promoerror\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 690\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"promo_error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 691\n        },\n        __self: this\n      }, this.state.promo_error), React.createElement(\"div\", {\n        className: \"promo_sucess\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 692\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 692\n        },\n        __self: this\n      }, this.state.promo_sucess)), React.createElement(FormGroup, {\n        className: \"apply_promorow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 693\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"promocode\",\n        className: \"star\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 694\n        },\n        __self: this\n      }, \"Apply Promo Code\"), React.createElement(\"div\", {\n        class: \"promo-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 695\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        name: \"promo_code\",\n        id: \"promo_code\",\n        placeholder: \"Enter Promo Code\",\n        value: this.state.promo_code,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 696\n        },\n        __self: this\n      }), React.createElement(Button, {\n        className: \"frm-btn btn animate-btn2 btn_blue\",\n        onClick: this.promotionFormSubmit.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 697\n        },\n        __self: this\n      }, \"Apply\", React.createElement(\"span\", {\n        className: this.state.showload ? \"show\" : \"hide\",\n        id: \"load_icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 698\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 698\n        },\n        __self: this\n      })))))), React.createElement(\"p\", {\n        className: \"total_amt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 703\n        },\n        __self: this\n      }, \"Package points : \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 703\n        },\n        __self: this\n      }, this.state.packagePoints)), this.state.appliedPromo === 1 ? React.createElement(\"p\", {\n        className: \"total_amt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 704\n        },\n        __self: this\n      }, \"Promotion % : \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 704\n        },\n        __self: this\n      }, this.state.promo_percentage, \" %\")) : '', React.createElement(\"p\", {\n        className: \"total_amt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 705\n        },\n        __self: this\n      }, \"Total points : \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 705\n        },\n        __self: this\n      }, toatalPackagepoints)), React.createElement(\"p\", {\n        className: \"total_amt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 706\n        },\n        __self: this\n      }, \"Total Amount : \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 706\n        },\n        __self: this\n      }, this.state.packageFinalSymbol, \" \", this.state.packageAmout)), React.createElement(FormGroup, {\n        className: \"buy_btn text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 707\n        },\n        __self: this\n      }, submitBut))))))))), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 724\n        },\n        __self: this\n      }), React.createElement(ModalPopup, {\n        modal: this.state.modalPayment,\n        toggle: this.togglePaymentProcess,\n        className: \"paymentProcess_popup\",\n        title: \"We Are Processing Your Transcation\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 725\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"payment_errors\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 726\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"payment_process_sec\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 727\n        },\n        __self: this\n      }, cartVaildinfo, transcationtVaildinfo, transCompVaildinfo)), React.createElement(ModalPopup, {\n        className: \"QRcodePay\",\n        title: \"QR Code Payment\",\n        id: \"QRcodePay\",\n        modal: this.state.modalQRcode,\n        toggle: this.toggleQRcode,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 735\n        },\n        __self: this\n      }, qrcodeimg));\n    }\n  }]);\n\n  return Buypoints;\n}(Component);\n\nvar mapStateTopProps = function mapStateTopProps(state) {\n  return {\n    topupplans: state.buypoints,\n    promotionValues: state.applypromotion,\n    stripontokenValues: state.stripontoken,\n    topuppointsValues: state.topuppoints,\n    captureAmountres: state.captureamount,\n    submitsystempoints: state.submitsystempoints\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getTopupPlan: function getTopupPlan() {\n      dispatch({\n        type: GET_TOPUPPLAN\n      });\n    },\n    applyPromotion: function applyPromotion(formPayload) {\n      dispatch({\n        type: GET_APPLYPROMOTION,\n        formPayload: formPayload\n      });\n    },\n    striponToken: function striponToken(formPayload) {\n      dispatch({\n        type: GET_STRIPONTOKEN,\n        formPayload: formPayload\n      });\n    },\n    topupPoints: function topupPoints(formPayload) {\n      dispatch({\n        type: GET_TOPUPPOINTS,\n        formPayload: formPayload\n      });\n    },\n    capturePaymentAmount: function capturePaymentAmount(formPayload) {\n      dispatch({\n        type: GET_CAPTUREAMOUNT,\n        formPayload: formPayload\n      });\n    },\n    getSubmitPointsystem: function getSubmitPointsystem(formPayload) {\n      dispatch({\n        type: GET_SUBMITPOINTSYSTEM,\n        formPayload: formPayload\n      });\n    }\n  };\n};\n\nexport default connect(mapStateTopProps, mapDispatchToProps)(withRouter(Buypoints));","map":{"version":3,"sources":["D:/text video/geniehut-Geni-App-Code/geniehut-Geni-App-Code/front-end/src/components/Buypoints/Buypoints.js"],"names":["React","Component","Container","Col","Row","Button","FormGroup","Label","Input","Header","Footer","SecondaryHeader","ModalPopup","qrcodepay","Logo","loading","tick","$","PageTitle","Select","cookie","connect","withRouter","StripeCheckout","appName","stripeKey","stripeEnvir","GET_TOPUPPLAN","GET_APPLYPROMOTION","GET_STRIPONTOKEN","GET_TOPUPPOINTS","GET_CAPTUREAMOUNT","GET_SUBMITPOINTSYSTEM","package_price","value","label","Buypoints","props","onToken","token","payAmount","parseFloat","state","packageAmout","toFixed","qs","require","postObject","id","user_token","load","togglePaymentProcess","striponToken","stringify","purchase_point_package","defaultLimit","loadMorebut","totalplan","loadMorebutton","loadMoreEnable","packageId","packagePoints","promo_id","promo_points","promo_code","promo_error","promo_sucess","totalPoints","userAvailablepoints","palnUseremail","errors","showload","modalPayment","cartVaild","transcationtVaild","transCompVaild","appliedPromo","loadmoreBut","package_price_type","packageFinalSymbol","getstripeCurrency","showqrcode","modalQRcode","repeatMode","cpatureMode","submitpoints","promo_percentage","loadMoreoption","bind","setpackagePlan","promotionFormSubmit","handleInputChange","toggleQRcode","document","title","window","location","href","getTopupPlan","Props","Object","keys","topupplans","length","setState","toatalPlan","total_records","totalrecords","limit","promotionValues","parseInt","current","setTimeout","save","prevState","stripontokenValues","status","captureID","result_set","postOrder","html","topuppointsValues","localOrderNo","transaction_ref_id","payGetWayType","captureAmount","transaction_primary_id","captureAmountres","topuppromotion","submitsystempoints","option","actionMeta","name","PlanSym","prop","selectedPlan","pricePlanType","pricePlanSym","topup_amount_usd","topup_amount_sgd","topup_id","topup_points","currentLimit","ingrementVal","event","target","validateForm","applyPromotion","formIsValid","paymentMode","Paymentpop","currentUserAuthToken","undefined","topupPoints","orderPrimaryId","captureObjects","Paidtotal_points","payment_reference","stripe_envir","capturePaymentAmount","PointpostObject","getSubmitPointsystem","qrcodeimg","point_packages","thisVal","recommendedPlan","handleSelectChange","map","item","index","topup_recommended","topup_title","toatalPackagepoints","cartVaildinfo","transcationtVaildinfo","transCompVaildinfo","submitBut","choosePackage","display","mapStateTopProps","buypoints","applypromotion","stripontoken","topuppoints","captureamount","mapDispatchToProps","dispatch","type","formPayload"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport React, { Component } from 'react';\nimport {Container, Col, Row, Button, FormGroup, Label, Input } from 'reactstrap';\nimport Header from '../Layout/Header';\nimport Footer from '../Layout/Footer';\nimport SecondaryHeader from '../Layout/SecondaryHeader';\nimport ModalPopup from '../Layout/ModalPopup';\nimport qrcodepay from \"../../common/images/qrcodepay.png\";\nimport Logo from \"../../common/images/icons.png\";\nimport loading from \"../../common/images/loading_popup.gif\";\nimport tick from \"../../common/images/tick_popup.png\";\nimport $ from 'jquery';\nimport {\n  PageTitle\n} from \"../Helpers/SettingHelper\";\nimport Select from 'react-select';\nimport cookie from 'react-cookies';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport StripeCheckout from 'react-stripe-checkout';\nimport { appName,stripeKey,stripeEnvir} from \"../Config/Config\";\n\nimport {GET_TOPUPPLAN,GET_APPLYPROMOTION,GET_STRIPONTOKEN,GET_TOPUPPOINTS,GET_CAPTUREAMOUNT, GET_SUBMITPOINTSYSTEM} from '../../actions';\n const package_price = [\n        { value: '1', label: 'Price In SGD' },\n\t    { value: '2', label: 'Price In USD' },\n      ];\nclass Buypoints extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tpurchase_point_package: [],\n\t\t\tdefaultLimit: 4,\n\t\t\tloadMorebut: '',\n\t\t\ttotalplan: 0,\n\t\t\tloadMorebutton:0,\n\t\t\tloadMoreEnable:false,\n\t\t\tpackageId: '',\n\t\t\tpackagePoints: 0,\n\t\t\tpromo_id: '',\n\t\t\tpromo_points: 0,\n\t\t\tpackageAmout: '0.00',\n\t\t\tpromo_code: '',\n\t\t\tpromo_error:'',\n\t\t\tpromo_sucess: '',\n\t\t\ttotalPoints: 0,\n\t\t\tuserAvailablepoints: cookie.load(\"UserPoints\"),\n\t\t\tpalnUseremail: cookie.load(\"UserEmail\"),\n\t\t\tuser_token: cookie.load('UserAuthToken'),\n\t\t\terrors: {},\n\t\t\tshowload: false,\n\t\t\tmodalPayment: '',\n\t\t\tcartVaild: 0,\n\t\t\ttranscationtVaild: 0,\n\t\t\ttransCompVaild: 0,\n\t\t\tappliedPromo:0,\n\t\t\tloadmoreBut:0,\n\t\t\tpackage_price_type:{ value: '1', label: 'Price In SGD' },\n\t\t\tpackageFinalSymbol: 'S$',\n\t\t\tgetstripeCurrency:'SGD',\n\t\t\tshowqrcode:1,\n\t\t\tmodalQRcode:false,\n\t\t\trepeatMode: 1,\n\t\t\tcpatureMode: 1,\n\t\t\tsubmitpoints:0,\n\t\t\tpromo_percentage:''\n\t\t};\n\t\t\n\t\tthis.loadMoreoption = this.loadMoreoption.bind(this);\n\t\tthis.setpackagePlan = this.setpackagePlan.bind(this);\n\t\tthis.promotionFormSubmit = this.promotionFormSubmit.bind(this);\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\n\t\tthis.togglePaymentProcess = this.togglePaymentProcess.bind(this);\n\t\tthis.toggleQRcode = this.toggleQRcode.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\t document.title = PageTitle('Buypoints');  \n\t\tif(!cookie.load('UserAuthToken')){\n\t\t\twindow.location.href = \"/login\";\n\t\t}\n\t\tthis.props.getTopupPlan();\n\t}\n\t\n\tcomponentWillReceiveProps(Props) {\n\t\tif(Object.keys(Props.topupplans).length > 0){\n\t\t\tif(Props.topupplans[0]['status'] === 'success'){\n\t\t\t\tthis.setState({\n\t\t\t\t\tpurchase_point_package: Props.topupplans[0]['result_set'],\n\t\t\t\t\tloadMorebut: 'View all plan',\n\t\t\t\t\ttoatalPlan: Props.topupplans[0].total_records,\n\t\t\t\t});\n\n\t\t\t\tconst totalrecords =  Props.topupplans[0].total_records;\n                const limit =  this.state.defaultLimit;\n                if(totalrecords > limit) {\n                this.setState({loadMoreEnable:true});\n                }else {\n                this.setState({loadMoreEnable:false});\n                }\n\n\t\t\t\t/*if(Props.topupplans[0].total_records > this.state.defaultLimit) {\n\t\t\t\t\tthis.setState({loadMorebutton: 2});\n\t\t\t\t}else{\n\t\t\t\t\tthis.setState({loadMorebutton: 1});\n\t\t\t\t}*/\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(Object.keys(Props.promotionValues).length > 0){\n\t\t\tif(Props.promotionValues[0]['status'] === 'success'){\n\t\t\t\tparseInt(this.state.packagePoints) * Props.promotionValues[0]['promo_percentage']/100;\n\t\t\t\tlet current = this;\n\t\t\t\tthis.setState({\n\t\t\t\t\t\tpromo_sucess:Props.promotionValues[0]['message'],\n\t\t\t\t\t\t//promo_points:Props.promotionValues[0]['promo_ponits'],\n\t\t\t\t\t\tpromo_points:parseInt(current.state.packagePoints) * Props.promotionValues[0]['promo_percentage']/100,\n\t\t\t\t\t\tpromo_percentage:Props.promotionValues[0]['promo_percentage'],\n\t\t\t\t\t\tpromo_id:Props.promotionValues[0]['promo_id'],\n\t\t\t\t\t\tappliedPromo:1,\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\tsetTimeout(\n\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\tthis.setState({promo_sucess:''})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.bind(this),\n\t\t\t\t\t\t3000\n\t\t\t\t\t);\n\t\t\t\t\t\n\t\t\t\t\tcookie.save('promo_code',Props.promotionValues[0]['promo_code']);\n\t\t\t}else {\n\t\t\t\t\t\n\t\t\t\t\tthis.setState(prevState => ({\n\t\t\t\t\t\tshowload: false\n\t\t\t\t\t}));\n\t\t\t\t\t\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tpromo_error:Props.promotionValues[0]['message'],\n\t\t\t\t\t\tpromo_code: '',\n\t\t\t\t\t\tpromo_points: '',\n\t\t\t\t\t\tpromo_percentage: ''\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\tsetTimeout(\n\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\tthis.setState({promo_error:''})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.bind(this),\n\t\t\t\t\t\t3000\n\t\t\t\t\t);\n\t\t\t\t\t\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(Object.keys(Props.stripontokenValues).length > 0){\n\t\t\tif (Props.stripontokenValues[0].status === \"ok\") { \n\t\t\t\tvar captureID = Props.stripontokenValues[0].result_set['payment_reference_1'];\n\t\t\t\tif(this.state.repeatMode === 1){\n\t\t\t\t\tthis.postOrder(3,captureID, 'Stripe');\t\n\t\t\t\t}\n\t\t\t\tthis.setState({cartVaild:1});\n\t\t\t}else if (Props.stripontokenValues['status'] === \"error\") {\n\t\t\t\t$('.payment_errors').html('<span class=\"alert alert_danger\">Error code: 1001 Oops! Something went wrong! Please try again</span>');\n\t\t\t\t\n\t\t\t\tsetTimeout(function() { $('.payment_errors').html(''); },3000);\n\t\t\t\t\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(Object.keys(Props.topuppointsValues).length > 0){\n\t\t\tif (Props.topuppointsValues[0].status === \"ok\") {\n\t\t\t\tvar localOrderNo = Props.topuppointsValues[0].transaction_ref_id;\n\t\t\t\tvar payGetWayType = 'Stripe';\n\t\t\t\t/* capture payemnt */\n\t\t\t\tif (payGetWayType === \"Stripe\" && this.state.cpatureMode === 1) {\n\t\t\t\t\tthis.captureAmount(captureID, Props.topuppointsValues[0].transaction_primary_id, localOrderNo);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcookie.save(\"transcation_primary_id\",Props.topuppointsValues[0].transaction_primary_id);\n\t\t\t\t\n\t\t\t\tthis.setState({transcationtVaild:1});\n\t\t\t\t\n\t\t\t}else if (Props.topuppointsValues['status'] === \"error\") {\n\t\t\t\t$('.payment_errors').html('<span class=\"alert alert_danger\">Your transcation was not successful</span>');\n\t\t\t\t\n\t\t\t\tsetTimeout(function() { $('.payment_errors').html(''); },3000);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(Object.keys(Props.captureAmountres).length > 0){\n\t\t\t\n\t\t\tif (Props.captureAmountres[0].status === \"ok\") {\n\t\t\t\t\n\t\t\t\tthis.setState({transCompVaild:1});\n                \n\t\t\t\tif(this.state.submitpoints == 0){this.topuppromotion()};\n            }else if (Props.captureAmountres['status'] === \"error\") {\n\t\t\t\t\n\t\t\t\t$('.payment_errors').html('<span class=\"alert alert_danger\">Your transcation was not successful</span>');\n\t\t\t\t\n\t\t\t\tsetTimeout(function() { $('.payment_errors').html(''); },3000);\n\n            } else {\n                \n                $('.payment_errors').html('<span class=\"alert alert_danger\">Your transcation was not successful</span>');\n\t\t\t\t\n\t\t\t\tsetTimeout(function() { $('.payment_errors').html(''); },3000);\n\t\t\t\t\n            }\n\t\t\t\n\t\t}\n\n\t\tif(Object.keys(Props.submitsystempoints).length > 0){\n\t\t\t\n\t\t\tif (Props.submitsystempoints[0].status === \"ok\") {\n\t\t\t\tif(this.state.appliedPromo !== 1){\n\t\t\t\t\t\tcookie.save('promo_code','');\n\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\twindow.location.href = \"/thank-you\";\n                \n            }else{\n\t\t\t\t\t\t\n\t\t\t\t$('.payment_errors').html('<span class=\"alert alert_danger\">Your transcation was not successful</span>');\n\t\t\n\t\t\t\tsetTimeout(function() { $('.payment_errors').html(''); },3000);\t\t\t\t\t\n\t\t\t\t\n\t        }\n\t\t}\n\t}\n  \n\ttoggleQRcode() {\n\t\tthis.setState(prevState => ({\n\t\t\tmodalQRcode: !prevState.modalQRcode\n\t\t}));\n\t}\n\t\n\ttogglePaymentProcess() {\n\t\tthis.setState(prevState => ({\n\t\t\tmodalPayment: !prevState.modalPayment\n\t\t}));\n\t}\n\t\n\thandleSelectChange(option, actionMeta) {\n\t\tthis.setState({\n\t\t\t[actionMeta.name]: option,\n\t\t});\n\t\t\n\t\tvar PlanSym = '';\n\t\tif(this.state.package_price_type.value == 2){\n\t\t\tPlanSym = 'S$';\n\t\t}else if(this.state.package_price_type.value == 1){\n\t\t\tPlanSym = '$';\n\t\t}\n\t\tthis.setState({\n\t\t\tpackageId: '',\n\t\t\tpackagePoints: 0,\n\t\t\tpackageAmout: '0.00',\n\t\t\tpackageFinalSymbol: PlanSym,\n\t\t});\n\t\t\n\t\t$(\".package_plan_radio\").prop(\"checked\", false);\n\t}\n\t\n\tsetpackagePlan(selectedPlan){\n\t\t\n\t\tvar pricePlanType = '';\n\t\tvar pricePlanSym = '';\n\t\tvar getstripeCurrency ='SGD';\n\t\t\n\t\tif(this.state.package_price_type.value === 2){\n\t\t\tpricePlanType = selectedPlan.topup_amount_usd;\n\t\t\tpricePlanSym = '$';\n\t\t\tgetstripeCurrency = 'USD';\n\t\t}else{\n\t\t\tpricePlanType = selectedPlan.topup_amount_sgd;\n\t\t\tpricePlanSym = 'S$';\n\t\t\tgetstripeCurrency = 'SGD';\n\t\t}\n\t\t\n\t\tthis.setState({\n\t\t\tpackageId: selectedPlan.topup_id,\n\t\t\tpackagePoints: selectedPlan.topup_points,\n\t\t\tpackageAmout: parseFloat(pricePlanType).toFixed(2),\n\t\t\tpackageFinalSymbol: pricePlanSym,\n\t\t\tgetstripeCurrency:getstripeCurrency\n\t\t});\n\t\t\n\t}\n\t\n\tloadMoreoption(){\n\t\tlet currentLimit = this.state.defaultLimit;\n\t\tlet ingrementVal = currentLimit+4;\n\t\tthis.setState({defaultLimit:ingrementVal,loadmoreBut:1,loadMorebut:'Please wait...'},function(){this.props.getTopupPlan()});\n\t}\n\t\n\thandleInputChange(event){\n\t\tthis.setState({promo_code: event.target.value,errors:''});\n\t}\n\t\n\tpromotionFormSubmit(){\n\t\t\n\t\tthis.setState(prevState => ({\n\t\t\tshowload: !prevState.showload\n\t\t}));\n\t\t\n\t\tif(this.validateForm()){\n\t\t\t\n\t\t\tvar qs = require('qs');\n\t\t\t\n\t\t\tvar postObject = {\n\t\t\t\t\"app_name\":appName,\n\t\t\t\t\"promo_code\": this.state.promo_code,\n\t\t\t\t\"user_token\": this.state.user_token,\n\t\t\t};\n\t\t\t\n\t\t\tthis.props.applyPromotion(qs.stringify(postObject));\n\t\t\t\n\t\t}else{\n\t\t\t\n\t\t\tsetTimeout(\n\t\t\t\tfunction() {\n\t\t\t\t\tthis.setState({errors:''});\n\t\t\t\t\tthis.setState(prevState => ({\n\t\t\t\t\t\tshowload: false\n\t\t\t\t\t}));\n\t\t\t\t}.bind(this),3000\n\t\t\t);\n\t\t}\n\t\t\n\t}\n\t\n\tvalidateForm() {\n\t\t\n\t\tconst {promo_code} = this.state;\n\t\t\n\t\tlet errors = {};\n      \tlet formIsValid = true;\n\n\t\tif (!promo_code) {\n\t\t\tformIsValid = false;\n\t\t\t $('.promoerror').html('<span class=\"errorspan\">Please enter your promocode</span>');\n\t\t}else if(promo_code!==''){\n\t\t\t $('.promoerror').html('');\n\t\t}\n\t\t\n\t\tthis.setState({\n\t\t\terrors: errors\n\t\t});\n\n\t\treturn formIsValid;\n    }\n    \n    choosePackage(){\n\t\t\n\t\t$('.payment_package_errors').html('<span class=\"alert alert_danger\">Please select your package first.</span>');\n\t\t\t\t\n\t\tsetTimeout(function() { $('.payment_package_errors').html(''); },10000);\n\t}\n\t\n\t/* post stripe account */\n    onToken = (token) => {\n\t\t\n\t\tvar payAmount = parseFloat(this.state.packageAmout).toFixed(2);\n\t\tvar qs = require('qs');\n\t\t\n        /*  load process html */\n        var postObject = {};\n        postObject = {\n            'app_name': appName,\n            'token': token.id,\n            'userToken' : this.state.user_token,\n            'stripe_envir': stripeEnvir,\n            'stripe_key': stripeKey,\n            \"user_id\": cookie.load('UserId'),\n            \"paid_amount\": payAmount,\n            \"payment_reference\": 'Geniehut',\n            \n        }\n        \n\t\tthis.togglePaymentProcess();\n\t\tthis.props.striponToken(qs.stringify(postObject));\n       \n  }\n  \n  /* this fuction used to post order to biz panel */\n    postOrder(paymentMode, captureID = '', payGetWayType = '',Paymentpop = 'No') {\n\t\t\n\t\tlet currentUserAuthToken = cookie.load('UserAuthToken');\n\t\t\n        if (currentUserAuthToken === '' || currentUserAuthToken === undefined) {\n            window.location.href = \"/\";\n        }\n        var qs = require('qs')\n        \n        var postObject = {};\n        postObject = {\n            /* cart details */\n            'app_name': appName,\n            'transaction_topup_id': this.state.packageId,\n            'transaction_promo_id': this.state.promo_id,\n            'transaction_user_Token': currentUserAuthToken, \n            'transaction_payment_mode': paymentMode,\n            'transaction_payment_type': payGetWayType,\n            'transaction_currency': this.state.getstripeCurrency,\n            \"transaction_amount\": parseFloat(this.state.packageAmout).toFixed(2),\n            \"transaction_payment_status\": '',\n            \"transaction_percentage\": this.state.promo_percentage,\n            \"transaction_points\": this.state.packagePoints,\n            \"transaction_promo_points\": this.state.promo_points,\n            \"transaction_order_source\": 'Web',\n            \"transaction_payment_getway_status\": 'Yes',\n        }\n        this.setState({ repeatMode : 2})\n        this.props.topupPoints(qs.stringify(postObject));\n\t}\n\t\n\t\n\t/* Capture amount */\n    captureAmount(captureID, orderPrimaryId, localOrderNo) {\n\n        var captureObjects = {};\n        \n        var qs = require('qs')\n        \n    \t//console.log(parseInt(this.state.promo_percentage))\n    \tvar Paidtotal_points = parseInt(this.state.packagePoints) + (parseInt(this.state.packagePoints) * this.state.promo_percentage)/100;\n\n        //var Paidtotal_points = (parseInt(this.state.packagePoints)+parseInt(this.state.promo_points));\n        \n        captureObjects = { payment_reference: 'geniehut', stripe_envir: stripeEnvir, \"customer_token\": cookie.load('UserAuthToken'),'token': captureID, 'transaction_id': orderPrimaryId ,'app_name': appName,'paid_total_points' : Paidtotal_points};\n\n         this.setState({ cpatureMode : 2})\n         this.props.capturePaymentAmount(qs.stringify(captureObjects));\n    }\n\n    topuppromotion(){\n    \t\tvar PointpostObject = {};\n            var qs = require('qs');\n                PointpostObject = {\n\t\t\t\t\t/* cart details */\n\t\t\t\t\t'app_name': appName,\n\t\t\t\t\t'trans_user_token': cookie.load('UserAuthToken'),\n\t\t\t\t\t\"trans_points\": this.state.packagePoints,\n\t\t\t\t\t\"trans_promo_points\": this.state.promo_points,\n\t\t\t\t\t\"trans_type\": 'topup',\n\t\t\t\t\t\"trans_action\": 'A',\n\t\t\t\t}\n\t\t\t\tthis.setState({submitpoints: 1})\n\t\tthis.props.getSubmitPointsystem(qs.stringify(PointpostObject));\n    }\n\n\trender() {\n\t\t//console.log(this.state.promo_points)\n\t\tlet qrcodeimg = <span className=\"qrcode_img_tag\"><img src={qrcodepay} alt=\"\" /></span>\n\t\t\n\t\tlet  point_packages = '';\n\t\t\n\t\tif(this.state.purchase_point_package.length===1){\n\t\t\t\n\t\t\tpoint_packages = <FormGroup check className=\"custom_checkbox\">\n\t\t\t\t\t\t\t<span className=\"points\">\n\t\t\t\t\t\t\t\t<p>There is no points plan</p>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</FormGroup>\n\t\t}else{\n\t\t\t\n\t\tlet thisVal = this;\n\t\tlet recommendedPlan = '';\n\t\tlet pricePlanType = '';\n\t\tlet pricePlanSym = '';\n\t\n\t\tpoint_packages = <div className= \"toatalPackes\">\n\t\t                <div className=\"pkg_price_field\">\n\t\t\t\t\t\t\t<label htmlFor=\"propertiesfor\"className=\"star\" >Package Price On</label>\n\t\t\t\t\t\t\t<Select options={package_price} name=\"package_price_type\" id=\"package_price_type\" Value={this.state.package_price_type} defaultValue={this.state.package_price_type} onChange={this.handleSelectChange.bind(this)} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.state.purchase_point_package.map(function(item,index) {\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif(item.topup_recommended === 1){\n\t\t\t\t\t\t\t\t\t\trecommendedPlan = 'custom_checkbox recommended';\n\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\trecommendedPlan = 'custom_checkbox packagelist';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif(thisVal.state.package_price_type.value == 2){\n\t\t\t\t\t\t\t\t\t\tpricePlanType = parseFloat(item.topup_amount_usd).toFixed(2);\n\t\t\t\t\t\t\t\t\t\tpricePlanSym = '$';\n\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\tpricePlanType = parseFloat(item.topup_amount_sgd).toFixed(2);\n\t\t\t\t\t\t\t\t\t\tpricePlanSym = 'S$';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\treturn  <FormGroup check className={recommendedPlan} key={item.topup_id}>\n\t\t\t\t\t\t\t\t\t\t<span className=\"points packages\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"package_plan\" id={item.topup_id} value=\"1\" className=\"package_plan_radio\" onClick={thisVal.setpackagePlan.bind(thisVal,item)}/>\n\t\t\t\t\t\t\t\t\t\t\t<Label for=\"exampleCheck\">{item.topup_title}</Label>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"cs top_plan_title\">{item.topup_points} Points</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"rs\">{pricePlanSym} {pricePlanType}</span>\n\t\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\n\t\t}\n\t\t\n\t\t{/*let loadMorebutton = '';\n\t\t\n\t\tif(this.state.loadMorebutton === 1){\n\t\t\t\n\t\t\tloadMorebutton = <div className=\"view_planlink text-center\">\n\t\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" title=\"View all plants\" onClick={this.loadMoreoption}>{this.state.loadMorebut}<i className=\"fa fa-angle-down\"></i></a>\n\t\t\t\t\t\t\t</div>\n\t\t}else{\n\t\t\tloadMorebutton = '';\n\t\t}*/}\t\t\n\t\tlet toatalPackagepoints = 0;\n\n\t\t\n\t\t\n\t\tif(this.state.promo_points > 0){\n\t\t\t\n\t\t\t//toatalPackagepoints  = (parseInt(this.state.promo_points) + parseInt(this.state.packagePoints));\n\t\t\ttoatalPackagepoints  =  parseInt(this.state.packagePoints) + (parseInt(this.state.packagePoints) * this.state.promo_percentage)/100;\n\t\t}else{\n\t\t\t\n\t\t\ttoatalPackagepoints = this.state.packagePoints;\n\t\t}\n\t\t\n\t\tlet cartVaildinfo = '';\n\n\t\tif(this.state.cartVaild === 1){\n\t\t\t\n\t\t\tcartVaildinfo = <div className=\"card_information process_list pay_processed\">\n\t\t\t\t\t\t\t\t<div className=\"process_icon\">\n\t\t\t\t\t\t\t\t\t<img src={tick} alt=\"logo\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"process_rslt\">\n\t\t\t\t\t\t\t\t\t<h4>Processed</h4>\n\t\t\t\t\t\t\t\t\t<p>Validating card information</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\n\t\t}else{\n\t\t\t\n\t\t\tcartVaildinfo = <div className=\"card_information process_list\">\n\t\t\t\t\t\t\t\t<div className=\"process_icon\">\n\t\t\t\t\t\t\t\t\t<img src={loading} alt=\"logo\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"process_rslt\">\n\t\t\t\t\t\t\t\t\t<h4>Processing</h4>\n\t\t\t\t\t\t\t\t\t<p>Validating card information</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\n\t\t}\t\n\n\n\t\tlet transcationtVaildinfo = '';\n\n\t\tif(this.state.transcationtVaild){\n\n\t\ttranscationtVaildinfo = <div className=\"process_list pay_processed\">\n\t\t\t\t\t\t\t\t<div className=\"process_icon\">\n\t\t\t\t\t\t\t\t\t<img src={tick} alt=\"logo\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"process_rslt\">\n\t\t\t\t\t\t\t\t\t<h4>Processed</h4>\n\t\t\t\t\t\t\t\t\t<p>Placing your transaction now</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t}else{\n\n\t\ttranscationtVaildinfo = <div className=\"process_list\">\n\t\t\t\t\t\t\t\t<div className=\"process_icon\">\n\t\t\t\t\t\t\t\t\t<img src={loading} alt=\"logo\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"process_rslt\">\n\t\t\t\t\t\t\t\t\t<h4>Processing</h4>\n\t\t\t\t\t\t\t\t\t<p>Placing your transaction now</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t}\n\n\n\t\tlet transCompVaildinfo = ''; \n\n\t\tif(this.state.transCompVaild === 1){\n\t\t\t\n\t\t\ttransCompVaildinfo =  <div className=\"process_list pay_processed\">\n\t\t\t\t\t\t\t\t\t<div className=\"process_icon\">\n\t\t\t\t\t\t\t\t\t\t<img src={tick} alt=\"logo\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"process_rslt\">\n\t\t\t\t\t\t\t\t\t\t<h4>Processed</h4>\n\t\t\t\t\t\t\t\t\t\t<p>Completing your online payment</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\n\t\t}else{\n\t\t\t\n\t\t\ttransCompVaildinfo =  <div className=\"process_list\">\n\t\t\t\t\t\t\t\t\t<div className=\"process_icon\">\n\t\t\t\t\t\t\t\t\t\t<img src={loading} alt=\"logo\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"process_rslt\">\n\t\t\t\t\t\t\t\t\t\t<h4>Processing</h4>\n\t\t\t\t\t\t\t\t\t\t<p>Completing your online payment</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\n\t\t}\n\n\t\tlet submitBut = '';\n\t\n\t\tif(this.state.packageId !== ''){\n\t\t\tsubmitBut = <StripeCheckout name=\"geniehut\" image={Logo} description=\"User topup plan\" token={this.onToken} stripeKey={stripeKey} amount={(this.state.packageAmout * 100)} email={this.state.palnUseremail} currency={this.state.getstripeCurrency} ><Button className=\"frm-btn btn animate-btn2 btn_green\">Pay Now</Button></StripeCheckout>\n\t\t}else{\n\t\t\tsubmitBut = <Button className=\"frm-btn btn animate-btn2 btn_green\" onClick={this.choosePackage.bind(this)}>Pay Now</Button>\n\t\t}\n\t\t\t\t\n\t\treturn (\n\t\t\t<div className=\"Homepage\">\n\t\t\t\t<Header/>\n\t\t\t\t <SecondaryHeader />\n\t\t\t\t\t<Container className=\"Plan_purchase\">\n\t\t\t\t\n\t\t\t\t<div className=\"Plan_select_sect\">\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"plan_desc text-center\">\n\t\t\t\t\t\t<h4>Plans for purchase points</h4>\n\t\t\t\t\t\t<p>Purchase GH points with our attractive packages using credit cards.</p>\n\t\t\t\t\t\t<div className=\"avail_points\">\n\t\t\t\t\t\t\t<span>Available Points: <b>{this.state.userAvailablepoints}</b></span>\n\t\t\t\t\t\t</div>\t\t\t\n\t\t\t\t\t</div>\t\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"gh_points_Plann_sec\">\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={6}> \n\t\t\t\t\t\t\t{/*<div className=\"abt_points\">\n\t\t\t\t\t\t\t\t<h4>About GH Points</h4>\n\t\t\t\t\t\t\t\t\t<p>For amount &gt; SGD 500, Paynow to Corporate 201710325K or scan QR code to transfer.</p>\n\t\t\t\t\t\t\t\t\t<p>Whatsapp (+65) 98256258 with the transfer proof and promotion code.</p>\n\t\t\t\t\t\t\t\t\t<p> Our customer serviceofficer credits your account based on SGD 1 = 100 GH points on top of the promotion code benefit for you.</p>\n\t\t\t\t\t\t\t\t\t<p>You can also earn GH points by</p>\n\t\t\t\t\t\t\t\t<ul className=\"abt_pointslist\">\n\t\t\t\t\t\t\t\t\t<li>Sharing your unqiue link to your friends</li>\n\t\t\t\t\t\t\t\t\t<li>Referral your friends to join Geniehut’s community</li>\n\t\t\t\t\t\t\t\t\t<li>Use Geniehut’s search engines to engage our service providers(“Clients”)</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<table className=\"table table-bordered\">\n\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<th>Awards</th>\n\t\t\t\t\t\t\t\t\t\t<th>Top up (SGD)</th>\n\t\t\t\t\t\t\t\t\t\t<th>Whatsapp (+65) 98256258<br/> proof of purchase and<br/> get 1 time bonus</th>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t<tr><td>Bronze</td><td>888</td><td>1,688</td></tr>\n\t\t\t\t\t\t\t\t\t<tr><td>Silver</td><td>1,688</td><td>3,888</td></tr>\n\t\t\t\t\t\t\t\t\t<tr><td>Gold</td><td>3,888</td><td>8,888</td></tr>\n\t\t\t\t\t\t\t\t\t<tr><td>Platimum</td><td>8,888</td><td>16,888</td></tr>\n\t\t\t\t\t\t\t\t\t<tr><td>Diamond</td><td>16,888</td><td>88,888</td></tr>\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t<Button className=\"frm-btn btn animate-btn2 btn_blue btn-align-center\" onClick={this.toggleQRcode.bind(this)}>QR Code Payment</Button>*/}\n\t\t\t\t\t\t\t</Col>\t\t\t   \n\t\t\t\t\t\t\t<Col md={12}> \n\t\t\t\t\t\t\t<div className=\"plan_select\">\n\t\t\t\t\t\t\t\t<h4>Select Plan</h4>\n\t\t\t\t\t\t\t\t<div className=\"payment_package_errors\"></div>\n\t\t\t\t\t\t\t\t<div className=\"plan_list\">\n\t\t\t\t\t\t\t\t\t{point_packages}\n\t\t\t\t\t\t\t\t\t<div className=\"view_planlink text-center\">\n\t\t\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" title=\"View all plants\" onClick={this.loadMoreoption} style={{display:(this.state.loadMoreEnable===false)?'none':''}}>{this.state.loadMorebut}<i className=\"fa fa-angle-down\"></i></a>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div className=\"apply_promosec\">\n\t\t\t\t\t\t\t\t\t<form className=\"agent_login\" id=\"agent_login\">\n\t\t\t\t\t\t\t\t\t<div className=\"promoerror\"></div>\n\t\t\t\t\t\t\t\t\t<div className=\"promo_error\">{this.state.promo_error}</div>\t\n\t\t\t\t\t\t\t\t\t<div className=\"promo_sucess\"><h3>{this.state.promo_sucess}</h3></div>\t\n\t\t\t\t\t\t\t\t\t\t<FormGroup className=\"apply_promorow\">\n\t\t\t\t\t\t\t\t\t\t\t<Label for=\"promocode\" className=\"star\">Apply Promo Code</Label>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"promo-wrapper\">\n\t\t\t\t\t\t\t\t\t\t\t<Input type=\"text\" name=\"promo_code\" id=\"promo_code\"  placeholder=\"Enter Promo Code\" value={this.state.promo_code}onChange={this.handleInputChange}/>\n\t\t\t\t\t\t\t\t\t\t\t<Button className=\"frm-btn btn animate-btn2 btn_blue\" onClick={this.promotionFormSubmit.bind(this)}>Apply\n\t\t\t\t\t\t\t\t\t\t\t<span className={this.state.showload ? \"show\" : \"hide\"} id=\"load_icon\"><b></b></span>\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t\t\t</form>\t\n\t\t\t\t\t\t\t\t\t\t<p className=\"total_amt\">Package points : <span>{this.state.packagePoints}</span></p>\n\t\t\t\t\t\t\t\t\t\t{this.state.appliedPromo === 1 ? <p className=\"total_amt\">Promotion % : <span>{this.state.promo_percentage} %</span></p>:''}\n\t\t\t\t\t\t\t\t\t\t<p className=\"total_amt\">Total points : <span>{toatalPackagepoints}</span></p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"total_amt\">Total Amount : <span>{this.state.packageFinalSymbol} {this.state.packageAmout}</span></p>\n\t\t\t\t\t\t\t\t\t\t<FormGroup className=\"buy_btn text-right\">\n\t\t\t\t\t\t\t\t\t\t\t{submitBut}\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t</FormGroup>\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t{/*<Col md={12}> \n\t\t\t\t\t\t\t<div class=\"fm-note\">For amount > SGD 100, contact\ncustomersupport@geniehut.com or whatsapp +6590067988 to get more points.</div>\n\t\t\t\t\t\t\t</Col>*/}\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Container>\t\t\t\t\n\t\t\t\t<Footer/>\n\t\t\t\t<ModalPopup modal={this.state.modalPayment} toggle={this.togglePaymentProcess} className=\"paymentProcess_popup\" title=\"We Are Processing Your Transcation\" >\n\t\t\t\t<span className=\"payment_errors\"></span>\t\n\t\t\t\t<div className=\"payment_process_sec\">\n\t\t\t\t\t\n\t\t\t\t\t{cartVaildinfo}\t\t\n\t\t\t\t\t{transcationtVaildinfo}\t\t\n\t\t\t\t\t{transCompVaildinfo}\n\n\t\t\t\t</div>\n\t\t\t</ModalPopup>\t\n\t\t\t\t<ModalPopup className=\"QRcodePay\" title=\"QR Code Payment\" id=\"QRcodePay\" modal={this.state.modalQRcode} toggle={this.toggleQRcode} >\n\t\t\t\t\t{qrcodeimg}\n\t\t\t\t</ModalPopup>\n\t\t\t\t\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateTopProps = (state) => {\n  return {\n\ttopupplans: state.buypoints,\n\tpromotionValues: state.applypromotion,\n\tstripontokenValues: state.stripontoken,\n\ttopuppointsValues: state.topuppoints,\n\tcaptureAmountres: state.captureamount,\n\tsubmitsystempoints: state.submitsystempoints,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getTopupPlan: () => {\n      dispatch({ type: GET_TOPUPPLAN});\n    },\n    applyPromotion: (formPayload) => {\n      dispatch({ type: GET_APPLYPROMOTION, formPayload});\n    },\n    striponToken: (formPayload) => {\n      dispatch({ type: GET_STRIPONTOKEN, formPayload});\n    },\n    topupPoints: (formPayload) => {\n      dispatch({ type: GET_TOPUPPOINTS, formPayload});\n    },\n    capturePaymentAmount: (formPayload) => {\n      dispatch({ type: GET_CAPTUREAMOUNT, formPayload});\n    },\n    getSubmitPointsystem: (formPayload) => {\n      dispatch({ type: GET_SUBMITPOINTSYSTEM, formPayload});\n    },\n  }\n}\nexport default connect(mapStateTopProps, mapDispatchToProps)(withRouter(Buypoints));\n"]},"metadata":{},"sourceType":"module"}