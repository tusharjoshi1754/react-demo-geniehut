{"ast":null,"code":"import _classCallCheck from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\src\\\\components\\\\Layout\\\\Login.js\";\n\n/* eslint-disable */\nimport React, { Component } from 'react';\nimport { OverlayTrigger, ButtonToolbar, Tooltip, Button } from 'react-bootstrap';\nimport IntlTelInput from 'react-intl-tel-input';\nimport 'react-intl-tel-input/dist/main.css';\nimport { Link, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport cookie from 'react-cookies';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport { Modal } from 'react-bootstrap';\nimport moment from 'moment';\nimport Footer from '../Layout/Footer';\nimport SuccessMsg from '../../common/images/success-msg.png'; //import ErrorMsg from '../../common/images/error-msg.png';\n\nimport { appName, apiUrl, baseUrl, fbAppId, Accessrunsearch } from \"../Config/Config\";\nimport { showAlert, showLoader, hideLoader, stripslashes } from \"../Helpers/SettingHelper\";\nimport { GET_LOGINDATA, GET_IPDATA, GET_MOBILE_COUNTRY } from '../../actions';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n\n    _this.getipdetails = function () {\n      $.getJSON(\"https://api.ipify.org?format=json\", function (data) {\n        cookie.save(\"ipaddress\", data.ip);\n      });\n\n      var qs = require('qs');\n\n      var postObject = {\n        \"app_name\": appName,\n        \"ipaddress\": cookie.load('ipaddress')\n      };\n\n      _this.props.getIpData(qs.stringify(postObject));\n    };\n\n    _this.handleChangeTxt = function (valid, event, object) {\n      //this.setState({countrycode :object.dialCode });\n      _this.setState({\n        user_mobile: event\n      });\n    };\n\n    _this.handleChangePswd = function (item, event) {\n      _this.setState({\n        password: event.target.value\n      });\n\n      if (_this.state.password) {\n        $('.errorpassword').html('');\n      }\n    };\n\n    _this.loginform = function (valid, inputphone, object, fullnumber) {\n      _this.setState({\n        selectedcode: object.dialCode\n      });\n\n      var errors = {};\n      var formIsValid = true;\n      cookie.save('valid', valid);\n\n      if (valid == false) {\n        formIsValid = false;\n        $('.errorusermobile').html('<span class=\"errorspan\">Please enter valid mobile number</span>');\n      } else if (valid == true) {\n        $('.errorusermobile').html('');\n      }\n\n      _this.setState({\n        errors: errors\n      });\n\n      return formIsValid;\n    };\n\n    _this.handleFormSubmit = function () {\n      if (_this.validateForm()) {\n        _this.setState({\n          Loading: true\n        });\n\n        var formPayload = _this.state;\n\n        if (_this.state.countrycode != '') {\n          var ccode = _this.state.countrycode;\n        } else {\n          var ccode = formPayload.selectedcode;\n        }\n\n        var qs = require('qs');\n\n        var postObject = {\n          \"app_name\": appName,\n          \"user_mobile\": formPayload.user_mobile,\n          \"user_password\": formPayload.password,\n          \"user_country\": ccode\n        };\n        $(\".login_submit\").addClass('loading loading_data');\n\n        _this.props.getLoginData(qs.stringify(postObject));\n      }\n    };\n\n    _this.state = {\n      user_mobile: '',\n      password: '',\n      countrycode: '',\n      logindata: '',\n      clientip: '',\n      errors: {},\n      errorhideshow: 'none',\n      selectedcode: '',\n      accessrunsearch: Accessrunsearch,\n      Loading: false,\n      errorMsg: '',\n      countryList: []\n    };\n    cookie.save('Registered', '');\n\n    _this.props.getMobileCountry();\n\n    _this.getipdetails();\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"validateForm\",\n\n    /* Validate Login Form */\n    value: function validateForm() {\n      var _this$state = this.state,\n          user_mobile = _this$state.user_mobile,\n          password = _this$state.password;\n      var errors = {};\n      var formIsValid = true;\n\n      if (!user_mobile) {\n        formIsValid = false;\n        $('.errorusermobile').html('<span class=\"errorspan\">Please enter your mobile number</span>');\n      } else if (user_mobile) {\n        $('.errorusermobile').html('');\n      }\n\n      if (!password) {\n        formIsValid = false;\n        $('.errorpassword').html('<span class=\"errorspan\">Please enter your password</span>');\n      } else if (password) {\n        $('.errorpassword').html('');\n      }\n\n      if (cookie.load('valid') == \"false\") {\n        formIsValid = false;\n        $('.errorusermobile').html('<span class=\"errorspan\">Please Enter valid mobie number</span>');\n      }\n\n      this.setState({\n        errors: errors\n      });\n      $(\".login_submit\").removeClass('loading loading_data');\n      return formIsValid;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      $(document).click(function (e) {\n        if (!$(e.target).is('.genie-msg-popup-wrapper, .genie-popup-open * ')) {\n          if ($('.genie-msg-popup-wrapper').is(\":visible\")) {\n            $(\".genie-msg-popup-wrapper\").removeClass(\"genie-popup-open\");\n            $(\".genie-msg-popup-wrapper\").parents(\"body\").removeClass(\"genie-popup-shade\");\n          }\n        }\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(Props) {\n      if (Props.logindata !== this.props.logindata) {\n        this.setState({\n          Loading: false\n        });\n\n        if (Props.logindata[0].status == \"success\") {\n          this.setState({\n            errorMsg: ''\n          });\n          this.doLogin(Props.logindata[0]);\n          this.props.toggle();\n        } else {\n          this.setState({\n            errorMsg: Props.logindata[0].message\n          });\n        }\n      }\n\n      if (Props.ipaddress !== this.props.ipaddress) {\n        if (Props.ipaddress[0] != '') {\n          this.setState({\n            clientip: Props.ipaddress[0]\n          });\n        } else {\n          this.setState({\n            clientip: 'sg'\n          });\n        }\n      }\n\n      if (Props.mobilecountry !== this.props.mobilecountry) {\n        this.setState({\n          mobilecountry: Props.mobilecountry[0].result_set\n        }, function () {\n          this.loadCountryList();\n        });\n      }\n    }\n  }, {\n    key: \"loadCountryList\",\n    value: function loadCountryList() {\n      var country = [];\n      this.state.mobilecountry.map(function (countries) {\n        country.push(countries.short_code.toLowerCase());\n      });\n      this.setState({\n        countryList: country\n      });\n    }\n  }, {\n    key: \"doLogin\",\n    value: function doLogin(userdetails) {\n      if (userdetails.status === \"success\") {\n        cookie.save(\"CountryCode\", userdetails.result_set.user_country, {\n          expires: new Date(moment().add(180, 'm').format())\n        });\n        cookie.save(\"UserPoints\", userdetails.result_set.user_points, {\n          expires: new Date(moment().add(180, 'm').format())\n        }); //cookie.save(\"UserAuthToken\",userdetails.result_set.token, { maxAge: 1800 });\n\n        cookie.save(\"UserAuthToken\", userdetails.result_set.token, {\n          expires: new Date(moment().add(180, 'm').format())\n        });\n        cookie.save(\"login_user_type\", userdetails.login_user_type, {\n          expires: new Date(moment().add(180, 'm').format())\n        });\n        cookie.save(\"Userverify\", userdetails.result_set.user_verify, {\n          expires: new Date(moment().add(180, 'm').format())\n        });\n        cookie.save(\"reference_code\", userdetails.result_set.reference_code, {\n          expires: new Date(moment().add(180, 'm').format())\n        });\n        cookie.save(\"shortcode\", userdetails.result_set.shortcode, {\n          expires: new Date(moment().add(180, 'm').format())\n        });\n        cookie.save(\"UserFullname\", userdetails.result_set.user_name, {\n          expires: new Date(moment().add(180, 'm').format())\n        });\n        cookie.save(\"UserMobile\", userdetails.result_set.user_mobile, {\n          expires: new Date(moment().add(180, 'm').format())\n        });\n        cookie.save(\"UserNickname\", userdetails.result_set.user_nickname, {\n          expires: new Date(moment().add(180, 'm').format())\n        });\n        cookie.save(\"countryname\", userdetails.result_set.usercountryname, {\n          expires: new Date(moment().add(180, 'm').format())\n        });\n        cookie.save(\"Gcnotifycount\", userdetails.notificationcount, {\n          expires: new Date(moment().add(180, 'm').format())\n        });\n        cookie.save(\"GPtotal\", userdetails.usertypetotal, {\n          expires: new Date(moment().add(180, 'm').format())\n        });\n        this.props.loginresponse(userdetails.result_set.token, userdetails.result_set.user_name);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var defaultip = this.state.clientip; //  defaultip = (defaultip != '') ?defaultip:'sg';\n\n      if (defaultip != '' && this.state.countryList) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"wrapper_out account_bg_wrap\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"account-wrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          className: \"login\",\n          id: \"login\",\n          onSubmit: function onSubmit(e) {\n            _this2.handleFormSubmit(_this2);\n\n            e.preventDefault();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217\n          },\n          __self: this\n        }, \"Mobile Number\"), React.createElement(\"div\", {\n          className: \"account-mobile-wrap\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }, React.createElement(IntlTelInput, {\n          className: \"form-control\",\n          name: \"user_mobile\",\n          id: \"user_mobile\",\n          defaultCountry: defaultip,\n          separateDialCode: \"true\",\n          onPhoneNumberBlur: this.loginform.bind(this),\n          value: this.state.user_mobile,\n          onPhoneNumberChange: this.handleChangeTxt.bind(this),\n          preferredCountries: this.state.countryList,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"errorusermobile\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231\n          },\n          __self: this\n        }, \"Password\"), React.createElement(\"input\", {\n          type: \"password\",\n          className: \"form-control\",\n          name: \"password\",\n          id: \"password\",\n          value: this.state.password,\n          onChange: this.handleChangePswd.bind(this, 'password'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"errorpassword\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"account-forgot-psw\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 235\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"/forgot-password\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236\n          },\n          __self: this\n        }, \"Forgot Password?\")), React.createElement(\"div\", {\n          className: \"account-submit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"btn btn_orange btn_minwid login_submit animate-btn2\",\n          type: \"submit\",\n          disabled: this.state.Loading === true ? true : false,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239\n          },\n          __self: this\n        }, \" \", this.state.Loading === true && React.createElement(\"span\", {\n          className: \"load-data\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240\n          },\n          __self: this\n        }, \"Loading\"), \" Login\")), this.state.errorMsg, React.createElement(\"div\", {\n          className: \"account-alter-link\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246\n          },\n          __self: this\n        }, \"Don't have an account? \", React.createElement(\"a\", {\n          href: \"/signup\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246\n          },\n          __self: this\n        }, \"Sign Up for Free\")))))))));\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 258\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"wrapper_out account_bg_wrap\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"account-wrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"loading loading_separate\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262\n          },\n          __self: this\n        })))));\n      }\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nvar mapStateTopProps = function mapStateTopProps(state) {\n  return {\n    logindata: state.login,\n    ipaddress: state.ip,\n    mobilecountry: state.mobilecountry\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getLoginData: function getLoginData(formPayload) {\n      dispatch({\n        type: GET_LOGINDATA,\n        formPayload: formPayload\n      });\n    },\n    getMobileCountry: function getMobileCountry() {\n      dispatch({\n        type: GET_MOBILE_COUNTRY\n      });\n    },\n    getIpData: function getIpData(ipaddress) {\n      dispatch({\n        type: GET_IPDATA,\n        ipaddress: ipaddress\n      });\n    }\n  };\n};\n\nexport default connect(mapStateTopProps, mapDispatchToProps)(withRouter(Login));","map":{"version":3,"sources":["D:/text video/geniehut-Geni-App-Code/geniehut-Geni-App-Code/front-end/src/components/Layout/Login.js"],"names":["React","Component","OverlayTrigger","ButtonToolbar","Tooltip","Button","IntlTelInput","Link","withRouter","connect","cookie","axios","$","Modal","moment","Footer","SuccessMsg","appName","apiUrl","baseUrl","fbAppId","Accessrunsearch","showAlert","showLoader","hideLoader","stripslashes","GET_LOGINDATA","GET_IPDATA","GET_MOBILE_COUNTRY","Login","props","getipdetails","getJSON","data","save","ip","qs","require","postObject","load","getIpData","stringify","handleChangeTxt","valid","event","object","setState","user_mobile","handleChangePswd","item","password","target","value","state","html","loginform","inputphone","fullnumber","selectedcode","dialCode","errors","formIsValid","handleFormSubmit","validateForm","Loading","formPayload","countrycode","ccode","addClass","getLoginData","logindata","clientip","errorhideshow","accessrunsearch","errorMsg","countryList","getMobileCountry","removeClass","document","click","e","is","parents","Props","status","doLogin","toggle","message","ipaddress","mobilecountry","result_set","loadCountryList","country","map","countries","push","short_code","toLowerCase","userdetails","user_country","expires","Date","add","format","user_points","token","login_user_type","user_verify","reference_code","shortcode","user_name","user_nickname","usercountryname","notificationcount","usertypetotal","loginresponse","defaultip","preventDefault","bind","mapStateTopProps","login","mapDispatchToProps","dispatch","type"],"mappings":";;;;;;;AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,cAAR,EAAwBC,aAAxB,EAAuCC,OAAvC,EAAgDC,MAAhD,QAA6D,iBAA7D;AACA,OAAOC,YAAP,MAAyB,sBAAzB;AACA,OAAO,oCAAP;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,SAAQC,KAAR,QAAoB,iBAApB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,UAAP,MAAuB,qCAAvB,C,CACA;;AACA,SAASC,OAAT,EAAkBC,MAAlB,EAA0BC,OAA1B,EAAmCC,OAAnC,EAA4CC,eAA5C,QAAmE,kBAAnE;AACA,SAASC,SAAT,EAAoBC,UAApB,EAAgCC,UAAhC,EAA4CC,YAA5C,QAAgE,0BAAhE;AACA,SAASC,aAAT,EAAwBC,UAAxB,EAAoCC,kBAApC,QAA6D,eAA7D;;IAEMC,K;;;;;AAEL,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AAClB,+EAAMA,KAAN;;AADkB,UAqBnBC,YArBmB,GAqBL,YAAM;AACnBnB,MAAAA,CAAC,CAACoB,OAAF,CAAU,mCAAV,EAA+C,UAAUC,IAAV,EAAgB;AAC3DvB,QAAAA,MAAM,CAACwB,IAAP,CAAY,WAAZ,EAAwBD,IAAI,CAACE,EAA7B;AACH,OAFD;;AAIA,UAAIC,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAhB;;AACC,UAAIC,UAAU,GAAG;AACjB,oBAAYrB,OADK;AAEjB,qBAAaP,MAAM,CAAC6B,IAAP,CAAY,WAAZ;AAFI,OAAjB;;AAID,YAAKT,KAAL,CAAWU,SAAX,CAAqBJ,EAAE,CAACK,SAAH,CAAaH,UAAb,CAArB;AACA,KAhCkB;;AAAA,UAkCnBI,eAlCmB,GAkCD,UAACC,KAAD,EAAQC,KAAR,EAAcC,MAAd,EAAyB;AAC1C;AACG,YAAKC,QAAL,CAAc;AAACC,QAAAA,WAAW,EAAEH;AAAd,OAAd;AACA,KArCe;;AAAA,UAuChBI,gBAvCgB,GAuCG,UAACC,IAAD,EAAOL,KAAP,EAAiB;AACtC,YAAKE,QAAL,CAAc;AAACI,QAAAA,QAAQ,EAAEN,KAAK,CAACO,MAAN,CAAaC;AAAxB,OAAd;;AACA,UAAG,MAAKC,KAAL,CAAWH,QAAd,EAAuB;AACtBtC,QAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoB0C,IAApB,CAAyB,EAAzB;AACA;AACD,KA5CkB;;AAAA,UA+CnBC,SA/CmB,GA+CP,UAACZ,KAAD,EAAOa,UAAP,EAAkBX,MAAlB,EAAyBY,UAAzB,EAAyC;AACpD,YAAKX,QAAL,CAAc;AAACY,QAAAA,YAAY,EAAGb,MAAM,CAACc;AAAvB,OAAd;;AACA,UAAIC,MAAM,GAAG,EAAb;AACK,UAAIC,WAAW,GAAG,IAAlB;AACAnD,MAAAA,MAAM,CAACwB,IAAP,CAAY,OAAZ,EAAoBS,KAApB;;AACL,UAAGA,KAAK,IAAI,KAAZ,EAAkB;AACjBkB,QAAAA,WAAW,GAAG,KAAd;AACAjD,QAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsB0C,IAAtB,CAA2B,iEAA3B;AACA,OAHD,MAGM,IAAGX,KAAK,IAAI,IAAZ,EAAiB;AACf/B,QAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsB0C,IAAtB,CAA2B,EAA3B;AACP;;AACD,YAAKR,QAAL,CAAc;AACbc,QAAAA,MAAM,EAAEA;AADK,OAAd;;AAGA,aAAOC,WAAP;AACA,KA9DkB;;AAAA,UAgElBC,gBAhEkB,GAgEC,YAAM;AACzB,UAAG,MAAKC,YAAL,EAAH,EAAuB;AACtB,cAAKjB,QAAL,CAAc;AAACkB,UAAAA,OAAO,EAAC;AAAT,SAAd;;AACA,YAAMC,WAAW,GAAG,MAAKZ,KAAzB;;AACA,YAAG,MAAKA,KAAL,CAAWa,WAAX,IAAwB,EAA3B,EAA8B;AAC9B,cAAIC,KAAK,GAAE,MAAKd,KAAL,CAAWa,WAAtB;AACC,SAFD,MAEK;AACL,cAAIC,KAAK,GAAEF,WAAW,CAACP,YAAvB;AACC;;AACD,YAAItB,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAhB;;AACA,YAAIC,UAAU,GAAG;AACjB,sBAAYrB,OADK;AAEjB,yBAAegD,WAAW,CAAClB,WAFV;AAGjB,2BAAiBkB,WAAW,CAACf,QAHZ;AAIjB,0BAAgBiB;AAJC,SAAjB;AAMAvD,QAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBwD,QAAnB,CAA4B,sBAA5B;;AACA,cAAKtC,KAAL,CAAWuC,YAAX,CAAwBjC,EAAE,CAACK,SAAH,CAAaH,UAAb,CAAxB;AACA;AACD,KAnFkB;;AAElB,UAAKe,KAAL,GAAa;AACZN,MAAAA,WAAW,EAAE,EADD;AAEZG,MAAAA,QAAQ,EAAE,EAFE;AAGZgB,MAAAA,WAAW,EAAC,EAHA;AAIZI,MAAAA,SAAS,EAAC,EAJE;AAKZC,MAAAA,QAAQ,EAAC,EALG;AAMZX,MAAAA,MAAM,EAAE,EANI;AAOZY,MAAAA,aAAa,EAAE,MAPH;AAQZd,MAAAA,YAAY,EAAC,EARD;AASZe,MAAAA,eAAe,EAAEpD,eATL;AAUZ2C,MAAAA,OAAO,EAAC,KAVI;AAWHU,MAAAA,QAAQ,EAAC,EAXN;AAYHC,MAAAA,WAAW,EAAC;AAZT,KAAb;AAcAjE,IAAAA,MAAM,CAACwB,IAAP,CAAY,YAAZ,EAAyB,EAAzB;;AACA,UAAKJ,KAAL,CAAW8C,gBAAX;;AACA,UAAK7C,YAAL;;AAlBkB;AAoBlB;;;;;AAiEA;mCACc;AAAA,wBACiB,KAAKsB,KADtB;AAAA,UACPN,WADO,eACPA,WADO;AAAA,UACKG,QADL,eACKA,QADL;AAEd,UAAIU,MAAM,GAAG,EAAb;AACK,UAAIC,WAAW,GAAG,IAAlB;;AACL,UAAI,CAACd,WAAL,EAAkB;AACjBc,QAAAA,WAAW,GAAG,KAAd;AACAjD,QAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsB0C,IAAtB,CAA2B,gEAA3B;AACA,OAHD,MAGM,IAAGP,WAAH,EAAe;AACnBnC,QAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsB0C,IAAtB,CAA2B,EAA3B;AACD;;AAGD,UAAI,CAACJ,QAAL,EAAe;AACdW,QAAAA,WAAW,GAAG,KAAd;AACAjD,QAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoB0C,IAApB,CAAyB,2DAAzB;AACA,OAHD,MAGM,IAAGJ,QAAH,EAAY;AACjBtC,QAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoB0C,IAApB,CAAyB,EAAzB;AACA;;AAED,UAAG5C,MAAM,CAAC6B,IAAP,CAAY,OAAZ,KAAwB,OAA3B,EAAmC;AAClCsB,QAAAA,WAAW,GAAG,KAAd;AACAjD,QAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsB0C,IAAtB,CAA2B,gEAA3B;AACA;;AACD,WAAKR,QAAL,CAAc;AACbc,QAAAA,MAAM,EAAEA;AADK,OAAd;AAIAhD,MAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBiE,WAAnB,CAA+B,sBAA/B;AACA,aAAOhB,WAAP;AACG;;;wCAGe;AAClBjD,MAAAA,CAAC,CAACkE,QAAD,CAAD,CAAYC,KAAZ,CAAkB,UAASC,CAAT,EAAY;AACxB,YAAI,CAACpE,CAAC,CAACoE,CAAC,CAAC7B,MAAH,CAAD,CAAY8B,EAAZ,CAAe,gDAAf,CAAL,EAAuE;AACnE,cAAIrE,CAAC,CAAC,0BAAD,CAAD,CAA8BqE,EAA9B,CAAiC,UAAjC,CAAJ,EAAkD;AAC1DrE,YAAAA,CAAC,CAAC,0BAAD,CAAD,CAA8BiE,WAA9B,CAA0C,kBAA1C;AACYjE,YAAAA,CAAC,CAAC,0BAAD,CAAD,CAA8BsE,OAA9B,CAAsC,MAAtC,EAA8CL,WAA9C,CAA0D,mBAA1D;AACH;AACJ;AACN,OAPD;AAQA;;;8CAE4BM,K,EAAO;AACjC,UAAGA,KAAK,CAACb,SAAN,KAAmB,KAAKxC,KAAL,CAAWwC,SAAjC,EAA2C;AAC1C,aAAKxB,QAAL,CAAc;AAACkB,UAAAA,OAAO,EAAC;AAAT,SAAd;;AACI,YAAGmB,KAAK,CAACb,SAAN,CAAgB,CAAhB,EAAmBc,MAAnB,IAA6B,SAAhC,EAA0C;AAC9C,eAAKtC,QAAL,CAAc;AAAC4B,YAAAA,QAAQ,EAAG;AAAZ,WAAd;AACA,eAAKW,OAAL,CAAaF,KAAK,CAACb,SAAN,CAAgB,CAAhB,CAAb;AACA,eAAKxC,KAAL,CAAWwD,MAAX;AACG,SAJC,MAIG;AACN,eAAKxC,QAAL,CAAc;AAAC4B,YAAAA,QAAQ,EAAGS,KAAK,CAACb,SAAN,CAAgB,CAAhB,EAAmBiB;AAA/B,WAAd;AACI;AACH;;AACD,UAAGJ,KAAK,CAACK,SAAN,KAAmB,KAAK1D,KAAL,CAAW0D,SAAjC,EAA2C;AACxC,YAAGL,KAAK,CAACK,SAAN,CAAgB,CAAhB,KAAoB,EAAvB,EAA0B;AACzB,eAAK1C,QAAL,CAAc;AAACyB,YAAAA,QAAQ,EAAEY,KAAK,CAACK,SAAN,CAAgB,CAAhB;AAAX,WAAd;AACA,SAFD,MAEO;AACN,eAAK1C,QAAL,CAAc;AAACyB,YAAAA,QAAQ,EAAE;AAAX,WAAd;AACA;AACH;;AACA,UAAGY,KAAK,CAACM,aAAN,KAAuB,KAAK3D,KAAL,CAAW2D,aAArC,EAAmD;AACvD,aAAK3C,QAAL,CAAc;AAAC2C,UAAAA,aAAa,EAACN,KAAK,CAACM,aAAN,CAAoB,CAApB,EAAuBC;AAAtC,SAAd,EAAiE,YAAW;AAC3E,eAAKC,eAAL;AACA,SAFD;AAGA;AAEE;;;sCACgB;AACnB,UAAIC,OAAO,GAAE,EAAb;AACA,WAAKvC,KAAL,CAAWoC,aAAX,CAAyBI,GAAzB,CAA6B,UAASC,SAAT,EAAmB;AAC9CF,QAAAA,OAAO,CAACG,IAAR,CAAaD,SAAS,CAACE,UAAV,CAAqBC,WAArB,EAAb;AACD,OAFD;AAGG,WAAKnD,QAAL,CAAc;AAAC6B,QAAAA,WAAW,EAACiB;AAAb,OAAd;AACH;;;4BACUM,W,EAAY;AAElB,UAAIA,WAAW,CAACd,MAAZ,KAAuB,SAA3B,EAAsC;AACrC1E,QAAAA,MAAM,CAACwB,IAAP,CAAY,aAAZ,EAA2BgE,WAAW,CAACR,UAAZ,CAAuBS,YAAlD,EAAgE;AAAEC,UAAAA,OAAO,EAAE,IAAIC,IAAJ,CAASvF,MAAM,GAAGwF,GAAT,CAAa,GAAb,EAAkB,GAAlB,EAAuBC,MAAvB,EAAT;AAAX,SAAhE;AACA7F,QAAAA,MAAM,CAACwB,IAAP,CAAY,YAAZ,EAAyBgE,WAAW,CAACR,UAAZ,CAAuBc,WAAhD,EAA6D;AAAEJ,UAAAA,OAAO,EAAE,IAAIC,IAAJ,CAASvF,MAAM,GAAGwF,GAAT,CAAa,GAAb,EAAkB,GAAlB,EAAuBC,MAAvB,EAAT;AAAX,SAA7D,EAFqC,CAGrC;;AACA7F,QAAAA,MAAM,CAACwB,IAAP,CAAY,eAAZ,EAA6BgE,WAAW,CAACR,UAAZ,CAAuBe,KAApD,EAA2D;AAAEL,UAAAA,OAAO,EAAE,IAAIC,IAAJ,CAASvF,MAAM,GAAGwF,GAAT,CAAa,GAAb,EAAkB,GAAlB,EAAuBC,MAAvB,EAAT;AAAX,SAA3D;AACA7F,QAAAA,MAAM,CAACwB,IAAP,CAAY,iBAAZ,EAA8BgE,WAAW,CAACQ,eAA1C,EAA2D;AAAEN,UAAAA,OAAO,EAAE,IAAIC,IAAJ,CAASvF,MAAM,GAAGwF,GAAT,CAAa,GAAb,EAAkB,GAAlB,EAAuBC,MAAvB,EAAT;AAAX,SAA3D;AACA7F,QAAAA,MAAM,CAACwB,IAAP,CAAY,YAAZ,EAAyBgE,WAAW,CAACR,UAAZ,CAAuBiB,WAAhD,EAA6D;AAAEP,UAAAA,OAAO,EAAE,IAAIC,IAAJ,CAASvF,MAAM,GAAGwF,GAAT,CAAa,GAAb,EAAkB,GAAlB,EAAuBC,MAAvB,EAAT;AAAX,SAA7D;AACA7F,QAAAA,MAAM,CAACwB,IAAP,CAAY,gBAAZ,EAA6BgE,WAAW,CAACR,UAAZ,CAAuBkB,cAApD,EAAoE;AAAER,UAAAA,OAAO,EAAE,IAAIC,IAAJ,CAASvF,MAAM,GAAGwF,GAAT,CAAa,GAAb,EAAkB,GAAlB,EAAuBC,MAAvB,EAAT;AAAX,SAApE;AACA7F,QAAAA,MAAM,CAACwB,IAAP,CAAY,WAAZ,EAAwBgE,WAAW,CAACR,UAAZ,CAAuBmB,SAA/C,EAA0D;AAAET,UAAAA,OAAO,EAAE,IAAIC,IAAJ,CAASvF,MAAM,GAAGwF,GAAT,CAAa,GAAb,EAAkB,GAAlB,EAAuBC,MAAvB,EAAT;AAAX,SAA1D;AACA7F,QAAAA,MAAM,CAACwB,IAAP,CAAY,cAAZ,EAA2BgE,WAAW,CAACR,UAAZ,CAAuBoB,SAAlD,EAA6D;AAAEV,UAAAA,OAAO,EAAE,IAAIC,IAAJ,CAASvF,MAAM,GAAGwF,GAAT,CAAa,GAAb,EAAkB,GAAlB,EAAuBC,MAAvB,EAAT;AAAX,SAA7D;AACA7F,QAAAA,MAAM,CAACwB,IAAP,CAAY,YAAZ,EAAyBgE,WAAW,CAACR,UAAZ,CAAuB3C,WAAhD,EAA6D;AAAEqD,UAAAA,OAAO,EAAE,IAAIC,IAAJ,CAASvF,MAAM,GAAGwF,GAAT,CAAa,GAAb,EAAkB,GAAlB,EAAuBC,MAAvB,EAAT;AAAX,SAA7D;AACA7F,QAAAA,MAAM,CAACwB,IAAP,CAAY,cAAZ,EAA2BgE,WAAW,CAACR,UAAZ,CAAuBqB,aAAlD,EAAiE;AAAEX,UAAAA,OAAO,EAAE,IAAIC,IAAJ,CAASvF,MAAM,GAAGwF,GAAT,CAAa,GAAb,EAAkB,GAAlB,EAAuBC,MAAvB,EAAT;AAAX,SAAjE;AACA7F,QAAAA,MAAM,CAACwB,IAAP,CAAY,aAAZ,EAA0BgE,WAAW,CAACR,UAAZ,CAAuBsB,eAAjD,EAAkE;AAAEZ,UAAAA,OAAO,EAAE,IAAIC,IAAJ,CAASvF,MAAM,GAAGwF,GAAT,CAAa,GAAb,EAAkB,GAAlB,EAAuBC,MAAvB,EAAT;AAAX,SAAlE;AACA7F,QAAAA,MAAM,CAACwB,IAAP,CAAY,eAAZ,EAA4BgE,WAAW,CAACe,iBAAxC,EAA2D;AAAEb,UAAAA,OAAO,EAAE,IAAIC,IAAJ,CAASvF,MAAM,GAAGwF,GAAT,CAAa,GAAb,EAAkB,GAAlB,EAAuBC,MAAvB,EAAT;AAAX,SAA3D;AACA7F,QAAAA,MAAM,CAACwB,IAAP,CAAY,SAAZ,EAAsBgE,WAAW,CAACgB,aAAlC,EAAiD;AAAEd,UAAAA,OAAO,EAAE,IAAIC,IAAJ,CAASvF,MAAM,GAAGwF,GAAT,CAAa,GAAb,EAAkB,GAAlB,EAAuBC,MAAvB,EAAT;AAAX,SAAjD;AACK,aAAKzE,KAAL,CAAWqF,aAAX,CAAyBjB,WAAW,CAACR,UAAZ,CAAuBe,KAAhD,EAAuDP,WAAW,CAACR,UAAZ,CAAuBoB,SAA9E;AACL;AACF;;;6BAEQ;AAAA;;AAEP,UAAIM,SAAS,GAAI,KAAK/D,KAAL,CAAWkB,QAA5B,CAFO,CAGP;;AACA,UAAG6C,SAAS,IAAI,EAAb,IAAmB,KAAK/D,KAAL,CAAWsB,WAAjC,EAA8C;AAC5C,eACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAK,UAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACM;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACM;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAM,UAAA,SAAS,EAAC,OAAhB;AAAwB,UAAA,EAAE,EAAC,OAA3B;AAAmC,UAAA,QAAQ,EAAG,kBAAAK,CAAC,EAAI;AAAE,YAAA,MAAI,CAAClB,gBAAL,CAAsB,MAAtB;;AAA6BkB,YAAAA,CAAC,CAACqC,cAAF;AAAqB,WAAvG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADJ,EAEI;AAAK,UAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,YAAD;AAAc,UAAA,SAAS,EAAC,cAAxB;AAAuC,UAAA,IAAI,EAAC,aAA5C;AAA0D,UAAA,EAAE,EAAC,aAA7D;AACc,UAAA,cAAc,EAAED,SAD9B;AAEQ,UAAA,gBAAgB,EAAC,MAFzB;AAGQ,UAAA,iBAAiB,EAAE,KAAK7D,SAAL,CAAe+D,IAAf,CAAoB,IAApB,CAH3B;AAIQ,UAAA,KAAK,EAAE,KAAKjE,KAAL,CAAWN,WAJ1B;AAKQ,UAAA,mBAAmB,EAAE,KAAKL,eAAL,CAAqB4E,IAArB,CAA0B,IAA1B,CAL7B;AAMQ,UAAA,kBAAkB,EAAE,KAAKjE,KAAL,CAAWsB,WANvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,EASI;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UATJ,CAFJ,CADJ,EAeI;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEI;AAAO,UAAA,IAAI,EAAC,UAAZ;AAAuB,UAAA,SAAS,EAAC,cAAjC;AAAgD,UAAA,IAAI,EAAC,UAArD;AAAgE,UAAA,EAAE,EAAC,UAAnE;AAA8E,UAAA,KAAK,EAAE,KAAKtB,KAAL,CAAWH,QAAhG;AAA0G,UAAA,QAAQ,EAAE,KAAKF,gBAAL,CAAsBsE,IAAtB,CAA2B,IAA3B,EAAiC,UAAjC,CAApH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ,EAGI;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAHJ,CAfJ,EAoBI;AAAK,UAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAG,UAAA,IAAI,EAAC,kBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,CApBJ,EAuBI;AAAK,UAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAQ,UAAA,SAAS,EAAC,qDAAlB;AAAwE,UAAA,IAAI,EAAC,QAA7E;AAAuF,UAAA,QAAQ,EAAG,KAAKjE,KAAL,CAAWW,OAAX,KAAsB,IAAvB,GAA6B,IAA7B,GAAkC,KAAnI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAA4I,KAAKX,KAAL,CAAWW,OAAX,KAAsB,IAAtB,IAC1I;AAAM,UAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,WADF,CAvBJ,EA6BK,KAAKX,KAAL,CAAWqB,QA7BhB,EA8BI;AAAK,UAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAA0B;AAAG,UAAA,IAAI,EAAC,SAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAA1B,CADJ,CA9BJ,CADJ,CADJ,CADN,CADN,CADA,CADF;AA+CD,OAhDD,MAgDM;AACJ,eACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACC;AAAK,UAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACK;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACM;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADN,CADL,CADD,CADF;AAUD;AACF;;;;EAxPezE,S;;AA2PpB,IAAMsH,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAClE,KAAD,EAAW;AAClC,SAAO;AACRiB,IAAAA,SAAS,EAAEjB,KAAK,CAACmE,KADT;AAERhC,IAAAA,SAAS,EAAEnC,KAAK,CAAClB,EAFT;AAGRsD,IAAAA,aAAa,EAAGpC,KAAK,CAACoC;AAHd,GAAP;AAKD,CAND;;AAQA,IAAMgC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD,EAAc;AACvC,SAAO;AACRrD,IAAAA,YAAY,EAAE,sBAACJ,WAAD,EAAiB;AAC1ByD,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAEjG,aAAR;AAAuBuC,QAAAA,WAAW,EAAXA;AAAvB,OAAD,CAAR;AACD,KAHI;AAKRW,IAAAA,gBAAgB,EAAE,4BAAM;AACnB8C,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAE/F;AAAR,OAAD,CAAR;AACD,KAPI;AAQLY,IAAAA,SAAS,EAAE,mBAACgD,SAAD,EAAe;AACzBkC,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAEhG,UAAR;AAAoB6D,QAAAA,SAAS,EAATA;AAApB,OAAD,CAAR;AACA;AAVI,GAAP;AAYD,CAbD;;AAcA,eAAe/E,OAAO,CAAC8G,gBAAD,EAAmBE,kBAAnB,CAAP,CAA8CjH,UAAU,CAACqB,KAAD,CAAxD,CAAf","sourcesContent":["/* eslint-disable */\nimport React, { Component } from 'react';\nimport {OverlayTrigger, ButtonToolbar, Tooltip, Button} from 'react-bootstrap';\nimport IntlTelInput from 'react-intl-tel-input';\nimport 'react-intl-tel-input/dist/main.css';\nimport { Link, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport cookie from 'react-cookies';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport {Modal} from 'react-bootstrap';\nimport moment from 'moment';\nimport Footer from '../Layout/Footer';\nimport SuccessMsg from '../../common/images/success-msg.png';\n//import ErrorMsg from '../../common/images/error-msg.png';\nimport { appName, apiUrl, baseUrl, fbAppId, Accessrunsearch } from \"../Config/Config\";\nimport { showAlert, showLoader, hideLoader, stripslashes } from \"../Helpers/SettingHelper\";\nimport { GET_LOGINDATA, GET_IPDATA, GET_MOBILE_COUNTRY} from '../../actions';\n\nclass Login extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\t\n\t\t\tuser_mobile: '',\n\t\t\tpassword: '',\t\t\n\t\t\tcountrycode:'',\n\t\t\tlogindata:'',\n\t\t\tclientip:'',\n\t\t\terrors: {},\t\n\t\t\terrorhideshow: 'none',\n\t\t\tselectedcode:'',\n\t\t\taccessrunsearch: Accessrunsearch,\n\t\t\tLoading:false,\n            errorMsg:'',\n            countryList:[],\n\t\t};\n\t\tcookie.save('Registered','');\n\t\tthis.props.getMobileCountry();\n\t\tthis.getipdetails();\n\t\t\n\t}\n\tgetipdetails =() => {\n\t\t$.getJSON(\"https://api.ipify.org?format=json\", function (data) {\n\t\t    cookie.save(\"ipaddress\",data.ip);\n\t\t});\n\n\t\tvar qs = require('qs');\n\t\t\tvar postObject = {\n\t\t\t\"app_name\": appName,\n\t\t\t\"ipaddress\": cookie.load('ipaddress')\n\t\t\t};\n\t\tthis.props.getIpData(qs.stringify(postObject));\n\t}\n\n\thandleChangeTxt = (valid, event,object) => {  \n\t\t//this.setState({countrycode :object.dialCode });\n\t    this.setState({user_mobile :event });\n    }\n\n    handleChangePswd = (item, event) => {  \n\t\tthis.setState({password :event.target.value }); \n\t\tif(this.state.password){\n\t\t\t$('.errorpassword').html('');\n\t\t}\n\t}\n\n  /* Country Code Validation */\n\tloginform = (valid,inputphone,object,fullnumber)  => {\n\t\tthis.setState({selectedcode : object.dialCode})\n\t\tlet errors = {};\n      \tlet formIsValid = true;\n      \tcookie.save('valid',valid);\n\t\tif(valid == false){\n\t\t\tformIsValid = false;\n\t\t\t$('.errorusermobile').html('<span class=\"errorspan\">Please enter valid mobile number</span>');\n\t\t}else if(valid == true){\n          $('.errorusermobile').html('');\n\t\t}\n\t\tthis.setState({\n\t\t\terrors: errors\n\t\t});\n\t\treturn formIsValid;\n\t}\n  /* Login Form Submit */\n\t handleFormSubmit = () => {\n\t\tif(this.validateForm()){\n\t\t\tthis.setState({Loading:true});\n\t\t\tconst formPayload = this.state;\n\t\t\tif(this.state.countrycode!=''){\n\t\t\tvar ccode =this.state.countrycode;\n\t\t\t}else{\n\t\t\tvar ccode =formPayload.selectedcode;\n\t\t\t}\n\t\t\tvar qs = require('qs');\n\t\t\tvar postObject = {\n\t\t\t\"app_name\": appName,\n\t\t\t\"user_mobile\": formPayload.user_mobile,\n\t\t\t\"user_password\": formPayload.password,\n\t\t\t\"user_country\": ccode\n\t\t\t};\n\t\t\t$(\".login_submit\").addClass('loading loading_data');\n\t\t\tthis.props.getLoginData(qs.stringify(postObject));\n\t\t}\n\t}\n\n  /* Validate Login Form */\n\tvalidateForm() {\n\t\tconst {user_mobile,password} = this.state;\n\t\tlet errors = {};\n      \tlet formIsValid = true;\n\t\tif (!user_mobile) {\n\t\t\tformIsValid = false;\n\t\t\t$('.errorusermobile').html('<span class=\"errorspan\">Please enter your mobile number</span>');\n\t\t}else if(user_mobile){\n\t\t  $('.errorusermobile').html('');\n\t\t}\n\t\t\n\t\t\n\t\tif (!password) {\n\t\t\tformIsValid = false;\n\t\t\t$('.errorpassword').html('<span class=\"errorspan\">Please enter your password</span>');\n\t\t}else if(password){\n\t\t\t$('.errorpassword').html('');\n\t\t}\n\n\t\tif(cookie.load('valid') == \"false\"){\n\t\t\tformIsValid = false;\n\t\t\t$('.errorusermobile').html('<span class=\"errorspan\">Please Enter valid mobie number</span>');\n\t\t}\n\t\tthis.setState({\n\t\t\terrors: errors\n\t\t});\n\n\t\t$(\".login_submit\").removeClass('loading loading_data');\n\t\treturn formIsValid;\n    }\n\n   \n\tcomponentDidMount(){\n\t\t$(document).click(function(e) {\t\t\n        if (!$(e.target).is('.genie-msg-popup-wrapper, .genie-popup-open * ')) {\n            if ($('.genie-msg-popup-wrapper').is(\":visible\")) {                \n\t\t\t\t$(\".genie-msg-popup-wrapper\").removeClass(\"genie-popup-open\");\n                $(\".genie-msg-popup-wrapper\").parents(\"body\").removeClass(\"genie-popup-shade\");\n            }\n        }\n\t\t});\n\t}\n\n    componentWillReceiveProps(Props) {\n\t\t  if(Props.logindata !==this.props.logindata){\n\t\t\t  this.setState({Loading:false});\n\t        if(Props.logindata[0].status == \"success\"){\n\t\t\t\t\tthis.setState({errorMsg : '' });\n\t\t\t\t\tthis.doLogin(Props.logindata[0]);\n\t\t\t\t\tthis.props.toggle();\n\t\t\t    }else{\n\t\t\t  \tthis.setState({errorMsg : Props.logindata[0].message }); \n\t        }\n\t     }\n\t     if(Props.ipaddress !==this.props.ipaddress){\n\t        if(Props.ipaddress[0]!=''){\n\t        \tthis.setState({clientip :Props.ipaddress[0]});\n\t        } else {\n\t        \tthis.setState({clientip :'sg'});\n\t        }\n\t     }\n\t      if(Props.mobilecountry !==this.props.mobilecountry){\n\t\t\tthis.setState({mobilecountry:Props.mobilecountry[0].result_set}, function() {\n\t\t\t\tthis.loadCountryList();\n\t\t\t});\n\t\t}\n\n    }\n   loadCountryList() {\n\t\tvar country= [];\n\t\tthis.state.mobilecountry.map(function(countries){\n\t\t\t\tcountry.push(countries.short_code.toLowerCase());\n\t\t});\n    \tthis.setState({countryList:country});\n\t}\n    doLogin(userdetails){\n      \n    \t if (userdetails.status === \"success\") {\n    \t \tcookie.save(\"CountryCode\", userdetails.result_set.user_country, { expires: new Date(moment().add(180, 'm').format()) });\n    \t \tcookie.save(\"UserPoints\",userdetails.result_set.user_points, { expires: new Date(moment().add(180, 'm').format()) });\n    \t \t//cookie.save(\"UserAuthToken\",userdetails.result_set.token, { maxAge: 1800 });\n    \t \tcookie.save(\"UserAuthToken\", userdetails.result_set.token, { expires: new Date(moment().add(180, 'm').format()) })\n    \t \tcookie.save(\"login_user_type\",userdetails.login_user_type, { expires: new Date(moment().add(180, 'm').format()) }); \n    \t \tcookie.save(\"Userverify\",userdetails.result_set.user_verify, { expires: new Date(moment().add(180, 'm').format()) });\n    \t \tcookie.save(\"reference_code\",userdetails.result_set.reference_code, { expires: new Date(moment().add(180, 'm').format()) });\n    \t \tcookie.save(\"shortcode\",userdetails.result_set.shortcode, { expires: new Date(moment().add(180, 'm').format()) });\n    \t \tcookie.save(\"UserFullname\",userdetails.result_set.user_name, { expires: new Date(moment().add(180, 'm').format()) });\n    \t \tcookie.save(\"UserMobile\",userdetails.result_set.user_mobile, { expires: new Date(moment().add(180, 'm').format()) });\n    \t \tcookie.save(\"UserNickname\",userdetails.result_set.user_nickname, { expires: new Date(moment().add(180, 'm').format()) });\n    \t \tcookie.save(\"countryname\",userdetails.result_set.usercountryname, { expires: new Date(moment().add(180, 'm').format()) });\n    \t \tcookie.save(\"Gcnotifycount\",userdetails.notificationcount, { expires: new Date(moment().add(180, 'm').format()) });\n    \t \tcookie.save(\"GPtotal\",userdetails.usertypetotal, { expires: new Date(moment().add(180, 'm').format()) })\n            this.props.loginresponse(userdetails.result_set.token, userdetails.result_set.user_name);\n    \t }\n    }\n\n    render() {\n    \n      let defaultip  = this.state.clientip;\n      //  defaultip = (defaultip != '') ?defaultip:'sg';\n      if(defaultip != '' && this.state.countryList) {\n        return (\n          <div>\n          <div className=\"wrapper_out account_bg_wrap\">\n                <div className=\"container\">\n                      <div className=\"account-wrapper\">\n                          <div>\n                              <form className=\"login\" id=\"login\" onSubmit={ e => { this.handleFormSubmit(this); e.preventDefault(); }}>\n                                  <div className=\"form-group\">\n                                      <label>Mobile Number</label>\n                                      <div className=\"account-mobile-wrap\">\n                                          <IntlTelInput className=\"form-control\" name=\"user_mobile\" id=\"user_mobile\"\n                                                        defaultCountry={defaultip}\n                                                  separateDialCode='true'\n                                                  onPhoneNumberBlur={this.loginform.bind(this)}\n                                                  value={this.state.user_mobile}\n                                                  onPhoneNumberChange={this.handleChangeTxt.bind(this)}\n                                                  preferredCountries={this.state.countryList}\n                                            />\n                                          <div className=\"errorusermobile\"></div>\n                                      </div>\n                                  </div>\n                                  <div className=\"form-group\">\n                                      <label>Password</label>\n                                      <input type=\"password\" className=\"form-control\" name=\"password\" id=\"password\" value={this.state.password} onChange={this.handleChangePswd.bind(this, 'password')} />\n                                      <div className=\"errorpassword\"></div>\n                                  </div>\n                                  <div className=\"account-forgot-psw\">\n                                      <a href=\"/forgot-password\">Forgot Password?</a>\n                                  </div>\n                                  <div className=\"account-submit\">\n                                    <button className=\"btn btn_orange btn_minwid login_submit animate-btn2\" type=\"submit\"  disabled={(this.state.Loading ===true)?true:false}> {this.state.Loading ===true &&\n                                      <span className=\"load-data\">Loading</span> \n                                              } Login\n                                    </button>\n                                  </div>\n                                  {this.state.errorMsg}\n                                  <div className=\"account-alter-link\">\n                                      <p>Don't have an account? <a href=\"/signup\">Sign Up for Free</a></p>\n                                  </div>\n                              </form>\n                          </div>\n                      </div>\n                </div>\n              </div>\n          </div>\n          );\n\n      }else {\n        return (\n          <div>\n           <div className=\"wrapper_out account_bg_wrap\">\n                <div className=\"container\">\n                      <div className=\"account-wrapper\">\n                        <div className=\"loading loading_separate\"></div>\n                      </div>\n                </div>\n            </div>\n        </div>);\n      }\n    }\n}\n\nconst mapStateTopProps = (state) => {\n  return {\n\tlogindata: state.login ,\n\tipaddress: state.ip,\n\tmobilecountry\t: state.mobilecountry,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n\tgetLoginData: (formPayload) => {\n      dispatch({ type: GET_LOGINDATA, formPayload });\n    },\n\n\tgetMobileCountry: () => {\n      dispatch({ type: GET_MOBILE_COUNTRY});\n    },\n    getIpData: (ipaddress) => {\n    \tdispatch({ type: GET_IPDATA, ipaddress});\n    },\n  }\n}\nexport default connect(mapStateTopProps, mapDispatchToProps)(withRouter(Login));\n"]},"metadata":{},"sourceType":"module"}