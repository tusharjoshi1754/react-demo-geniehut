{"ast":null,"code":"import _classCallCheck from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\src\\\\components\\\\Genpro\\\\QuotationDetail.js\";\nimport React, { Component } from \"react\";\nimport { Table } from \"react-bootstrap\";\nimport { appName } from \"../Config/Config\";\nimport cookie from \"react-cookies\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { GET_QUOTATION } from \"../../actions\";\n\nvar QuotationDetail =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(QuotationDetail, _Component);\n\n  function QuotationDetail(props) {\n    var _this;\n\n    _classCallCheck(this, QuotationDetail);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(QuotationDetail).call(this, props));\n\n    _this.getQuotationDetails = function () {\n      var formPayload = _this.props;\n\n      var qs = require(\"qs\");\n\n      var postObject = {\n        app_name: appName,\n        user_token: cookie.load(\"UserAuthToken\"),\n        job_id: formPayload.job_id,\n        vendor_id: formPayload.vendor_id\n      };\n\n      _this.props.getQuotation(qs.stringify(postObject));\n    };\n\n    _this.state = {\n      rows: _this.props.servicedata,\n      customer_name: \"\",\n      customer_phone: \"\",\n      user_postalcode: \"\",\n      service_name: \"\",\n      totalamount: \"\",\n      totalgst: \"\",\n      quotationDate: \"\",\n      vendor_name: \"\",\n      vendor_phone: \"\",\n      GST: \"\",\n      quotationDeatils: \"\",\n      user_address: \"\",\n      user_unitno: \"\",\n      quotNO: \"\"\n    };\n\n    _this.getQuotationDetails();\n\n    return _this;\n  }\n\n  _createClass(QuotationDetail, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(Props) {\n      if (Object.keys(Props.quotation).length > 0) {\n        if (Props.quotation !== this.props.quotation) {\n          if (Props.quotation[0].status === \"success\") {\n            var savequot = Props.quotation[0].result_set;\n            this.setState({\n              customer_name: savequot.cust_res.user_name\n            });\n            this.setState({\n              user_address: savequot.cust_res.user_address\n            });\n            this.setState({\n              user_unitno: savequot.cust_res.useruser_unitno_address\n            });\n            this.setState({\n              user_postalcode: savequot.cust_res.user_postalcode\n            });\n            this.setState({\n              customer_phone: savequot.cust_res.user_mobile\n            });\n            this.setState({\n              user_postalcode: savequot.cust_res.user_postalcode\n            });\n            this.setState({\n              vendor_name: savequot.ven_res.user_name\n            });\n            this.setState({\n              vendor_phone: savequot.ven_res.user_mobile\n            });\n            this.setState({\n              vendor_postalcode: savequot.ven_res.user_postalcode\n            });\n            this.setState({\n              service_name: savequot.service_name\n            });\n            this.quotationtable(Props.quotation[0].result_set);\n            this.setState({\n              totalamount: Props.quotation[0].result_set.quot_res.quot_total_amount\n            });\n            this.setState({\n              totalgst: Props.quotation[0].result_set.quot_res.quot_total_amount_gst\n            });\n            this.setState({\n              quotNO: Props.quotation[0].result_set.quot_res.quot_no\n            });\n            this.setState({\n              quotationDate: Props.quotation[0].result_set.quot_res.quot_created_on\n            });\n\n            if (Props.quotation[0].result_set.quot_res.quot_gst === \"Y\") {\n              this.setState({\n                GST: 7\n              });\n            } else {\n              this.setState({\n                GST: \"\"\n              });\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"quotationtable\",\n    value: function quotationtable(quotations) {\n      var quotationdata = quotations;\n\n      if (quotationdata !== undefined && quotationdata !== null) {\n        if (Object.keys(quotationdata.quot_det_res).length > 0) {\n          var quotationDeatils = quotationdata.quot_det_res.map(function (quotation) {\n            return React.createElement(\"tr\", {\n              key: quotation.sg_quot_det_id,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 96\n              },\n              __self: this\n            }, React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 97\n              },\n              __self: this\n            }, quotation.quot_desc), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 98\n              },\n              __self: this\n            }, quotation.quot_amount));\n          });\n          this.setState({\n            quotationDeatils: quotationDeatils\n          });\n        }\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"GPCLD_wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"GPCLD_inner_wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"GPCLD_PDL_Header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, this.state.service_name), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Date: \"), \" \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, this.state.quotationDate)), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"E - Quotation No: \"), \" \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, this.state.quotNO))), React.createElement(\"div\", {\n        className: \"GPCLD_PDL_box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"GPCLD_PD GPCLD_PDL\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Personal details\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Name :\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, this.state.vendor_name)), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Mobile :\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, this.state.vendor_phone)))), React.createElement(\"div\", {\n        className: \"GPCLD_Tab_wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"GPCLD_equotation_wrap GPCLD_JDEQ\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"GPCLD_EQ_Fiedls\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(Table, {\n        striped: true,\n        bordered: true,\n        hover: true,\n        id: \"tab_logic\",\n        className: \"GPCLD_EQF_table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"Service Details\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \"Price\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }))), this.state.quotationDeatils !== \"\" && React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, this.state.quotationDeatils))), React.createElement(\"div\", {\n        className: \"GPCLD_EQ_Total_wrap GPCLD_E-QView_Total\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"GPCLD_EQ_Total_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"Subtotal\"), React.createElement(\"span\", {\n        className: \"GPCLD_EQ_Total_det\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, this.state.totalamount, \"SGD\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"GPCLD_EQ_Total_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, \"GST\"), React.createElement(\"span\", {\n        className: \"GPCLD_EQ_Total_det\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, this.state.GST !== \"\" && this.state.GST !== null ? this.state.GST : \"0\", \"%\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"GPCLD_EQ_Total_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, \"Total Price ( GST INC )\"), React.createElement(\"span\", {\n        className: \"GPCLD_EQ_Total_det Big\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, this.state.totalgst, \" SGD\")))), React.createElement(\"div\", {\n        className: \"GPCLD_EQoute_wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"JobStatusBtn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn_blue btn_minwid animate-btn2\",\n        onClick: this.props.toggle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, \"Ok\"))))))));\n    }\n  }]);\n\n  return QuotationDetail;\n}(Component);\n\nvar mapStateTopProps = function mapStateTopProps(state) {\n  return {\n    quotation: state.quotation\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getQuotation: function getQuotation(formPayload) {\n      dispatch({\n        type: GET_QUOTATION,\n        formPayload: formPayload\n      });\n    }\n  };\n};\n\nexport default connect(mapStateTopProps, mapDispatchToProps)(withRouter(QuotationDetail));","map":{"version":3,"sources":["D:/text video/geniehut-Geni-App-Code/geniehut-Geni-App-Code/front-end/src/components/Genpro/QuotationDetail.js"],"names":["React","Component","Table","appName","cookie","connect","withRouter","GET_QUOTATION","QuotationDetail","props","getQuotationDetails","formPayload","qs","require","postObject","app_name","user_token","load","job_id","vendor_id","getQuotation","stringify","state","rows","servicedata","customer_name","customer_phone","user_postalcode","service_name","totalamount","totalgst","quotationDate","vendor_name","vendor_phone","GST","quotationDeatils","user_address","user_unitno","quotNO","Props","Object","keys","quotation","length","status","savequot","result_set","setState","cust_res","user_name","useruser_unitno_address","user_mobile","ven_res","vendor_postalcode","quotationtable","quot_res","quot_total_amount","quot_total_amount_gst","quot_no","quot_created_on","quot_gst","quotations","quotationdata","undefined","quot_det_res","map","sg_quot_det_id","quot_desc","quot_amount","toggle","mapStateTopProps","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Table } from \"react-bootstrap\";\nimport { appName } from \"../Config/Config\";\nimport cookie from \"react-cookies\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { GET_QUOTATION } from \"../../actions\";\n\nclass QuotationDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      rows: this.props.servicedata,\n      customer_name: \"\",\n      customer_phone: \"\",\n      user_postalcode: \"\",\n      service_name: \"\",\n      totalamount: \"\",\n      totalgst: \"\",\n      quotationDate: \"\",\n      vendor_name: \"\",\n      vendor_phone: \"\",\n      GST: \"\",\n      quotationDeatils: \"\",\n      user_address: \"\",\n      user_unitno: \"\",\n      quotNO: \"\"\n    };\n    this.getQuotationDetails();\n  }\n\n  getQuotationDetails = () => {\n    const formPayload = this.props;\n    var qs = require(\"qs\");\n    var postObject = {\n      app_name: appName,\n      user_token: cookie.load(\"UserAuthToken\"),\n      job_id: formPayload.job_id,\n      vendor_id: formPayload.vendor_id\n    };\n    this.props.getQuotation(qs.stringify(postObject));\n  };\n\n  componentWillReceiveProps(Props) {\n    if (Object.keys(Props.quotation).length > 0) {\n      if (Props.quotation !== this.props.quotation) {\n        if (Props.quotation[0].status === \"success\") {\n          const savequot = Props.quotation[0].result_set;\n          this.setState({ customer_name: savequot.cust_res.user_name });\n          this.setState({ user_address: savequot.cust_res.user_address });\n          this.setState({\n            user_unitno: savequot.cust_res.useruser_unitno_address\n          });\n          this.setState({ user_postalcode: savequot.cust_res.user_postalcode });\n\n          this.setState({ customer_phone: savequot.cust_res.user_mobile });\n          this.setState({ user_postalcode: savequot.cust_res.user_postalcode });\n          this.setState({ vendor_name: savequot.ven_res.user_name });\n          this.setState({ vendor_phone: savequot.ven_res.user_mobile });\n          this.setState({\n            vendor_postalcode: savequot.ven_res.user_postalcode\n          });\n          this.setState({ service_name: savequot.service_name });\n          this.quotationtable(Props.quotation[0].result_set);\n          this.setState({\n            totalamount:\n              Props.quotation[0].result_set.quot_res.quot_total_amount\n          });\n          this.setState({\n            totalgst:\n              Props.quotation[0].result_set.quot_res.quot_total_amount_gst\n          });\n          this.setState({\n            quotNO: Props.quotation[0].result_set.quot_res.quot_no\n          });\n          this.setState({\n            quotationDate:\n              Props.quotation[0].result_set.quot_res.quot_created_on\n          });\n          if (Props.quotation[0].result_set.quot_res.quot_gst === \"Y\") {\n            this.setState({ GST: 7 });\n          } else {\n            this.setState({ GST: \"\" });\n          }\n        }\n      }\n    }\n  }\n\n  quotationtable(quotations) {\n    const quotationdata = quotations;\n    if (quotationdata !== undefined && quotationdata !== null) {\n      if (Object.keys(quotationdata.quot_det_res).length > 0) {\n        const quotationDeatils = quotationdata.quot_det_res.map(quotation => {\n          return (\n            <tr key={quotation.sg_quot_det_id}>\n              <td>{quotation.quot_desc}</td>\n              <td>{quotation.quot_amount}</td>\n            </tr>\n          );\n        });\n        this.setState({ quotationDeatils: quotationDeatils });\n      }\n    } else {\n      return false;\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"GPCLD_wrapper\">\n          <div className=\"GPCLD_inner_wrapper\">\n            <div className=\"GPCLD_PDL_Header\">\n              <h3>{this.state.service_name}</h3>\n              <p>\n                <b>Date: </b> <span>{this.state.quotationDate}</span>\n              </p>\n              <p>\n                <b>E - Quotation No: </b> <span>{this.state.quotNO}</span>\n              </p>\n            </div>\n            <div className=\"GPCLD_PDL_box\">\n              <div className=\"GPCLD_PD GPCLD_PDL\">\n                <h3>Personal details</h3>\n                <p>\n                  <b>Name :</b>\n                  <span>{this.state.vendor_name}</span>\n                </p>\n                <p>\n                  <b>Mobile :</b>\n                  <span>{this.state.vendor_phone}</span>\n                </p>\n              </div>\n              {/*<div className=\"GPCLD_L GPCLD_PDL\">\n                <h3>Location</h3>\n                <p>\n                  <b>Address :</b>\n                  <span>{this.state.user_address}</span>\n                </p>\n                <p>\n                  <b>Unit number :</b>\n                  <span>\n                    {this.state.user_unitno !== \"\" &&\n                    this.state.user_unitno !== null\n                      ? this.state.user_unitno\n                      : \"-\"}\n                  </span>\n                </p>\n                <p>\n                  <b>Postal code :</b>\n                  <span>{this.state.user_postalcode}</span>\n                </p>\n              </div>*/}\n            </div>\n            <div className=\"GPCLD_Tab_wrapper\">\n              <div className=\"GPCLD_equotation_wrap GPCLD_JDEQ\">\n                <div className=\"GPCLD_EQ_Fiedls\">\n                  <Table\n                    striped\n                    bordered\n                    hover\n                    id=\"tab_logic\"\n                    className=\"GPCLD_EQF_table\"\n                  >\n                    <thead>\n                      <tr>\n                        <th>Service Details</th>\n                        <th>Price</th>\n                        <th />\n                      </tr>\n                    </thead>\n                    {this.state.quotationDeatils !== \"\" && (\n                      <tbody>{this.state.quotationDeatils}</tbody>\n                    )}\n                  </Table>\n                </div>\n                <div className=\"GPCLD_EQ_Total_wrap GPCLD_E-QView_Total\">\n                  <ul>\n                    <li>\n                      <span className=\"GPCLD_EQ_Total_title\">Subtotal</span>\n                      <span className=\"GPCLD_EQ_Total_det\">\n                        {this.state.totalamount}SGD\n                      </span>\n                    </li>\n\n                    <li>\n                      <span className=\"GPCLD_EQ_Total_title\">GST</span>\n                      <span className=\"GPCLD_EQ_Total_det\">\n                        {this.state.GST !== \"\" && this.state.GST !== null\n                          ? this.state.GST\n                          : \"0\"}\n                        %\n                      </span>\n                    </li>\n\n                    <li>\n                      <span className=\"GPCLD_EQ_Total_title\">\n                        Total Price ( GST INC )\n                      </span>\n                      <span className=\"GPCLD_EQ_Total_det Big\">\n                        {this.state.totalgst} SGD\n                      </span>\n                    </li>\n                  </ul>\n                </div>\n                <div className=\"GPCLD_EQoute_wrap\">\n                  <div className=\"JobStatusBtn\">\n                    <button\n                      className=\"btn btn_blue btn_minwid animate-btn2\"\n                      onClick={this.props.toggle}\n                    >\n                      Ok\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateTopProps = state => {\n  return {\n    quotation: state.quotation\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getQuotation: formPayload => {\n      dispatch({ type: GET_QUOTATION, formPayload });\n    }\n  };\n};\nexport default connect(\n  mapStateTopProps,\n  mapDispatchToProps\n)(withRouter(QuotationDetail));\n"]},"metadata":{},"sourceType":"module"}