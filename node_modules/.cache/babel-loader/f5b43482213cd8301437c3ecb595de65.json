{"ast":null,"code":"import _classCallCheck from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\src\\\\components\\\\Layout\\\\QuotationDetail.js\";\nimport React, { Component } from 'react';\nimport { Table } from 'react-bootstrap';\nimport { appName } from \"../Config/Config\";\nimport cookie from 'react-cookies';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { GET_SAVEQUOTATION } from '../../actions';\n\nvar QuotationDetail =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(QuotationDetail, _Component);\n\n  function QuotationDetail(props) {\n    var _this;\n\n    _classCallCheck(this, QuotationDetail);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(QuotationDetail).call(this, props));\n\n    _this.savetemplate = function () {\n      var formPayload = _this.props;\n      var quot_gst;\n\n      if (formPayload.quot_gst === 1) {\n        quot_gst = 'Y';\n      } else {\n        quot_gst = 'N';\n      }\n\n      var qs = require('qs');\n\n      var postObject = {\n        \"app_name\": appName,\n        \"user_token\": cookie.load('UserAuthToken'),\n        \"job_id\": formPayload.jobid,\n        \"quot_data\": _this.state.rows,\n        \"quot_gst\": quot_gst,\n        \"total_amount\": formPayload.totalamount,\n        \"total_amount_gst\": formPayload.totalamountgst,\n        \"quot_id\": formPayload.quot_id,\n        \"inv_id\": formPayload.inv_id,\n        \"quote_mode\": 'preview'\n      };\n\n      _this.props.getSaveQuotation(qs.stringify(postObject));\n    };\n\n    _this.state = {\n      rows: _this.props.servicedata,\n      customer_name: '',\n      customer_phone: '',\n      user_postalcode: '',\n      service_name: '',\n      totalamount: '',\n      totalgst: '',\n      quotationDate: '',\n      vendor_name: '',\n      vendor_phone: '',\n      GST: '',\n      quotationDeatils: '',\n      quotNO: ''\n    };\n\n    _this.savetemplate();\n\n    return _this;\n  }\n\n  _createClass(QuotationDetail, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(Props) {\n      if (Object.keys(Props.savequotation).length > 0) {\n        if (Props.savequotation !== this.props.savequotation) {\n          if (Props.savequotation[0].status === 'success') {\n            var savequot = Props.savequotation[0].result_set;\n            this.setState({\n              customer_name: savequot.cust_res.user_name\n            });\n            this.setState({\n              customer_phone: savequot.cust_res.user_mobile\n            });\n            this.setState({\n              user_postalcode: savequot.cust_res.user_postalcode\n            });\n            this.setState({\n              vendor_name: savequot.ven_res.user_name\n            });\n            this.setState({\n              vendor_phone: savequot.ven_res.user_mobile\n            });\n            this.setState({\n              vendor_postalcode: savequot.ven_res.user_postalcode\n            });\n            this.setState({\n              service_name: savequot.service_name\n            });\n            this.quotationtable(Props.savequotation[0].result_set);\n            this.setState({\n              totalamount: Props.savequotation[0].result_set.quot_res.quot_total_amount\n            });\n            this.setState({\n              totalgst: Props.savequotation[0].result_set.quot_res.quot_total_amount_gst\n            });\n            this.setState({\n              quotNO: Props.savequotation[0].result_set.quot_res.quot_no\n            });\n            this.setState({\n              quotationDate: Props.savequotation[0].result_set.quot_res.quot_created_on\n            });\n\n            if (Props.savequotation[0].result_set.quot_res.quot_gst === 'Y') {\n              this.setState({\n                GST: 7\n              });\n            } else {\n              this.setState({\n                GST: ''\n              });\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"quotationtable\",\n    value: function quotationtable(quotations) {\n      var quotationdata = quotations;\n\n      if (quotationdata !== undefined && quotationdata !== null) {\n        if (Object.keys(quotationdata).length > 0) {\n          var quotationDeatils = quotationdata.quot_det_res.map(function (quotation, quotationIndex) {\n            return React.createElement(\"tr\", {\n              key: quotation.sg_quot_det_id,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 88\n              },\n              __self: this\n            }, React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 89\n              },\n              __self: this\n            }, quotation.quot_desc), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 90\n              },\n              __self: this\n            }, quotation.quot_amount));\n          });\n          this.setState({\n            quotationDeatils: quotationDeatils\n          });\n        }\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"GPCLD_wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"GPCLD_inner_wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"GPCLD_PDL_Header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, this.state.service_name), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Date: \"), \" \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, this.state.quotationDate)), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"E - Quotation No: \"), \" \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, this.state.quotNO))), React.createElement(\"div\", {\n        className: \"GPCLD_PDL_box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"GPCLD_PD GPCLD_PDL\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Personal details\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Name :\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, this.state.vendor_name)), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Mobile :\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, this.state.vendor_phone))), React.createElement(\"div\", {\n        className: \"GPCLD_L GPCLD_PDL\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"E - Quotation For\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Name :\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, this.state.customer_name)), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Mobile :\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, this.state.customer_phone)))), React.createElement(\"div\", {\n        class: \"GPCLD_Tab_wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"GPCLD_equotation_wrap GPCLD_JDEQ\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"GPCLD_EQ_Fiedls\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(Table, {\n        striped: true,\n        bordered: true,\n        hover: true,\n        id: \"tab_logic\",\n        className: \"GPCLD_EQF_table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Service Details\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"Price\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, this.state.quotationDeatils))), React.createElement(\"div\", {\n        class: \"GPCLD_EQ_Total_wrap GPCLD_E-QView_Total\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        class: \"GPCLD_EQ_Total_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"Subtotal\"), React.createElement(\"span\", {\n        class: \"GPCLD_EQ_Total_det\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, this.state.totalamount, \"SGD\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        class: \"GPCLD_EQ_Total_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"GST\"), React.createElement(\"span\", {\n        class: \"GPCLD_EQ_Total_det\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, this.state.GST, \"%\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        class: \"GPCLD_EQ_Total_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Total Price ( GST INC )\"), React.createElement(\"span\", {\n        class: \"GPCLD_EQ_Total_det Big\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, this.state.totalgst, \" SGD\")))), React.createElement(\"div\", {\n        class: \"GPCLD_EQoute_wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"JobStatusBtn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn_blue btn_minwid animate-btn2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, \"Ok\"))))))));\n    }\n  }]);\n\n  return QuotationDetail;\n}(Component);\n\nvar mapStateTopProps = function mapStateTopProps(state) {\n  return {\n    savequotation: state.savequotation\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getSaveQuotation: function getSaveQuotation(formPayload) {\n      dispatch({\n        type: GET_SAVEQUOTATION,\n        formPayload: formPayload\n      });\n    }\n  };\n};\n\nexport default connect(mapStateTopProps, mapDispatchToProps)(withRouter(QuotationDetail));","map":{"version":3,"sources":["D:/text video/geniehut-Geni-App-Code/geniehut-Geni-App-Code/front-end/src/components/Layout/QuotationDetail.js"],"names":["React","Component","Table","appName","cookie","connect","withRouter","GET_SAVEQUOTATION","QuotationDetail","props","savetemplate","formPayload","quot_gst","qs","require","postObject","load","jobid","state","rows","totalamount","totalamountgst","quot_id","inv_id","getSaveQuotation","stringify","servicedata","customer_name","customer_phone","user_postalcode","service_name","totalgst","quotationDate","vendor_name","vendor_phone","GST","quotationDeatils","quotNO","Props","Object","keys","savequotation","length","status","savequot","result_set","setState","cust_res","user_name","user_mobile","ven_res","vendor_postalcode","quotationtable","quot_res","quot_total_amount","quot_total_amount_gst","quot_no","quot_created_on","quotations","quotationdata","undefined","quot_det_res","map","quotation","quotationIndex","sg_quot_det_id","quot_desc","quot_amount","mapStateTopProps","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Table  } from 'react-bootstrap';\nimport { appName } from \"../Config/Config\";\nimport cookie from 'react-cookies';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { GET_SAVEQUOTATION } from '../../actions';\n\nclass QuotationDetail extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\t\n            this.state = {\n                 rows: this.props.servicedata,\n                 customer_name:'',\n                 customer_phone:'',\n                 user_postalcode:'',\n                 service_name:'',\n                 totalamount:'',\n                 totalgst:'',\n                 quotationDate:'',\n                 vendor_name:'',\n                 vendor_phone:'',\n                 GST:'',\n                 quotationDeatils:'',\n                 quotNO:'',\n              }\n        this.savetemplate();\n\t  }\n\t\n  savetemplate = () => {\n    const formPayload = this.props;\n      let quot_gst;\n      if(formPayload.quot_gst === 1){\n            quot_gst = 'Y' ;\n      }else{\n            quot_gst = 'N'\n      }\n       var qs = require('qs');\n          var postObject = {\n          \"app_name\": appName,\n          \"user_token\" : cookie.load('UserAuthToken'),\n          \"job_id\": formPayload.jobid,\n          \"quot_data\": this.state.rows,\n          \"quot_gst\": quot_gst,\n          \"total_amount\": formPayload.totalamount,\n          \"total_amount_gst\": formPayload.totalamountgst,\n          \"quot_id\":formPayload.quot_id,\n          \"inv_id\":formPayload.inv_id,\n          \"quote_mode\": 'preview',\n          };\n       this.props.getSaveQuotation(qs.stringify(postObject));\n\n  }\n\n  componentWillReceiveProps(Props) {\n     if(Object.keys(Props.savequotation).length > 0) {\n      if(Props.savequotation !== this.props.savequotation){\n        if(Props.savequotation[0].status === 'success'){\n          const savequot = Props.savequotation[0].result_set;\n          this.setState({customer_name: savequot.cust_res.user_name})\n          this.setState({customer_phone: savequot.cust_res.user_mobile})\n          this.setState({user_postalcode: savequot.cust_res.user_postalcode})\n          this.setState({vendor_name: savequot.ven_res.user_name})\n          this.setState({vendor_phone: savequot.ven_res.user_mobile})\n          this.setState({vendor_postalcode: savequot.ven_res.user_postalcode})\n          this.setState({service_name: savequot.service_name})\n          this.quotationtable(Props.savequotation[0].result_set)\n          this.setState({totalamount: Props.savequotation[0].result_set.quot_res.quot_total_amount})\n          this.setState({totalgst: Props.savequotation[0].result_set.quot_res.quot_total_amount_gst})\n          this.setState({quotNO: Props.savequotation[0].result_set.quot_res.quot_no})\n          this.setState({quotationDate: Props.savequotation[0].result_set.quot_res.quot_created_on})\n          if(Props.savequotation[0].result_set.quot_res.quot_gst === 'Y'){\n              this.setState({GST: 7})\n          }else{\n            this.setState({GST: ''})\n          }\n        }\n      }\n    }\n  }\n\nquotationtable(quotations) {\n  const quotationdata = quotations;\n    if(quotationdata!== undefined && quotationdata!== null){\n      if(Object.keys(quotationdata).length > 0) {\n         const quotationDeatils = quotationdata.quot_det_res.map((quotation, quotationIndex) => {\n            return (\n                        <tr key={quotation.sg_quot_det_id}>\n                           <td>{quotation.quot_desc}</td>\n                           <td>{quotation.quot_amount}</td>\n                       </tr>\n\n                    \n                   );\n    \n     });\n      this.setState({quotationDeatils:quotationDeatils});\n     }\n    } else {\n      return false;\n    }\n  }\n\t \n  render() {\n    return (\n\t<div>\n       <div className=\"GPCLD_wrapper\">\n           <div className=\"GPCLD_inner_wrapper\">\n               <div class=\"GPCLD_PDL_Header\">\n                   <h3>{this.state.service_name}</h3>\n                   <p><b>Date: </b> <span>{this.state.quotationDate}</span></p>\n                   <p><b>E - Quotation No: </b> <span>{this.state.quotNO}</span></p>\n               </div>\n               <div className=\"GPCLD_PDL_box\">\n                   <div className=\"GPCLD_PD GPCLD_PDL\">\n                       <h3>Personal details</h3>\n                        <p><b>Name :</b><span>{this.state.vendor_name}</span></p>\n                       <p><b>Mobile :</b><span>{this.state.vendor_phone}</span></p>\n                   </div>\n                   <div className=\"GPCLD_L GPCLD_PDL\">\n                       <h3>E - Quotation For</h3>\n                       <p><b>Name :</b><span>{this.state.customer_name}</span></p>\n                       <p><b>Mobile :</b><span>{this.state.customer_phone}</span></p>\n                   </div>\n               </div>\n               <div class=\"GPCLD_Tab_wrapper\">\n                  <div class=\"GPCLD_equotation_wrap GPCLD_JDEQ\">\n                      <div class=\"GPCLD_EQ_Fiedls\">\n                            <Table striped bordered hover id=\"tab_logic\" className=\"GPCLD_EQF_table\">\n                                <thead>\n                                  <tr>\n                                    <th>Service Details</th>\n                                    <th>Price</th>\n                                    <th />\n                                  </tr>\n                                </thead>\n                                <tbody>\n                                {this.state.quotationDeatils}\n                                </tbody>\n                            </Table>\n                      </div>\n                      <div class=\"GPCLD_EQ_Total_wrap GPCLD_E-QView_Total\">\n                         <ul>\n                             <li><span class=\"GPCLD_EQ_Total_title\">Subtotal</span><span class=\"GPCLD_EQ_Total_det\">{this.state.totalamount}SGD</span></li>\n                             <li><span class=\"GPCLD_EQ_Total_title\">GST</span><span class=\"GPCLD_EQ_Total_det\">{this.state.GST}%</span></li>\n                             <li><span class=\"GPCLD_EQ_Total_title\">Total Price ( GST INC )</span><span class=\"GPCLD_EQ_Total_det Big\">{this.state.totalgst} SGD</span></li>\n                         </ul>\n                      </div>\n                      <div class=\"GPCLD_EQoute_wrap\">\n                          <div class=\"JobStatusBtn\">\n                              <button className=\"btn btn_blue btn_minwid animate-btn2\">Ok</button>\n                          </div>\n                      </div>\n                  </div>\n               </div>\n           </div>\n       </div>\n    </div>\n    );\n  }\n}\n\nconst mapStateTopProps = (state) => {\n  return {\n      savequotation: state.savequotation,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n     getSaveQuotation: (formPayload) => {\n          dispatch({ type: GET_SAVEQUOTATION, formPayload });\n      },\n  }\n}\nexport default connect(mapStateTopProps, mapDispatchToProps)(withRouter(QuotationDetail));\n"]},"metadata":{},"sourceType":"module"}