{"ast":null,"code":"import _defineProperty from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\src\\\\components\\\\Account\\\\Changepassword.js\";\n\n/* eslint-disable */\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport cookie from 'react-cookies';\nimport Header from '../Layout/Header';\nimport Footer from '../Layout/Footer';\nimport SuccessMsg from '../../common/images/success-msg.png';\nimport ErrorMsg from '../../common/images/error-msg.png';\nimport { appName } from \"../Config/Config\";\nimport { GET_CHANGEPASSWORD } from '../../actions';\nimport { PageTitle, CheckAuth } from \"../Helpers/SettingHelper\";\n\nvar Changepassword =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Changepassword, _Component);\n\n  function Changepassword(props) {\n    var _this;\n\n    _classCallCheck(this, Changepassword);\n\n    CheckAuth();\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Changepassword).call(this, props));\n\n    _this.handleChangeTxt = function (item, event) {\n      _this.setState(_defineProperty({}, item, event.target.value));\n    };\n\n    _this.new_pass_show_hide = function () {\n      _this.setState({\n        new_pass_type: _this.state.new_pass_type === 'input' ? 'password' : 'input',\n        pass_show_hide_icon: _this.state.new_pass_type === 'input' ? 'shown' : 'hiden'\n      });\n    };\n\n    _this.confim_pass_show_hide = function () {\n      _this.setState({\n        confrim_pass_type: _this.state.confrim_pass_type === 'input' ? 'password' : 'input',\n        confirm_show_hide_icon: _this.state.confrim_pass_type === 'input' ? 'shown' : 'hiden'\n      });\n    };\n\n    _this.handlechangepassFormSubmit = function () {\n      if (_this.validateForm()) {\n        _this.setState(function (prevState) {\n          return {\n            showload: !prevState.showload\n          };\n        });\n\n        var formPayload = _this.state;\n\n        var qs = require('qs');\n\n        var user_token = _this.state.user_token;\n        var postObject = {\n          \"app_name\": appName,\n          \"user_id\": user_token,\n          \"current_password\": formPayload.current_password,\n          \"user_password\": formPayload.user_password,\n          \"user_cpassword\": formPayload.user_confirm_password\n        };\n        $(\".change-btn\").addClass('loading loading_data');\n\n        _this.props.getChangePassword(qs.stringify(postObject));\n      }\n    };\n\n    _this.state = {\n      showload: false\n    };\n    _this.state = {\n      current_password: '',\n      user_password: '',\n      user_confirm_password: '',\n      user_token: cookie.load('UserAuthToken'),\n      new_pass_type: 'password',\n      confrim_pass_type: 'password',\n      pass_show_hide_icon: 'shown',\n      confirm_show_hide_icon: 'shown',\n      errors: {}\n    };\n    _this.handlechangepassFormSubmit = _this.handlechangepassFormSubmit.bind(_assertThisInitialized(_this));\n    _this.new_pass_show_hide = _this.new_pass_show_hide.bind(_assertThisInitialized(_this));\n    _this.confim_pass_show_hide = _this.confim_pass_show_hide.bind(_assertThisInitialized(_this));\n    _this.closepopup = _this.closepopup.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Changepassword, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.title = PageTitle('Change Password');\n    }\n  }, {\n    key: \"validateForm\",\n    value: function validateForm() {\n      var _this$state = this.state,\n          current_password = _this$state.current_password,\n          user_password = _this$state.user_password,\n          user_confirm_password = _this$state.user_confirm_password;\n      var formIsValid = true;\n\n      if (!current_password) {\n        formIsValid = false;\n        $('.currentpaswd').html('<span class=\"errorspan\">Please enter old password</span>');\n      } else if (current_password) {\n        $('.currentpaswd').html('');\n      }\n\n      if (!user_password) {\n        formIsValid = false;\n        $('.userpswd').html('<span class=\"errorspan\">Please enter new password</span>');\n      } else if (user_password) {\n        $('.userpswd').html('');\n      }\n\n      if (!user_confirm_password) {\n        formIsValid = false;\n        $('.usercpswd').html('<span class=\"errorspan\">Please enter confirm password</span>');\n      } else if (user_confirm_password) {\n        $('.usercpswd').html('');\n      }\n\n      if (user_password !== user_confirm_password) {\n        formIsValid = false;\n        $('.usercpswd').html('<span class=\"errorspan\">Password does not match</span>');\n      }\n\n      $(\".change-btn\").removeClass('loading loading_data');\n      return formIsValid;\n    }\n  }, {\n    key: \"closepopup\",\n    value: function closepopup() {\n      $('.genie-close-btn').parents(\".genie-msg-popup-wrapper\").removeClass(\"genie-popup-open\");\n\n      if (cookie.load('changepassword') !== undefined && cookie.load('changepassword') !== '') {\n        cookie.remove(\"UserAuthToken\");\n        cookie.remove(\"login_user_type\");\n        cookie.remove(\"UserPoints\");\n        cookie.remove(\"UserMobile\");\n        cookie.remove(\"UserEmail\");\n        cookie.remove('UserFullname');\n        cookie.remove('CountryCode');\n        this.props.history.push('/logout');\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(Props) {\n      if (Object.keys(Props.changepassworddata).length > 0) {\n        if (Props.changepassworddata !== this.props.changepassworddata) {\n          if (Props.changepassworddata[0].status === \"success\") {\n            $(\".genie-msg-popup-wrapper\").addClass(\"genie-popup-open\");\n            $('.genie-msg-popup-body').html('<div class=\"state_img text-center\"><img src=\"' + SuccessMsg + '\"alt=\"ErrorMsg\" /></div><h2 class=\"title3\">Success</h2><p>' + Props.changepassworddata[0].message + '</p>');\n            cookie.save(\"changepassword\", 'yes');\n          } else {\n            $(\".change-btn\").removeClass('loading loading_data');\n            $(\".genie-msg-popup-wrapper\").addClass(\"genie-popup-open\");\n            $('.genie-msg-popup-body').html('<div class=\"state_img text-center\"><img src=\"' + ErrorMsg + '\"alt=\"ErrorMsg\" /></div><h2 class=\"title3\">Error</h2><p>' + Props.changepassworddata[0].message + '</p>');\n          }\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"wrapper_out account_bg_wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"account-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"account-title-warpper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"title4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, \"Change Password\"))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"Old Password\"), React.createElement(\"input\", {\n        type: \"password\",\n        className: \"form-control\",\n        name: \"current_password\",\n        id: \"current_password\",\n        placeholder: \"Enter old password\",\n        value: this.state.current_password,\n        onChange: this.handleChangeTxt.bind(this, 'current_password'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"currentpaswd\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group eye-pad\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"New Password\"), React.createElement(\"input\", {\n        type: this.state.new_pass_type,\n        name: \"user_password\",\n        placeholder: \"Enter new password\",\n        className: \"form-control\",\n        value: this.state.user_password,\n        onChange: this.handleChangeTxt.bind(this, 'user_password'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        toggle: \"#password-field\",\n        className: this.state.pass_show_hide_icon,\n        onClick: this.new_pass_show_hide,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-eye\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"userpswd\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group eye-pad\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"Confirm Password\"), React.createElement(\"input\", {\n        type: this.state.confrim_pass_type,\n        name: \"user_confirm_password\",\n        id: \"user_confirm_password\",\n        placeholder: \"Enter confirm password\",\n        className: \"form-control\",\n        value: this.state.user_confirm_password,\n        onChange: this.handleChangeTxt.bind(this, 'user_confirm_password'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        toggle: \"#password-field\",\n        className: this.state.confirm_show_hide_icon,\n        onClick: this.confim_pass_show_hide,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-eye\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"usercpswd\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"account-submit cp-account-submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn_orange btn_minwid change-btn animate-btn2\",\n        type: \"button\",\n        onClick: this.handlechangepassFormSubmit.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"Submit\", React.createElement(\"span\", {\n        className: this.state.showload ? \"show\" : \"hide\",\n        id: \"load_icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }))), React.createElement(\"a\", {\n        href: \"/edit-general-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn_grey btn_minwid change-btn animate-btn2\",\n        type: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, \"Cancel\")))))))), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"genie-msg-popup-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"genie-msg-popup-inner-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        onClick: this.closepopup,\n        className: \"genie-close-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-times\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"genie-msg-popup-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        onClick: this.closepopup,\n        className: \"genie-msg-popup-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn_orange btn_minwid genie-close-btn\",\n        type: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"Ok\")))));\n    }\n  }]);\n\n  return Changepassword;\n}(Component);\n\nvar mapStateTopProps = function mapStateTopProps(state) {\n  return {\n    changepassworddata: state.changepassword\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getChangePassword: function getChangePassword(formPayload) {\n      dispatch({\n        type: GET_CHANGEPASSWORD,\n        formPayload: formPayload\n      });\n    }\n  };\n};\n\nexport default connect(mapStateTopProps, mapDispatchToProps)(withRouter(Changepassword));","map":{"version":3,"sources":["D:/text video/geniehut-Geni-App-Code/geniehut-Geni-App-Code/front-end/src/components/Account/Changepassword.js"],"names":["React","Component","$","withRouter","connect","cookie","Header","Footer","SuccessMsg","ErrorMsg","appName","GET_CHANGEPASSWORD","PageTitle","CheckAuth","Changepassword","props","handleChangeTxt","item","event","setState","target","value","new_pass_show_hide","new_pass_type","state","pass_show_hide_icon","confim_pass_show_hide","confrim_pass_type","confirm_show_hide_icon","handlechangepassFormSubmit","validateForm","prevState","showload","formPayload","qs","require","user_token","postObject","current_password","user_password","user_confirm_password","addClass","getChangePassword","stringify","load","errors","bind","closepopup","document","title","formIsValid","html","removeClass","parents","undefined","remove","history","push","Props","Object","keys","changepassworddata","length","status","message","save","mapStateTopProps","changepassword","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport cookie from 'react-cookies';\nimport Header from '../Layout/Header';\nimport Footer from '../Layout/Footer';\nimport SuccessMsg from '../../common/images/success-msg.png';\nimport ErrorMsg from '../../common/images/error-msg.png';\nimport { appName } from \"../Config/Config\";\nimport { GET_CHANGEPASSWORD } from '../../actions';\nimport { PageTitle, CheckAuth } from \"../Helpers/SettingHelper\";\n\n\nclass Changepassword extends Component {\n\n    constructor(props) {\n        CheckAuth();\n        super(props);\n        this.state = {showload: false}\n        this.state = {\n            current_password: '',\n            user_password: '',\n            user_confirm_password: '',\n            user_token: cookie.load('UserAuthToken'),\n            new_pass_type: 'password',\n            confrim_pass_type: 'password',\n            pass_show_hide_icon: 'shown',\n            confirm_show_hide_icon: 'shown',\n            errors: {}\n        }\n        \n        this.handlechangepassFormSubmit = this.handlechangepassFormSubmit.bind(this);\n        this.new_pass_show_hide = this.new_pass_show_hide.bind(this);\n        this.confim_pass_show_hide = this.confim_pass_show_hide.bind(this);\n        this.closepopup = this.closepopup.bind(this);\n    }\n\n    componentDidMount(){\n        document.title = PageTitle('Change Password');\n    }\n      \n   handleChangeTxt = (item, event) => {  \n        this.setState({[item]:event.target.value }); \n    }\n    \n    new_pass_show_hide = () => {\n    this.setState({\n         new_pass_type: this.state.new_pass_type === 'input' ? 'password' : 'input',\n         pass_show_hide_icon: this.state.new_pass_type === 'input' ? 'shown' : 'hiden'\n        });\n    }\n    \n    confim_pass_show_hide = () => {\n    this.setState({\n         confrim_pass_type: this.state.confrim_pass_type === 'input' ? 'password' : 'input',\n         confirm_show_hide_icon: this.state.confrim_pass_type === 'input' ? 'shown' : 'hiden'\n        });\n    }    \n    handlechangepassFormSubmit = () => {\n        \n        if(this.validateForm()) {\n            \n            this.setState(prevState => ({\n                showload: !prevState.showload\n            }));\n            \n            const formPayload = this.state;\n            var qs = require('qs');\n            var user_token = this.state.user_token; \n            var postObject = {\n                \"app_name\": appName,\n                \"user_id\": user_token,\n                \"current_password\": formPayload.current_password,\n                \"user_password\": formPayload.user_password,\n                \"user_cpassword\": formPayload.user_confirm_password\n            }; \n            $(\".change-btn\").addClass('loading loading_data'); \n            this.props.getChangePassword(qs.stringify(postObject));\n        }\n    }\n  validateForm() {        \n        const {current_password,user_password,user_confirm_password} = this.state;\n        let formIsValid = true;\n        if (!current_password) {\n            formIsValid = false;\n             $('.currentpaswd').html('<span class=\"errorspan\">Please enter old password</span>');\n        }else if(current_password){\n            $('.currentpaswd').html('');\n        }\n\n        if (!user_password) {\n            formIsValid = false;\n             $('.userpswd').html('<span class=\"errorspan\">Please enter new password</span>');\n        }else if(user_password){\n            $('.userpswd').html('');\n        }\n        \n        if (!user_confirm_password) {\n            formIsValid = false;\n            $('.usercpswd').html('<span class=\"errorspan\">Please enter confirm password</span>');\n        }else if(user_confirm_password){\n            $('.usercpswd').html('');\n        }\n        if(user_password !== user_confirm_password){\n            formIsValid = false;\n             $('.usercpswd').html('<span class=\"errorspan\">Password does not match</span>');\n        }\n        $(\".change-btn\").removeClass('loading loading_data');\n        return formIsValid;\n    }\n    closepopup(){\n        $('.genie-close-btn').parents(\".genie-msg-popup-wrapper\").removeClass(\"genie-popup-open\");\n        if(cookie.load('changepassword')!== undefined && cookie.load('changepassword')!==''){\n                cookie.remove(\"UserAuthToken\");\n                cookie.remove(\"login_user_type\");\n                cookie.remove(\"UserPoints\");\n                cookie.remove(\"UserMobile\");\n                cookie.remove(\"UserEmail\");\n                cookie.remove('UserFullname');\n                cookie.remove('CountryCode');\n                this.props.history.push('/logout');\n        }\n    }\n\n    componentWillReceiveProps(Props) {\n        if(Object.keys(Props.changepassworddata).length > 0){\n             if(Props.changepassworddata !== this.props.changepassworddata){\n                if(Props.changepassworddata[0].status === \"success\"){\n                    $(\".genie-msg-popup-wrapper\").addClass(\"genie-popup-open\");\n                    $('.genie-msg-popup-body').html('<div class=\"state_img text-center\"><img src=\"'+SuccessMsg+'\"alt=\"ErrorMsg\" /></div><h2 class=\"title3\">Success</h2><p>'+Props.changepassworddata[0].message+'</p>');\n                        cookie.save(\"changepassword\",'yes');\n                }else{\n                    $(\".change-btn\").removeClass('loading loading_data'); \n                    $(\".genie-msg-popup-wrapper\").addClass(\"genie-popup-open\");\n                    $('.genie-msg-popup-body').html('<div class=\"state_img text-center\"><img src=\"'+ErrorMsg+'\"alt=\"ErrorMsg\" /></div><h2 class=\"title3\">Error</h2><p>'+Props.changepassworddata[0].message+'</p>');\n                }\n             }\n        }\n    }\n\nrender() {\n    return (\n        <div>\n            <Header />\n               <div className=\"wrapper_out account_bg_wrap\">\n                   <div className=\"container\">\n                        <div className=\"account-wrapper\">\n                            <div className=\"account-title-warpper\">\n                                <h2 className=\"title4\"><span>Change Password</span></h2>\n                            </div>\n                            <div>\n                                <form>\n                                    <div className=\"form-group\">\n                                        <label>Old Password</label>\n                                        <input type=\"password\" className=\"form-control\" name=\"current_password\" id=\"current_password\" placeholder=\"Enter old password\"  value={this.state.current_password} onChange={this.handleChangeTxt.bind(this, 'current_password')}/>\n                                        <div className=\"currentpaswd\"></div>\n                                    </div>\n                                    <div className=\"form-group eye-pad\">\n                                        <label>New Password</label>\n                                        <input type={this.state.new_pass_type}  name=\"user_password\" placeholder=\"Enter new password\" className=\"form-control\" value={this.state.user_password} onChange={this.handleChangeTxt.bind(this, 'user_password')}/>\n                                        <span toggle=\"#password-field\" className={this.state.pass_show_hide_icon} onClick={this.new_pass_show_hide}><i className=\"fa fa-eye\" aria-hidden=\"true\"></i></span>\n                                        <div className=\"userpswd\"></div>\n                                    </div>\n                                    <div className=\"form-group eye-pad\">\n                                        <label>Confirm Password</label>\n                                        <input type={this.state.confrim_pass_type} name=\"user_confirm_password\" id=\"user_confirm_password\" placeholder=\"Enter confirm password\" className=\"form-control\" value={this.state.user_confirm_password} onChange={this.handleChangeTxt.bind(this, 'user_confirm_password')}/>\n                                        <span toggle=\"#password-field\" className={this.state.confirm_show_hide_icon} onClick={this.confim_pass_show_hide}><i className=\"fa fa-eye\" aria-hidden=\"true\"></i></span>\n                                        <div className=\"usercpswd\"></div>\n                                    </div>\n                                    <div className=\"account-submit cp-account-submit\">  \n                                        <button className=\"btn btn_orange btn_minwid change-btn animate-btn2\" type=\"button\" onClick={this.handlechangepassFormSubmit.bind(this)}>Submit\n                                        <span className={this.state.showload ? \"show\" : \"hide\"} id=\"load_icon\"><b></b></span>\n                                        </button>\n                                        <a href=\"/edit-general-info\"><button className=\"btn btn_grey btn_minwid change-btn animate-btn2\" type=\"button\" >Cancel\n                                        </button>\n                                        </a>\n                                    </div>\n                                </form>\n                            </div>\n                        </div>\n                   </div>\n               </div>\n            <Footer />\n             <div className=\"genie-msg-popup-wrapper\">\n            <div className=\"genie-msg-popup-inner-wrapper\">\n                <a onClick={this.closepopup} className=\"genie-close-btn\"><i className=\"fa fa-times\" aria-hidden=\"true\"></i></a>\n                    <div className=\"genie-msg-popup-body\">\n                </div>\n                 <div onClick={this.closepopup} className=\"genie-msg-popup-btn\"><button className=\"btn btn_orange btn_minwid genie-close-btn\" type=\"button\">Ok</button></div>\n            </div>\n        </div>\n        </div>\n    );\n}\n}\n\nconst mapStateTopProps = (state) => {\n  return {\n    changepassworddata: state.changepassword\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getChangePassword: (formPayload) => {\n      dispatch({ type: GET_CHANGEPASSWORD, formPayload });\n    },\n  }\n}\nexport default connect(mapStateTopProps, mapDispatchToProps)(withRouter(Changepassword));\n"]},"metadata":{},"sourceType":"module"}