{"ast":null,"code":"import _defineProperty from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\src\\\\components\\\\Layout\\\\QuotationDetailSave.js\";\n\n/* eslint-disable */\nimport React, { Component } from 'react';\nimport { Table } from 'react-bootstrap';\nimport { appName } from \"../Config/Config\";\nimport cookie from 'react-cookies';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { GET_SAVEQUOTATION } from '../../actions';\nimport $ from 'jquery';\nimport SuccessMsg from '../../common/images/success-msg.png';\nimport ErrorMsg from '../../common/images/error-msg.png';\n\nvar QuotationDetailSave =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(QuotationDetailSave, _Component);\n\n  function QuotationDetailSave(props) {\n    var _this;\n\n    _classCallCheck(this, QuotationDetailSave);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(QuotationDetailSave).call(this, props));\n\n    _this.sendquotation = function () {\n      var formPayload = _this.state;\n      var quot_gst;\n\n      if (formPayload.quot_gst === 1) {\n        quot_gst = 'Y';\n      } else {\n        quot_gst = 'N';\n      }\n\n      var qs = require('qs');\n\n      var postObject = {\n        \"app_name\": appName,\n        \"user_token\": cookie.load('UserAuthToken'),\n        \"job_id\": _this.props.jobid,\n        \"quot_data\": _this.state.rows,\n        \"quot_gst\": quot_gst,\n        \"total_amount\": formPayload.totalamount,\n        \"total_amount_gst\": formPayload.totalamountgst,\n        \"quot_id\": _this.props.quot_id,\n        \"inv_id\": _this.props.inv_id,\n        \"template_name\": formPayload.template_name,\n        \"quote_mode\": 'save_template'\n      };\n\n      _this.props.getSaveQuotation(qs.stringify(postObject));\n    };\n\n    _this.state = {\n      rows: _this.props.servicedata,\n      totalamount: _this.props.totalamount,\n      totalamountgst: _this.props.totalamountgst,\n      GST: _this.props.quot_gst,\n      quotationDeatils: '',\n      template_name: ''\n    };\n    _this.handleInputChange = _this.handleInputChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(QuotationDetailSave, [{\n    key: \"handleInputChange\",\n    value: function handleInputChange(event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n      this.setState(_defineProperty({}, name, value));\n    }\n  }, {\n    key: \"closepopup\",\n    value: function closepopup() {\n      $('.genie-close-btn').click(function (event) {\n        $(this).parents(\".genie-msg-popup-wrapper\").removeClass(\"genie-popup-open\");\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(Props) {\n      if (Object.keys(Props.savequotation).length > 0) {\n        if (Props.savequotation !== this.props.savequotation) {\n          if (Props.savequotation[0].status === 'success') {\n            if (Props.savequotation[0].message === 'save_templated') {\n              $(\".genie-msg-popup-wrapper\").addClass(\"genie-popup-open\");\n              $('.genie-msg-popup-body').html('<div class=\"state_img text-center\"><img src=\"' + SuccessMsg + '\" alt=\"SuccessMsg\" /></div><h2 class=\"title3\">Success</h2><p>Quotation Saved Successfully</p> ');\n            }\n          } else {\n            $(\".genie-msg-popup-wrapper\").addClass(\"genie-popup-open\");\n            $('.genie-msg-popup-body').html('<div class=\"state_img text-center\"><img src=\"' + ErrorMsg + '\" alt=\"errorMsg\" /></div><h2 class=\"title3\">Success</h2><p>Quotation Saved Successfully</p> ');\n          }\n        }\n      }\n    }\n  }, {\n    key: \"quotationtable\",\n    value: function quotationtable() {\n      var quotationdata = this.state.rows;\n\n      if (quotationdata !== undefined && quotationdata !== null) {\n        if (Object.keys(quotationdata).length > 0) {\n          var quotationDeatils = quotationdata.map(function (quotation, quotationIndex) {\n            return React.createElement(\"tr\", {\n              key: quotation.sg_quot_det_id,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 86\n              },\n              __self: this\n            }, React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 87\n              },\n              __self: this\n            }, quotation.quot_desc), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 88\n              },\n              __self: this\n            }, quotation.quot_amount));\n          });\n          return quotationDeatils;\n        }\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"GPCLD_wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"GPCLD_inner_wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"GPCLD_PDL_Template\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        action: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Template Name:\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"template_name\",\n        autoComplete: \"off\",\n        onChange: this.handleInputChange,\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"GPCLD_Tab_wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"GPCLD_equotation_wrap GPCLD_JDEQ\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"GPCLD_EQ_Fiedls\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(Table, {\n        striped: true,\n        bordered: true,\n        hover: true,\n        id: \"tab_logic\",\n        className: \"GPCLD_EQF_table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Service Details\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Price\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, this.quotationtable()))), React.createElement(\"div\", {\n        className: \"GPCLD_EQ_Total_wrap GPCLD_E-QView_Total\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"GPCLD_EQ_Total_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Subtotal\"), React.createElement(\"span\", {\n        className: \"GPCLD_EQ_Total_det\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, this.state.totalamount, \" SGD\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"GPCLD_EQ_Total_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"GST\"), React.createElement(\"span\", {\n        className: \"GPCLD_EQ_Total_det\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, this.state.GST ? 7 : '', \"%\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"GPCLD_EQ_Total_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"Total Price ( GST INC )\"), React.createElement(\"span\", {\n        className: \"GPCLD_EQ_Total_det Big\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, this.state.totalamountgst, \" SGD\")))), React.createElement(\"div\", {\n        className: \"GPCLD_EQoute_wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"JobStatusBtn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.sendquotation.bind(this),\n        className: \"btn btn_blue btn_minwid animate-btn2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Save\"))))))), React.createElement(\"div\", {\n        className: \"genie-msg-popup-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"genie-msg-popup-inner-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        onClick: this.closepopup,\n        href: \"#\",\n        className: \"genie-close-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-times\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"genie-msg-popup-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        onClick: this.closepopup,\n        className: \"genie-msg-popup-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn_orange btn_minwid genie-close-btn\",\n        type: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"Ok\")))));\n    }\n  }]);\n\n  return QuotationDetailSave;\n}(Component);\n\nvar mapStateTopProps = function mapStateTopProps(state) {\n  return {\n    savequotation: state.savequotation\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getSaveQuotation: function getSaveQuotation(formPayload) {\n      dispatch({\n        type: GET_SAVEQUOTATION,\n        formPayload: formPayload\n      });\n    }\n  };\n};\n\nexport default connect(mapStateTopProps, mapDispatchToProps)(withRouter(QuotationDetailSave));","map":{"version":3,"sources":["D:/text video/geniehut-Geni-App-Code/geniehut-Geni-App-Code/front-end/src/components/Layout/QuotationDetailSave.js"],"names":["React","Component","Table","appName","cookie","connect","withRouter","GET_SAVEQUOTATION","$","SuccessMsg","ErrorMsg","QuotationDetailSave","props","sendquotation","formPayload","state","quot_gst","qs","require","postObject","load","jobid","rows","totalamount","totalamountgst","quot_id","inv_id","template_name","getSaveQuotation","stringify","servicedata","GST","quotationDeatils","handleInputChange","bind","event","target","name","value","setState","click","parents","removeClass","Props","Object","keys","savequotation","length","status","message","addClass","html","quotationdata","undefined","map","quotation","quotationIndex","sg_quot_det_id","quot_desc","quot_amount","quotationtable","closepopup","mapStateTopProps","mapDispatchToProps","dispatch","type"],"mappings":";;;;;;;;;AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,KAAT,QAAuB,iBAAvB;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,iBAAT,QAAkC,eAAlC;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,UAAP,MAAuB,qCAAvB;AACA,OAAOC,QAAP,MAAqB,mCAArB;;IAEMC,mB;;;;;AACL,+BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AAClB,6FAAMA,KAAN;;AADkB,UAyBlBC,aAzBkB,GAyBF,YAAM;AACpB,UAAMC,WAAW,GAAG,MAAKC,KAAzB;AACE,UAAIC,QAAJ;;AACA,UAAGF,WAAW,CAACE,QAAZ,KAAyB,CAA5B,EAA8B;AACxBA,QAAAA,QAAQ,GAAG,GAAX;AACL,OAFD,MAEK;AACCA,QAAAA,QAAQ,GAAG,GAAX;AACL;;AACA,UAAIC,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAhB;;AACG,UAAIC,UAAU,GAAG;AACjB,oBAAYhB,OADK;AAEjB,sBAAeC,MAAM,CAACgB,IAAP,CAAY,eAAZ,CAFE;AAGjB,kBAAU,MAAKR,KAAL,CAAWS,KAHJ;AAIjB,qBAAa,MAAKN,KAAL,CAAWO,IAJP;AAKjB,oBAAYN,QALK;AAMjB,wBAAgBF,WAAW,CAACS,WANX;AAOjB,4BAAoBT,WAAW,CAACU,cAPf;AAQjB,mBAAU,MAAKZ,KAAL,CAAWa,OARJ;AASjB,kBAAS,MAAKb,KAAL,CAAWc,MATH;AAUjB,yBAAgBZ,WAAW,CAACa,aAVX;AAWjB,sBAAc;AAXG,OAAjB;;AAaN,YAAKf,KAAL,CAAWgB,gBAAX,CAA4BX,EAAE,CAACY,SAAH,CAAaV,UAAb,CAA5B;AAED,KAjDiB;;AAEhB,UAAKJ,KAAL,GAAa;AACPO,MAAAA,IAAI,EAAE,MAAKV,KAAL,CAAWkB,WADV;AAEPP,MAAAA,WAAW,EAAC,MAAKX,KAAL,CAAWW,WAFhB;AAGPC,MAAAA,cAAc,EAAC,MAAKZ,KAAL,CAAWY,cAHnB;AAIPO,MAAAA,GAAG,EAAC,MAAKnB,KAAL,CAAWI,QAJR;AAKPgB,MAAAA,gBAAgB,EAAC,EALV;AAMPL,MAAAA,aAAa,EAAC;AANP,KAAb;AAQC,UAAKM,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBC,IAAvB,+BAAzB;AAVe;AAWhB;;;;sCAEeC,K,EAAO;AAAA,0BAEEA,KAAK,CAACC,MAFR;AAAA,UAEbC,IAFa,iBAEbA,IAFa;AAAA,UAEPC,KAFO,iBAEPA,KAFO;AAGpB,WAAKC,QAAL,qBACKF,IADL,EACYC,KADZ;AAGJ;;;iCACW;AACX9B,MAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsBgC,KAAtB,CAA6B,UAASL,KAAT,EAAgB;AAC3C3B,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQiC,OAAR,CAAgB,0BAAhB,EAA4CC,WAA5C,CAAwD,kBAAxD;AACD,OAFD;AAGD;;;8CA0B2BC,K,EAAO;AAC/B,UAAGC,MAAM,CAACC,IAAP,CAAYF,KAAK,CAACG,aAAlB,EAAiCC,MAAjC,GAA0C,CAA7C,EAAgD;AAC5C,YAAGJ,KAAK,CAACG,aAAN,KAAwB,KAAKlC,KAAL,CAAWkC,aAAtC,EAAoD;AAClD,cAAGH,KAAK,CAACG,aAAN,CAAoB,CAApB,EAAuBE,MAAvB,KAAkC,SAArC,EAA+C;AAC/C,gBAAGL,KAAK,CAACG,aAAN,CAAoB,CAApB,EAAuBG,OAAvB,KAAmC,gBAAtC,EAAuD;AACrDzC,cAAAA,CAAC,CAAC,0BAAD,CAAD,CAA8B0C,QAA9B,CAAuC,kBAAvC;AACI1C,cAAAA,CAAC,CAAC,uBAAD,CAAD,CAA2B2C,IAA3B,CAAgC,kDAAgD1C,UAAhD,GAA2D,gGAA3F;AACL;AACD,WALA,MAKI;AACHD,YAAAA,CAAC,CAAC,0BAAD,CAAD,CAA8B0C,QAA9B,CAAuC,kBAAvC;AACC1C,YAAAA,CAAC,CAAC,uBAAD,CAAD,CAA2B2C,IAA3B,CAAgC,kDAAgDzC,QAAhD,GAAyD,8FAAzF;AACF;AACD;AACF;AACJ;;;qCAEgB;AACf,UAAM0C,aAAa,GAAG,KAAKrC,KAAL,CAAWO,IAAjC;;AACA,UAAG8B,aAAa,KAAIC,SAAjB,IAA8BD,aAAa,KAAI,IAAlD,EAAuD;AACrD,YAAGR,MAAM,CAACC,IAAP,CAAYO,aAAZ,EAA2BL,MAA3B,GAAoC,CAAvC,EAA0C;AACvC,cAAMf,gBAAgB,GAAGoB,aAAa,CAACE,GAAd,CAAkB,UAACC,SAAD,EAAYC,cAAZ,EAA+B;AACvE,mBACY;AAAI,cAAA,GAAG,EAAED,SAAS,CAACE,cAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAKF,SAAS,CAACG,SAAf,CADH,EAEG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAKH,SAAS,CAACI,WAAf,CAFH,CADZ;AASN,WAV4B,CAAzB;AAWH,iBAAO3B,gBAAP;AACA;AACD,OAfD,MAeO;AACL,eAAO,KAAP;AACD;AACF;;;6BAEQ;AAEP,aACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACM;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,MAAM,EAAC,EAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,EAEI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,eAAxB;AAAwC,QAAA,YAAY,EAAC,KAArD;AAA2D,QAAA,QAAQ,EAAE,KAAKC,iBAA1E;AAA6F,QAAA,SAAS,EAAC,cAAvG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADL,CADJ,CADJ,EASI;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG;AAAK,QAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACM,oBAAC,KAAD;AAAO,QAAA,OAAO,MAAd;AAAe,QAAA,QAAQ,MAAvB;AAAwB,QAAA,KAAK,MAA7B;AAA8B,QAAA,EAAE,EAAC,WAAjC;AAA6C,QAAA,SAAS,EAAC,iBAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,CADF,CADJ,EAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,KAAK2B,cAAL,EADJ,CARJ,CADN,CADJ,EAeI;AAAK,QAAA,SAAS,EAAC,yCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI;AAAM,QAAA,SAAS,EAAC,sBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAJ,EAA0D;AAAM,QAAA,SAAS,EAAC,oBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAsC,KAAK7C,KAAL,CAAWQ,WAAjD,SAA1D,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI;AAAM,QAAA,SAAS,EAAC,sBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAJ,EAAqD;AAAM,QAAA,SAAS,EAAC,oBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAsC,KAAKR,KAAL,CAAWgB,GAAX,GAAe,CAAf,GAAiB,EAAvD,MAArD,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI;AAAM,QAAA,SAAS,EAAC,sBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAAJ,EAAyE;AAAM,QAAA,SAAS,EAAC,wBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA0C,KAAKhB,KAAL,CAAWS,cAArD,SAAzE,CAHJ,CADH,CAfJ,EAsBI;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAQ,QAAA,OAAO,EAAE,KAAKX,aAAL,CAAmBqB,IAAnB,CAAwB,IAAxB,CAAjB;AAAgD,QAAA,SAAS,EAAC,sCAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,CADJ,CAtBJ,CADH,CATJ,CADJ,CADN,EA4CU;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG;AAAK,QAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,OAAO,EAAE,KAAK2B,UAAjB;AAA6B,QAAA,IAAI,EAAC,GAAlC;AAAuC,QAAA,SAAS,EAAC,iBAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmE;AAAG,QAAA,SAAS,EAAC,aAAb;AAA2B,uBAAY,MAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAnE,CADJ,EAEM;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFN,EAIK;AAAK,QAAA,OAAO,EAAE,KAAKA,UAAnB;AAA+B,QAAA,SAAS,EAAC,qBAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA+D;AAAQ,QAAA,SAAS,EAAC,2CAAlB;AAA8D,QAAA,IAAI,EAAC,QAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA/D,CAJL,CADH,CA5CV,CADG;AAyDD;;;;EApJ+B5D,S;;AAuJlC,IAAM6D,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAC/C,KAAD,EAAW;AAClC,SAAO;AACH+B,IAAAA,aAAa,EAAE/B,KAAK,CAAC+B;AADlB,GAAP;AAGD,CAJD;;AAMA,IAAMiB,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD,EAAc;AACvC,SAAO;AACJpC,IAAAA,gBAAgB,EAAE,0BAACd,WAAD,EAAiB;AAC9BkD,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAE1D,iBAAR;AAA2BO,QAAAA,WAAW,EAAXA;AAA3B,OAAD,CAAR;AACH;AAHE,GAAP;AAKD,CAND;;AAOA,eAAeT,OAAO,CAACyD,gBAAD,EAAmBC,kBAAnB,CAAP,CAA8CzD,UAAU,CAACK,mBAAD,CAAxD,CAAf","sourcesContent":["/* eslint-disable */\nimport React, { Component } from 'react';\nimport { Table  } from 'react-bootstrap';\nimport { appName } from \"../Config/Config\";\nimport cookie from 'react-cookies';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { GET_SAVEQUOTATION } from '../../actions';\nimport $ from 'jquery';\nimport SuccessMsg from '../../common/images/success-msg.png';\nimport ErrorMsg from '../../common/images/error-msg.png';\n\nclass QuotationDetailSave extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\t\n    this.state = {\n          rows: this.props.servicedata,\n          totalamount:this.props.totalamount,\n          totalamountgst:this.props.totalamountgst,\n          GST:this.props.quot_gst,\n          quotationDeatils:'',\n          template_name:''\n      }\n     this.handleInputChange = this.handleInputChange.bind(this);\n\t  }\n\n handleInputChange(event) {\n    \n      const {name, value} = event.target;\n      this.setState({\n          [name]: value\n        });    \n }\n closepopup(){\n  $('.genie-close-btn').click( function(event) {\n    $(this).parents(\".genie-msg-popup-wrapper\").removeClass(\"genie-popup-open\");\n  });\n}\n  sendquotation = () => {\n    const formPayload = this.state;\n      let quot_gst;\n      if(formPayload.quot_gst === 1){\n            quot_gst = 'Y' ;\n      }else{\n            quot_gst = 'N'\n      }\n       var qs = require('qs');\n          var postObject = {\n          \"app_name\": appName,\n          \"user_token\" : cookie.load('UserAuthToken'),\n          \"job_id\": this.props.jobid,\n          \"quot_data\": this.state.rows,\n          \"quot_gst\": quot_gst,\n          \"total_amount\": formPayload.totalamount,\n          \"total_amount_gst\": formPayload.totalamountgst,\n          \"quot_id\":this.props.quot_id,\n          \"inv_id\":this.props.inv_id,\n          \"template_name\":formPayload.template_name,\n          \"quote_mode\": 'save_template',\n          };\n    this.props.getSaveQuotation(qs.stringify(postObject));\n\n  }\n \tcomponentWillReceiveProps(Props) {\n    if(Object.keys(Props.savequotation).length > 0) {\n        if(Props.savequotation !== this.props.savequotation){\n          if(Props.savequotation[0].status === 'success'){\n          if(Props.savequotation[0].message === 'save_templated'){\n            $(\".genie-msg-popup-wrapper\").addClass(\"genie-popup-open\");\n                $('.genie-msg-popup-body').html('<div class=\"state_img text-center\"><img src=\"'+SuccessMsg+'\" alt=\"SuccessMsg\" /></div><h2 class=\"title3\">Success</h2><p>Quotation Saved Successfully</p> ');\n          }\n         }else{\n           $(\".genie-msg-popup-wrapper\").addClass(\"genie-popup-open\");\n            $('.genie-msg-popup-body').html('<div class=\"state_img text-center\"><img src=\"'+ErrorMsg+'\" alt=\"errorMsg\" /></div><h2 class=\"title3\">Success</h2><p>Quotation Saved Successfully</p> ');\n         }\n        }\n      }\n  }\n\n  quotationtable() {\n    const quotationdata = this.state.rows;\n    if(quotationdata!== undefined && quotationdata!== null){\n      if(Object.keys(quotationdata).length > 0) {\n         const quotationDeatils = quotationdata.map((quotation, quotationIndex) => {\n            return (\n                        <tr key={quotation.sg_quot_det_id}>\n                           <td>{quotation.quot_desc}</td>\n                           <td>{quotation.quot_amount}</td>\n                       </tr>\n\n                    \n                   );\n    \n     });\n      return quotationDeatils;\n     }\n    } else {\n      return false;\n    }\n  }\n\n  render() {\n\n    return (\n\t<div>\n       <div className=\"GPCLD_wrapper\">\n           <div className=\"GPCLD_inner_wrapper\">\n               <div className=\"GPCLD_PDL_Template\">\n                   <form action=\"\">\n                        <div className=\"form-group\">\n                            <label>Template Name:</label>\n                            <input type=\"text\" name=\"template_name\" autoComplete=\"off\" onChange={this.handleInputChange} className=\"form-control\" />\n                        </div>\n                   </form>\n               </div>\n               <div className=\"GPCLD_Tab_wrapper\">\n                  <div className=\"GPCLD_equotation_wrap GPCLD_JDEQ\">\n                      <div className=\"GPCLD_EQ_Fiedls\">\n                            <Table striped bordered hover id=\"tab_logic\" className=\"GPCLD_EQF_table\">\n                                <thead>\n                                  <tr>\n                                    <th>Service Details</th>\n                                    <th>Price</th>\n                                    <th />\n                                  </tr>\n                                </thead>\n                                <tbody>\n                                   {this.quotationtable()}\n                                </tbody>\n                            </Table>\n                      </div>\n                      <div className=\"GPCLD_EQ_Total_wrap GPCLD_E-QView_Total\">\n                         <ul>\n                             <li><span className=\"GPCLD_EQ_Total_title\">Subtotal</span><span className=\"GPCLD_EQ_Total_det\">{this.state.totalamount} SGD</span></li>\n                             <li><span className=\"GPCLD_EQ_Total_title\">GST</span><span className=\"GPCLD_EQ_Total_det\">{this.state.GST?7:''}%</span></li>\n                             <li><span className=\"GPCLD_EQ_Total_title\">Total Price ( GST INC )</span><span className=\"GPCLD_EQ_Total_det Big\">{this.state.totalamountgst} SGD</span></li>\n                         </ul>\n                      </div>\n                      <div className=\"GPCLD_EQoute_wrap\">\n                          <div className=\"JobStatusBtn\">\n                              <button onClick={this.sendquotation.bind(this)} className=\"btn btn_blue btn_minwid animate-btn2\">Save</button>\n                          </div>\n                      </div>\n                  </div>\n               </div>\n           </div>\n       </div>\n\n           <div className=\"genie-msg-popup-wrapper\">\n              <div className=\"genie-msg-popup-inner-wrapper\">\n                  <a onClick={this.closepopup} href=\"#\"  className=\"genie-close-btn\"><i className=\"fa fa-times\" aria-hidden=\"true\"></i></a>\n                    <div className=\"genie-msg-popup-body\">\n                  </div>\n                   <div onClick={this.closepopup} className=\"genie-msg-popup-btn\"><button className=\"btn btn_orange btn_minwid genie-close-btn\" type=\"button\">Ok</button></div>\n              </div>\n            </div>\n\n\n    </div>\n    );\n  }\n}\n\nconst mapStateTopProps = (state) => {\n  return {\n      savequotation: state.savequotation,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n     getSaveQuotation: (formPayload) => {\n          dispatch({ type: GET_SAVEQUOTATION, formPayload });\n      },\n  }\n}\nexport default connect(mapStateTopProps, mapDispatchToProps)(withRouter(QuotationDetailSave));\n"]},"metadata":{},"sourceType":"module"}