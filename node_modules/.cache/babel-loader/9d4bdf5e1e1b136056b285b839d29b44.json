{"ast":null,"code":"import _classCallCheck from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\src\\\\components\\\\Genpro\\\\ServiceDetail.js\";\nimport React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\"; //import PriceTagIcon from \"../../common/images/price-tag-icon.png\";\n\nimport PriceTagIcon from \"../../common/images/web.png\"; //import ProfileImg from \"../../common/images/ManageProp_img.jpeg\";\n\nimport ProfileImg from \"../../common/images/profile2.png\";\nimport emailIcon from \"../../common/images/mail.png\";\nimport phoneIcon from \"../../common/images/mobile.png\";\nimport shopIcon from \"../../common/images/location.png\";\nimport Header from \"../Layout/Header\";\nimport Footer from \"../Layout/Footer\";\nimport cookie from \"react-cookies\";\nimport { GET_PRO_SERVICES_DETAILS } from \"../../actions\";\nimport { appName, mediaUrl, profileImage } from \"../Config/Config\";\nimport { Capitalize, LoadingSec, Encrypt, loadImage } from \"../Helpers/SettingHelper\";\nimport DivSection from \"../Layout/DivSection\";\n\nvar ServiceDetail =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ServiceDetail, _Component);\n\n  function ServiceDetail(props) {\n    var _this;\n\n    _classCallCheck(this, ServiceDetail);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ServiceDetail).call(this, props));\n    _this.state = {\n      loading: true,\n      UserAuthToken: cookie.load(\"UserAuthToken\"),\n      ref_id: _this.props.match.params.RefId,\n      pro_id: _this.props.match.params.ProId,\n      proDetails: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(ServiceDetail, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var postdata = [];\n      postdata[\"app_name\"] = appName;\n      postdata[\"user_token\"] = this.state.UserAuthToken;\n      postdata[\"ref_id\"] = this.state.ref_id;\n      postdata[\"pro_id\"] = this.state.pro_id;\n\n      var qs = require(\"qs\");\n\n      this.props.getProServicesDetails(qs.stringify(postdata));\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(Props) {\n      if (Props.proservicesdetails !== this.props.proservicesdetails) {\n        this.setState({\n          loading: false\n        });\n\n        if (Props.proservicesdetails[0].status === \"success\") {\n          this.setState({\n            proDetails: Props.proservicesdetails[0].result_set\n          });\n        } else if (Props.proservicesdetails[0].status === \"authenticfailed\") {\n          this.props.history.push(\"/login\");\n        }\n      }\n    }\n    /*backservicelist(){\n       window.location.href = \"/customer/pro-search-list\";\n    }*/\n\n  }, {\n    key: \"loadProDetails\",\n    value: function loadProDetails() {\n      var imgsrc;\n\n      if (this.state.proDetails.pro_info.user_profile_image === null || this.state.proDetails.pro_info.user_profile_image == '') {\n        imgsrc = ProfileImg + \"\";\n      } else {\n        imgsrc = profileImage + this.state.proDetails.pro_info.user_profile_image + \"\";\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"pro-psd-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"psdh-img\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: imgsrc,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"psdh-txt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"psdh-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, this.state.proDetails.pro_info.publishName > 0 ? this.state.proDetails.pro_info.displayname : this.state.proDetails.pro_info.user_name), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, this.state.proDetails.service_name)), React.createElement(\"div\", {\n        className: \"psdh-bottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"psdh-bottom-btns\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: phoneIcon,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }), \":\", React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \" \", this.state.proDetails.pro_info.publishLandline > 0 ? this.state.proDetails.pro_info.displaycontactno : 'N/A'), \" \"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: PriceTagIcon,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }), \":\", React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \" \", this.state.proDetails.pro_info.publishWebAddress > 0 ? this.state.proDetails.pro_info.vendor_webaddress : 'N/A'), \" \"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: emailIcon,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), \":\", React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \" \", this.state.proDetails.pro_info.publishemail > 0 ? this.state.proDetails.pro_info.vendor_email : 'N/A'), \" \"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: shopIcon,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), \":\", React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \" \", this.state.proDetails.pro_info.publishcompanyaddr > 0 ? this.state.proDetails.pro_info.vendor_company_address : 'N/A'), \" \"))))), React.createElement(\"div\", {\n        className: \"pro-psd-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"pro-psd-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"Information\")), this.loadQuestion()), React.createElement(\"div\", {\n        className: \"pro-psd-review\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"pro-psd-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"Reviews\")), React.createElement(\"div\", {\n        className: \"pro-psd-review-rating\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"review-rate\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, this.state.proDetails.ratings_total.attitude !== null ? this.state.proDetails.ratings_total.attitude : 0), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Service Attitude\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"review-rate\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, this.state.proDetails.ratings_total.quality !== null ? this.state.proDetails.ratings_total.quality : 0), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"Material Quality\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"review-rate\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, this.state.proDetails.ratings_total.duration !== null ? this.state.proDetails.ratings_total.duration : 0), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Duration / punctuality\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"review-rate\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, this.state.proDetails.ratings_total.price !== null ? this.state.proDetails.ratings_total.price : 0), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Price\"))), React.createElement(\"div\", {\n        className: \"pro-psd-review-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, this.state.proDetails.review_all.length > 0 && this.loadReviews(), this.state.proDetails.review_all.length === 0 && React.createElement(\"div\", {\n        className: \"pp-review-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"No reviews found.\"))));\n    }\n  }, {\n    key: \"loadQuestion\",\n    value: function loadQuestion() {\n      var _this2 = this;\n\n      var question = \"\";\n\n      if (this.state.proDetails.ques_all !== \"\" && typeof this.state.proDetails.ques_all !== undefined) {\n        question = Object.entries(this.state.proDetails.ques_all).map(function (item, index) {\n          //if(index<=3) {\n          var quiz = item[1];\n          return React.createElement(\"div\", {\n            className: \"qn-box\",\n            key: index,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 166\n            },\n            __self: this\n          }, React.createElement(\"h3\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 167\n            },\n            __self: this\n          }, quiz.quiz_question), React.createElement(\"ul\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 169\n            },\n            __self: this\n          }, _this2.loadAnswer(quiz.quiz_id))); // }\n        });\n      }\n\n      return question;\n    }\n  }, {\n    key: \"loadAnswer\",\n    value: function loadAnswer(questionID) {\n      var answer = \"\";\n\n      if (this.state.proDetails.pro_info_ans[questionID] !== \"\" && typeof this.state.proDetails.pro_info_ans[questionID] !== \"undefined\" && this.state.proDetails.pro_info_ans[questionID] !== null) {\n        answer = Object.entries(this.state.proDetails.pro_info_ans[questionID]).map(function (item, index) {\n          var ans = item[1];\n          var anspro = '';\n\n          if (ans.type == 'image') {\n            var ansproimag = loadImage(mediaUrl + \"vendor_images/\" + ans.answer);\n            anspro = React.createElement(\"img\", {\n              src: ansproimag,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 194\n              },\n              __self: this\n            });\n          } else {\n            anspro = ans.answer !== \"\" ? ans.answer : \"N/A\";\n          }\n\n          return React.createElement(\"li\", {\n            key: index,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 199\n            },\n            __self: this\n          }, anspro, ans.remarks !== \"\" && typeof ans.remarks !== \"undefined\" && React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 202\n            },\n            __self: this\n          }, ans.remarks));\n        });\n      } else {\n        answer = React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208\n          },\n          __self: this\n        }, \"N/A\");\n      }\n\n      return answer;\n    }\n  }, {\n    key: \"loadReviews\",\n    value: function loadReviews() {\n      var review;\n\n      if (this.state.proDetails.review_all !== \"\" && typeof this.state.proDetails.review_all !== undefined) {\n        review = this.state.proDetails.review_all.map(function (item, index) {\n          return React.createElement(\"div\", {\n            className: \"pp-review-box\",\n            key: index,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 220\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"pp-review-img\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 221\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: ProfileImg,\n            alt: \"\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 222\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: \"pp-review-txt\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 224\n            },\n            __self: this\n          }, React.createElement(\"h4\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 225\n            },\n            __self: this\n          }, Capitalize(item.user_name), \" ****\", \" \", item.user_mobile !== '' && item.user_mobile !== null ? item.user_mobile.substr(item.user_mobile.length - 4, 4) : ''), React.createElement(\"div\", {\n            className: \"compare-rr\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 229\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: \"crr-rating\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 230\n            },\n            __self: this\n          }, parseFloat(item.ratings_value), \" \", React.createElement(\"i\", {\n            className: \"fa fa-star-o\",\n            \"aria-hidden\": \"true\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 232\n            },\n            __self: this\n          }))), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 235\n            },\n            __self: this\n          }, item.reviews_desc)));\n        });\n      }\n\n      return review;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }), React.createElement(DivSection, {\n        activepage: \"pro\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }), this.state.loading === false && React.createElement(\"div\", {\n        className: \"gen-breadcrump-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"gen-breadcrump\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/gen-pro\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, \"Home\"), \"\\u203A\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/customer/pro-service/\" + Encrypt(this.state.proDetails.service_id, \"e\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, Capitalize(this.state.proDetails.service_name)), \"\\u203A\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, Capitalize(this.state.proDetails && this.state.proDetails.pro_info.user_name))))), React.createElement(\"div\", {\n        className: \"pro-psd-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"pro-service-detail-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, this.state.proDetails !== \"\" && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"proD-back-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }), this.loadProDetails()), this.state.loading === true && LoadingSec))), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return ServiceDetail;\n}(Component);\n\nvar mapStateTopProps = function mapStateTopProps(state) {\n  return {\n    proservicesdetails: state.proservicesdetails\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getProServicesDetails: function getProServicesDetails(formPayload) {\n      dispatch({\n        type: GET_PRO_SERVICES_DETAILS,\n        formPayload: formPayload\n      });\n    }\n  };\n};\n\nexport default connect(mapStateTopProps, mapDispatchToProps)(withRouter(ServiceDetail));","map":{"version":3,"sources":["D:/text video/geniehut-Geni-App-Code/geniehut-Geni-App-Code/front-end/src/components/Genpro/ServiceDetail.js"],"names":["React","Component","Link","withRouter","connect","PriceTagIcon","ProfileImg","emailIcon","phoneIcon","shopIcon","Header","Footer","cookie","GET_PRO_SERVICES_DETAILS","appName","mediaUrl","profileImage","Capitalize","LoadingSec","Encrypt","loadImage","DivSection","ServiceDetail","props","state","loading","UserAuthToken","load","ref_id","match","params","RefId","pro_id","ProId","proDetails","postdata","qs","require","getProServicesDetails","stringify","Props","proservicesdetails","setState","status","result_set","history","push","imgsrc","pro_info","user_profile_image","publishName","displayname","user_name","service_name","publishLandline","displaycontactno","publishWebAddress","vendor_webaddress","publishemail","vendor_email","publishcompanyaddr","vendor_company_address","loadQuestion","ratings_total","attitude","quality","duration","price","review_all","length","loadReviews","question","ques_all","undefined","Object","entries","map","item","index","quiz","quiz_question","loadAnswer","quiz_id","questionID","answer","pro_info_ans","ans","anspro","type","ansproimag","remarks","review","user_mobile","substr","parseFloat","ratings_value","reviews_desc","service_id","loadProDetails","mapStateTopProps","mapDispatchToProps","dispatch","formPayload"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n//import PriceTagIcon from \"../../common/images/price-tag-icon.png\";\nimport PriceTagIcon from \"../../common/images/web.png\";\n\n//import ProfileImg from \"../../common/images/ManageProp_img.jpeg\";\nimport ProfileImg from \"../../common/images/profile2.png\";\nimport emailIcon from \"../../common/images/mail.png\";\nimport phoneIcon from \"../../common/images/mobile.png\";\nimport shopIcon from \"../../common/images/location.png\";\nimport Header from \"../Layout/Header\";\nimport Footer from \"../Layout/Footer\";\nimport cookie from \"react-cookies\";\nimport { GET_PRO_SERVICES_DETAILS } from \"../../actions\";\nimport { appName, mediaUrl, profileImage } from \"../Config/Config\";\nimport { Capitalize, LoadingSec, Encrypt, loadImage } from \"../Helpers/SettingHelper\";\nimport DivSection from \"../Layout/DivSection\";\n\n\nclass ServiceDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      UserAuthToken: cookie.load(\"UserAuthToken\"),\n      ref_id: this.props.match.params.RefId,\n      pro_id: this.props.match.params.ProId,\n      proDetails: \"\"\n    };\n  }\n  componentDidMount() {\n    let postdata = [];\n    postdata[\"app_name\"] = appName;\n    postdata[\"user_token\"] = this.state.UserAuthToken;\n    postdata[\"ref_id\"] = this.state.ref_id;\n    postdata[\"pro_id\"] = this.state.pro_id;\n    var qs = require(\"qs\");\n    this.props.getProServicesDetails(qs.stringify(postdata));\n  }\n  componentWillReceiveProps(Props) {\n    if (Props.proservicesdetails !== this.props.proservicesdetails) {\n      this.setState({ loading: false });\n      if (Props.proservicesdetails[0].status === \"success\") {\n        this.setState({ proDetails: Props.proservicesdetails[0].result_set });\n      }else if (Props.proservicesdetails[0].status === \"authenticfailed\") {\n        this.props.history.push(\"/login\");\n      }\n    }\n  }\n /*backservicelist(){\n    window.location.href = \"/customer/pro-search-list\";\n }*/\n  loadProDetails() {\n    let imgsrc;\n    if(this.state.proDetails.pro_info.user_profile_image === null || this.state.proDetails.pro_info.user_profile_image == ''){\n       imgsrc =ProfileImg+\"\";\n     }else{\n       imgsrc = profileImage+this.state.proDetails.pro_info.user_profile_image+\"\";\n     }\n    return (\n      <div>\n        <div className=\"pro-psd-header\">\n          <div className=\"psdh-img\">\n            <img src={imgsrc} alt=\"\" />\n          </div>\n          <div className=\"psdh-txt\">\n            <div className=\"psdh-content\">\n              <h3>{this.state.proDetails.pro_info.publishName > 0?this.state.proDetails.pro_info.displayname:this.state.proDetails.pro_info.user_name}</h3>\n              <p>{this.state.proDetails.service_name}</p>\n            </div>\n            <div className=\"psdh-bottom\">\n              <div className=\"psdh-bottom-btns\">\n               {/* <img src={JobIcon} alt=\"\" />{\" \"}\n                {typeof this.state.proDetails.pro_info.user_job_completed !==\n                  \"undefined\" &&\n                this.state.proDetails.pro_info.user_job_completed > 0\n                  ? this.state.proDetails.pro_info.user_job_completed +\n                    \" Jobs Completed\"\n                  : \"Jobs to Be Done\"}*/}\n               <div><img src={phoneIcon} alt=\"\" />:<b> {this.state.proDetails.pro_info.publishLandline > 0?this.state.proDetails.pro_info.displaycontactno:'N/A'}</b> </div>\n\n               {/*<div> Name :<b> {this.state.proDetails.pro_info.publishName > 0?this.state.proDetails.pro_info.displayname:'N/A'}</b> </div>*/}\n\n               {/* <div> operating hours : <b>{this.state.proDetails.pro_info.operating_hours}</b> </div>*/}\n              \n              <div><img src={PriceTagIcon} alt=\"\" />:<b> {this.state.proDetails.pro_info.publishWebAddress > 0?this.state.proDetails.pro_info.vendor_webaddress:'N/A'}</b> </div>\n\n              <div><img src={emailIcon} alt=\"\" />:<b> {this.state.proDetails.pro_info.publishemail > 0?this.state.proDetails.pro_info.vendor_email:'N/A'}</b> </div>\n\n              <div><img src={shopIcon} alt=\"\" />:<b> {this.state.proDetails.pro_info.publishcompanyaddr > 0?this.state.proDetails.pro_info.vendor_company_address:'N/A'}</b> </div>\n                {/*<div>\n                  <img src={PriceTagIcon} alt=\"\" />{\" \"}\n                  <b>{this.state.proDetails.pro_info.vendor_price} SGD</b>{\" \"}\n                  Starting Price\n                </div>*/}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"pro-psd-info\">\n          <div className=\"pro-psd-heading\">\n            <h2>Information</h2>\n          </div>\n          {this.loadQuestion()}\n        </div>\n        <div className=\"pro-psd-review\">\n          <div className=\"pro-psd-heading\">\n            <h2>Reviews</h2>\n          </div>\n          <div className=\"pro-psd-review-rating\">\n            <div>\n              <span className=\"review-rate\">\n                {this.state.proDetails.ratings_total.attitude !== null\n                  ? this.state.proDetails.ratings_total.attitude\n                  : 0}\n              </span>\n              <span>Service Attitude</span>\n            </div>\n            <div>\n              <span className=\"review-rate\">\n                {this.state.proDetails.ratings_total.quality !== null\n                  ? this.state.proDetails.ratings_total.quality\n                  : 0}\n              </span>\n              <span>Material Quality</span>\n            </div>\n            <div>\n              <span className=\"review-rate\">\n                {this.state.proDetails.ratings_total.duration !== null\n                  ? this.state.proDetails.ratings_total.duration\n                  : 0}\n              </span>\n              <span>Duration / punctuality</span>\n            </div>\n            <div>\n              <span className=\"review-rate\">\n                {this.state.proDetails.ratings_total.price !== null\n                  ? this.state.proDetails.ratings_total.price\n                  : 0}\n              </span>\n              <span>Price</span>\n            </div>\n          </div>\n          <div className=\"pro-psd-review-wrapper\">\n            {this.state.proDetails.review_all.length > 0 && this.loadReviews()}\n            {this.state.proDetails.review_all.length === 0 && (\n              <div className=\"pp-review-box\">No reviews found.</div>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n  loadQuestion() {\n    let question = \"\";\n    if (\n      this.state.proDetails.ques_all !== \"\" &&\n      typeof this.state.proDetails.ques_all !== undefined\n    ) {\n      question = Object.entries(this.state.proDetails.ques_all).map(\n        (item, index) => {\n          //if(index<=3) {\n          let quiz = item[1];\n          return (\n            <div className=\"qn-box\" key={index}>\n              <h3>{quiz.quiz_question}</h3>\n\n              <ul>{this.loadAnswer(quiz.quiz_id)}</ul>\n            </div>\n          );\n          // }\n        }\n      );\n    }\n    return question;\n  }\n  loadAnswer(questionID) {\n    let answer = \"\";\n    if (\n      this.state.proDetails.pro_info_ans[questionID] !== \"\" &&\n      typeof this.state.proDetails.pro_info_ans[questionID] !== \"undefined\" &&\n      this.state.proDetails.pro_info_ans[questionID] !== null\n    ) {\n      answer = Object.entries(\n        this.state.proDetails.pro_info_ans[questionID]\n      ).map((item, index) => {\n        let ans = item[1];\n        let anspro = '';\n        if(ans.type == 'image'){\n           let ansproimag = loadImage(\n                    mediaUrl + \"vendor_images/\" + ans.answer\n                  );\n           anspro =  <img src={ansproimag} />\n        }else{\n            anspro = ans.answer !== \"\" ? ans.answer : \"N/A\";\n        }\n        return (\n          <li key={index}>\n            {anspro}\n            {ans.remarks !== \"\" && typeof ans.remarks !== \"undefined\" && (\n              <span>{ans.remarks}</span>\n            )}\n          </li>\n        );\n      });\n    } else {\n      answer = <li>N/A</li>;\n    }\n    return answer;\n  }\n  loadReviews() {\n    let review;\n    if (\n      this.state.proDetails.review_all !== \"\" &&\n      typeof this.state.proDetails.review_all !== undefined\n    ) {\n      review = this.state.proDetails.review_all.map((item, index) => {\n        return (\n          <div className=\"pp-review-box\" key={index}>\n            <div className=\"pp-review-img\">\n              <img src={ProfileImg} alt=\"\" />\n            </div>\n            <div className=\"pp-review-txt\">\n              <h4>\n                {Capitalize(item.user_name)} ****{\" \"}\n                {(item.user_mobile!=='' && item.user_mobile!== null)?item.user_mobile.substr(item.user_mobile.length - 4, 4):''}\n              </h4>\n              <div className=\"compare-rr\">\n                <span className=\"crr-rating\">\n                  {parseFloat(item.ratings_value)}{\" \"}\n                  <i className=\"fa fa-star-o\" aria-hidden=\"true\"></i>\n                </span>\n              </div>\n              <p>{item.reviews_desc}</p>\n            </div>\n          </div>\n        );\n      });\n    }\n    return review;\n  }\n\n  render() {\n    return (\n      <div>\n        <Header />\n        <DivSection activepage=\"pro\" />\n        {this.state.loading === false && (\n          <div className=\"gen-breadcrump-wrapper\">\n            <div className=\"container\">\n              <ul className=\"gen-breadcrump\">\n                <li>\n                  <Link to={\"/gen-pro\"}>Home</Link>›\n                </li>\n                <li>\n                  <Link\n                    to={\n                      \"/customer/pro-service/\" +\n                      Encrypt(this.state.proDetails.service_id, \"e\")\n                    }\n                  >\n                    {Capitalize(this.state.proDetails.service_name)}\n                  </Link>\n                  ›\n                </li>\n                <li>{Capitalize(this.state.proDetails && this.state.proDetails.pro_info.user_name)}</li>\n              </ul>\n            </div>\n          </div>\n        )}\n        <div className=\"pro-psd-wrapper\">\n          <div className=\"container\">\n            <div className=\"pro-service-detail-wrapper\">\n              {this.state.proDetails !== \"\" && (\n                <div>\n                  <div className=\"proD-back-btn\">\n                   {/* <a href=\"javascript:void(0);\" onClick={this.backservicelist.bind(this)} className=\"fcb-toggle\">\n                        Back to List\n                    </a>*/}\n                  </div>\n                  {this.loadProDetails()}\n                </div>\n              )}\n              {this.state.loading === true && LoadingSec}\n            </div>\n          </div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n}\n\nconst mapStateTopProps = state => {\n  return {\n    proservicesdetails: state.proservicesdetails\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getProServicesDetails: formPayload => {\n      dispatch({ type: GET_PRO_SERVICES_DETAILS, formPayload });\n    }\n  };\n};\nexport default connect(\n  mapStateTopProps,\n  mapDispatchToProps\n)(withRouter(ServiceDetail));\n"]},"metadata":{},"sourceType":"module"}