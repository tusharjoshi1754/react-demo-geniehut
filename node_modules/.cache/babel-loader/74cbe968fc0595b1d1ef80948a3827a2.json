{"ast":null,"code":"import _classCallCheck from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\src\\\\components\\\\Account\\\\Forgetpassword.js\";\n\n/* eslint-disable */\nimport React, { Component } from 'react';\nimport IntlTelInput from 'react-intl-tel-input';\nimport 'react-intl-tel-input/dist/main.css';\nimport { Link, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport cookie from 'react-cookies';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport Header from '../Layout/Header';\nimport Footer from '../Layout/Footer';\nimport { GET_IPDATA, GET_FORGETPASSWORD, GET_MOBILE_COUNTRY } from '../../actions';\nimport { appName } from \"../Config/Config\";\n\nvar Forgetpassword =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Forgetpassword, _Component);\n\n  function Forgetpassword(props) {\n    var _this;\n\n    _classCallCheck(this, Forgetpassword);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Forgetpassword).call(this, props));\n\n    _this.getipdetails = function () {\n      $.getJSON(\"http://jsonip.com?callback=?\", function (data) {\n        cookie.save(\"ipaddress\", data.ip);\n      });\n\n      var qs = require('qs');\n\n      var postObject = {\n        \"app_name\": appName,\n        \"ipaddress\": cookie.load('ipaddress')\n      };\n\n      _this.props.getIpData(qs.stringify(postObject));\n    };\n\n    _this.loginform = function (valid, inputphone, object, fullnumber) {\n      var errors = {};\n      var formIsValid = true;\n\n      if (valid == false) {\n        formIsValid = false;\n        $('.errormobile').html('<span class=\"errorspan\">Please Enter Valid Mobile Number</span>');\n      } else {\n        $('.errormobile').html('');\n      }\n\n      _this.setState({\n        errors: errors\n      });\n\n      return formIsValid;\n    };\n\n    _this.handleChangeTxt = function (valid, event, object) {\n      _this.setState({\n        countrycode: object.dialCode\n      });\n\n      _this.setState({\n        user_mobile: event\n      });\n    };\n\n    _this.handleforgetpassFormSubmit = function () {\n      if (_this.validateForm()) {\n        _this.setState({\n          Loading: true\n        });\n\n        var formPayload = _this.state;\n\n        var qs = require('qs');\n\n        var postObject = {\n          \"app_name\": appName,\n          \"user_mobile_number\": formPayload.user_mobile,\n          \"user_country_code\": formPayload.countrycode\n        };\n        $(\".forget_submit\").addClass('loading loading_data');\n\n        _this.props.getForgetPassword(qs.stringify(postObject));\n      }\n    };\n\n    _this.state = {\n      user_mobile: '',\n      password: '',\n      countrycode: '',\n      logindata: '',\n      clientip: '',\n      errors: {},\n      Loading: false\n    };\n\n    _this.props.getMobileCountry();\n\n    _this.getipdetails();\n\n    return _this;\n  }\n\n  _createClass(Forgetpassword, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(Props) {\n      if (Props.ipaddress !== this.props.ipaddress) {\n        if (Props.ipaddress[0] != '') {\n          this.setState({\n            clientip: Props.ipaddress[0]\n          });\n        }\n      }\n\n      if (Object.keys(Props.forgetpassword).length > 0) {\n        this.setState({\n          Loading: false\n        });\n\n        if (Props.forgetpassword !== this.props.forgetpassword) {\n          if (Props.forgetpassword[0].status === \"success\") {\n            $(\".forget_submit\").removeClass('loading loading_data');\n            $(\".genie-msg-popup-wrapper\").addClass(\"genie-popup-open\");\n            $('.genie-msg-popup-body').html('<div class=\"state_img text-center\"><i class=\"fa fa-check-circle\" ></i></div><p>' + Props.forgetpassword[0].message + '</p>');\n            cookie.save('UserId', Props.forgetpassword[0].user_id);\n            this.props.history.push('/otp');\n          } else {\n            $(\".forget_submit\").removeClass('loading loading_data');\n            $(\".genie-msg-popup-wrapper\").addClass(\"genie-popup-open\");\n            $('.genie-msg-popup-body').html('<div class=\"state_img text-center\"><i class=\"fa fa-times-circle\" ></i></div><p>' + Props.forgetpassword[0].message + '</p>');\n          }\n        }\n      }\n\n      if (Props.mobilecountry !== this.props.mobilecountry) {\n        this.setState({\n          mobilecountry: Props.mobilecountry[0].result_set\n        }, function () {\n          this.loadCountryList();\n        });\n      }\n    }\n  }, {\n    key: \"closepopup\",\n    value: function closepopup() {\n      $('.genie-close-btn').parents(\".genie-msg-popup-wrapper\").removeClass(\"genie-popup-open\");\n    }\n  }, {\n    key: \"loadCountryList\",\n    value: function loadCountryList() {\n      var country = [];\n      this.state.mobilecountry.map(function (countries) {\n        country.push(countries.short_code.toLowerCase());\n      });\n      this.setState({\n        countryList: country\n      });\n    }\n  }, {\n    key: \"validateForm\",\n    value: function validateForm() {\n      $('.errorvalid').removeClass('errorMsg');\n      var user_mobile = this.state.user_mobile;\n      var errors = {};\n      var formIsValid = true;\n\n      if (!user_mobile) {\n        formIsValid = false;\n        $('.errormobile').html('<span class=\"errorspan\">Please enter your mobile number.</span>');\n      } else if (user_mobile) {\n        $('.errormobile').html('');\n      }\n\n      this.setState({\n        errors: errors\n      });\n      $(\".forget_submit\").removeClass('loading loading_data');\n      return formIsValid;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var defaultip = this.state.clientip;\n\n      if (defaultip != '') {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, React.createElement(Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"wrapper_out account_bg_wrap\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"account-wrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"account-title-warpper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          className: \"title4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, \"Forgot Password\"))), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, \"Mobile Number\"), React.createElement(\"div\", {\n          className: \"account-mobile-wrap\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }, React.createElement(IntlTelInput, {\n          className: \"form-control\",\n          name: \"user_mobile\",\n          id: \"user_mobile\",\n          defaultCountry: defaultip,\n          separateDialCode: \"true\",\n          onPhoneNumberBlur: this.loginform.bind(this),\n          value: this.state.user_mobile,\n          onPhoneNumberChange: this.handleChangeTxt.bind(this),\n          preferredCountries: this.state.countryList,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"errormobile\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"account-submit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"btn btn_orange btn_minwid forget_submit animate-btn2\",\n          onClick: this.handleforgetpassFormSubmit.bind(this),\n          type: \"button\",\n          disabled: this.state.Loading === true ? true : false,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }, \" \", this.state.Loading === true && React.createElement(\"span\", {\n          className: \"load-data\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }, \"Loading\"), \" Submit\")), React.createElement(\"div\", {\n          className: \"account-backreset-wrap\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"/login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fa fa-angle-left\",\n          \"aria-hidden\": \"true\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }), \" Back to Login\"))))))), React.createElement(Footer, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"genie-msg-popup-wrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"genie-msg-popup-inner-wrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"\",\n          onClick: this.closepopup,\n          className: \"genie-close-btn\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fa fa-times\",\n          \"aria-hidden\": \"true\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"genie-msg-popup-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }))));\n      } else {\n        return React.createElement(\"div\", {\n          className: \"loading loading_separate\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          },\n          __self: this\n        });\n      }\n    }\n  }]);\n\n  return Forgetpassword;\n}(Component);\n\nvar mapStateTopProps = function mapStateTopProps(state) {\n  return {\n    ipaddress: state.ip,\n    forgetpassword: state.forgetpassword,\n    mobilecountry: state.mobilecountry\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getIpData: function getIpData(ipaddress) {\n      dispatch({\n        type: GET_IPDATA,\n        ipaddress: ipaddress\n      });\n    },\n    getForgetPassword: function getForgetPassword(formPayload) {\n      dispatch({\n        type: GET_FORGETPASSWORD,\n        formPayload: formPayload\n      });\n    },\n    getMobileCountry: function getMobileCountry() {\n      dispatch({\n        type: GET_MOBILE_COUNTRY\n      });\n    }\n  };\n};\n\nexport default connect(mapStateTopProps, mapDispatchToProps)(withRouter(Forgetpassword));","map":{"version":3,"sources":["D:/text video/geniehut-Geni-App-Code/geniehut-Geni-App-Code/front-end/src/components/Account/Forgetpassword.js"],"names":["React","Component","IntlTelInput","Link","withRouter","connect","cookie","axios","$","Header","Footer","GET_IPDATA","GET_FORGETPASSWORD","GET_MOBILE_COUNTRY","appName","Forgetpassword","props","getipdetails","getJSON","data","save","ip","qs","require","postObject","load","getIpData","stringify","loginform","valid","inputphone","object","fullnumber","errors","formIsValid","html","setState","handleChangeTxt","event","countrycode","dialCode","user_mobile","handleforgetpassFormSubmit","validateForm","Loading","formPayload","state","addClass","getForgetPassword","password","logindata","clientip","getMobileCountry","Props","ipaddress","Object","keys","forgetpassword","length","status","removeClass","message","user_id","history","push","mobilecountry","result_set","loadCountryList","parents","country","map","countries","short_code","toLowerCase","countryList","defaultip","bind","closepopup","mapStateTopProps","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport React, { Component } from 'react';\nimport IntlTelInput from 'react-intl-tel-input';\nimport 'react-intl-tel-input/dist/main.css';\nimport { Link, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport cookie from 'react-cookies';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport Header from '../Layout/Header';\nimport Footer from '../Layout/Footer';\nimport {  GET_IPDATA, GET_FORGETPASSWORD, GET_MOBILE_COUNTRY} from '../../actions';\nimport { appName } from \"../Config/Config\";\n\nclass Forgetpassword extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {  \n            user_mobile: '',\n            password: '',       \n            countrycode:'',\n            logindata:'',\n            clientip:'',\n            errors: {}, \n            Loading:false,\n        };\n        this.props.getMobileCountry();\n        this.getipdetails();\n    }\n\n    componentWillReceiveProps(Props) {\n        if(Props.ipaddress !==this.props.ipaddress){\n                if(Props.ipaddress[0]!=''){\n                    this.setState({clientip :Props.ipaddress[0]});\n                }\n            }\n        if(Object.keys(Props.forgetpassword).length > 0){\n            this.setState({Loading:false});\n            if(Props.forgetpassword !== this.props.forgetpassword){\n                if(Props.forgetpassword[0].status === \"success\"){\n                    $(\".forget_submit\").removeClass('loading loading_data');\n                    $(\".genie-msg-popup-wrapper\").addClass(\"genie-popup-open\");\n                    $('.genie-msg-popup-body').html('<div class=\"state_img text-center\"><i class=\"fa fa-check-circle\" ></i></div><p>'+Props.forgetpassword[0].message+'</p>');\n                    cookie.save('UserId',Props.forgetpassword[0].user_id)\n                    this.props.history.push('/otp');\n                }else{\n\n                    $(\".forget_submit\").removeClass('loading loading_data');\n                    $(\".genie-msg-popup-wrapper\").addClass(\"genie-popup-open\");\n                    $('.genie-msg-popup-body').html('<div class=\"state_img text-center\"><i class=\"fa fa-times-circle\" ></i></div><p>'+Props.forgetpassword[0].message+'</p>');\n                }\n            }\n        }\n        if(Props.mobilecountry !==this.props.mobilecountry){\n            this.setState({mobilecountry:Props.mobilecountry[0].result_set}, function() {\n                this.loadCountryList();\n            });\n        }\n    }\n\n    getipdetails =() => {\n      $.getJSON(\"http://jsonip.com?callback=?\", function (data) {\n            cookie.save(\"ipaddress\",data.ip);\n        });\n\n      var qs = require('qs');\n        var postObject = {\n        \"app_name\": appName,\n        \"ipaddress\": cookie.load('ipaddress')\n        };\n        this.props.getIpData(qs.stringify(postObject));\n    }\n\n    loginform = (valid,inputphone,object,fullnumber)  => {\n        let errors = {};\n        let formIsValid = true;\n        if(valid == false){\n            formIsValid = false;\n            $('.errormobile').html('<span class=\"errorspan\">Please Enter Valid Mobile Number</span>');\n        }else{\n            $('.errormobile').html('');\n        }\n        this.setState({\n            errors: errors\n        });\n\n        return formIsValid;\n    }\n    handleChangeTxt = (valid, event,object) => {  \n        this.setState({countrycode :object.dialCode });\n        this.setState({user_mobile :event });\n    }\n\n    closepopup(){\n        $('.genie-close-btn').parents(\".genie-msg-popup-wrapper\").removeClass(\"genie-popup-open\");            \n    }\n    \n    loadCountryList() {\n\t\tvar country= [];\n\t\tthis.state.mobilecountry.map(function(countries){\n\t\t\t\tcountry.push(countries.short_code.toLowerCase());\n\t\t});\n    this.setState({countryList:country});\n\t}\n    handleforgetpassFormSubmit = () => {\n        if(this.validateForm()){\n            this.setState({Loading:true});\n            const formPayload = this.state;\n                var qs = require('qs');\n                var postObject = {\n                \"app_name\": appName,\n                \"user_mobile_number\": formPayload.user_mobile,\n                \"user_country_code\": formPayload.countrycode\n                };\n                $(\".forget_submit\").addClass('loading loading_data');\n            this.props.getForgetPassword(qs.stringify(postObject));\n        }\n    }\n\n    validateForm() {\n        $('.errorvalid').removeClass('errorMsg');\n        const {user_mobile} = this.state;        \n        let errors = {};\n        let formIsValid = true;\n        if (!user_mobile) {\n            formIsValid = false;\n            $('.errormobile').html('<span class=\"errorspan\">Please enter your mobile number.</span>');\n        }else if (user_mobile) {\n            $('.errormobile').html('');\n        }\n        \n        this.setState({\n            errors: errors\n        });\n        $(\".forget_submit\").removeClass('loading loading_data');\n        return formIsValid;\n    }\n\nrender() {\n   const defaultip  = this.state.clientip;\n   if(defaultip != '') {\n    return (\n        <div>\n            <Header />\n               <div className=\"wrapper_out account_bg_wrap\">\n                   <div className=\"container\">\n                        <div className=\"account-wrapper\">\n                            <div className=\"account-title-warpper\">\n                                <h2 className=\"title4\"><span>Forgot Password</span></h2>\n                            </div>\n                            <div>\n                                <form>\n                                    <div className=\"form-group\">\n                                        <label>Mobile Number</label>\n                                        <div className=\"account-mobile-wrap\">\n                                           <IntlTelInput className=\"form-control\" name=\"user_mobile\" id=\"user_mobile\"\n                                                  defaultCountry={defaultip}\n                                                  separateDialCode='true'\n                                                  onPhoneNumberBlur={this.loginform.bind(this)}\n                                                  value={this.state.user_mobile}\n                                                  onPhoneNumberChange={this.handleChangeTxt.bind(this)}\n                                                  preferredCountries={this.state.countryList}\n                                             />\n                                             <div className=\"errormobile\"></div>\n                                        </div>\n                                    </div>\n                                    <div className=\"account-submit\">\n                                        <button className=\"btn btn_orange btn_minwid forget_submit animate-btn2\" onClick={this.handleforgetpassFormSubmit.bind(this)} type=\"button\" disabled={(this.state.Loading ===true)?true:false}> {this.state.Loading ===true &&\n                                        <span className=\"load-data\">Loading</span> \n                                        } Submit</button>\t\n                                    </div>\n                                    <div className=\"account-backreset-wrap\">\n                                    <a href=\"/login\"><i className=\"fa fa-angle-left\" aria-hidden=\"true\"></i> Back to Login</a>   \n                                    </div>\n                                </form> \n                            </div>\n                        </div>\n                   </div>\n               </div>\n            <Footer />\n            <div className=\"genie-msg-popup-wrapper\">\n            <div className=\"genie-msg-popup-inner-wrapper\">\n                <a href=\"\" onClick={this.closepopup} className=\"genie-close-btn\"><i className=\"fa fa-times\" aria-hidden=\"true\"></i></a>\n                    <div className=\"genie-msg-popup-body\">\n                </div>\n            </div>\n        </div>\n        </div>\n    );\n    }else {\n\nreturn (<div className=\"loading loading_separate\"></div>);\n\n}\n}\n}\n\nconst mapStateTopProps = (state) => {\n  return {\n    ipaddress       : state.ip,\n    forgetpassword  : state.forgetpassword,\n    mobilecountry\t: state.mobilecountry\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getIpData: (ipaddress) => {\n        dispatch({ type: GET_IPDATA, ipaddress});\n    },\n    getForgetPassword: (formPayload) => {\n        dispatch({ type: GET_FORGETPASSWORD, formPayload});\n    },\n    getMobileCountry: () => {\n      dispatch({ type: GET_MOBILE_COUNTRY});\n    },\n  }\n}\n\nexport default connect(mapStateTopProps, mapDispatchToProps)(withRouter(Forgetpassword));\n"]},"metadata":{},"sourceType":"module"}