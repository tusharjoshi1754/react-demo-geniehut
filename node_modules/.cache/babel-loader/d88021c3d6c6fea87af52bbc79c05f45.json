{"ast":null,"code":"import _classCallCheck from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\text video\\\\geniehut-Geni-App-Code\\\\geniehut-Geni-App-Code\\\\front-end\\\\src\\\\components\\\\Customer\\\\CustomerFeedback.js\";\n\n/* eslint-disable */\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { GET_REVIEW } from \"../../actions\";\nimport { LoadingSec, getTimeFrmDate, LoadImage } from \"../Helpers/SettingHelper\";\n\nvar Parser = require(\"html-react-parser\");\n\nvar CustomerFeedback =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CustomerFeedback, _Component);\n\n  function CustomerFeedback(props) {\n    var _this;\n\n    _classCallCheck(this, CustomerFeedback);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CustomerFeedback).call(this, props));\n    _this.state = {\n      ratingDetails: \"\",\n      ratingDetailLoading: true,\n      loadMoreEnable: false,\n      oldreview: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(CustomerFeedback, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var rparams = {\n        userID: this.props.userID,\n        page: 0\n      };\n      this.props.getReview(rparams);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(Props) {\n      if (this.state.review !== Props.review) {\n        if (Props.review[0].result_set.run.totalrun_reviews > 0) {\n          var result = Props.review[0].result_set;\n          var totalrecords = result.run.totalrun_reviews;\n          var limit = 1;\n          var loadMoreCount = totalrecords / limit;\n\n          if (loadMoreCount >= this.state.page) {\n            this.setState({\n              loadMoreEnable: true\n            });\n          } else {\n            this.setState({\n              loadMoreEnable: false\n            });\n          }\n\n          var newleads = \"\";\n\n          if (this.state.oldreview !== \"\") {\n            var oldreview = this.state.oldreview;\n            newleads = oldreview.concat(result.run);\n          } else {\n            newleads = result.run;\n          }\n\n          this.setState({\n            review: newleads,\n            ratingDetailLoading: false\n          }, function () {\n            this.displayreviews();\n          });\n        } else {\n          this.setState({\n            ratingDetails: \"No Reviews and Ratings\",\n            ratingDetailLoading: false\n          });\n        }\n      }\n    }\n  }, {\n    key: \"displayreviews\",\n    value: function displayreviews() {\n      if (this.state.review !== null && this.state.review.run_reviews !== \"\" && typeof this.state.review.run_reviews != \"undefined\") {\n        var reviewsDetails = this.state.review.run_reviews.map(function (item, index) {\n          return React.createElement(\"div\", {\n            className: \"genrunList-box\",\n            key: index,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"genrunList-left\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 75\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"genrunList-left-img\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 76\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: LoadImage(item.custImage),\n            alt: \"\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 77\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: \"genrunList-left-content\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79\n            },\n            __self: this\n          }, React.createElement(\"h3\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80\n            },\n            __self: this\n          }, item.user_name), React.createElement(\"div\", {\n            className: \"gl-rate-date\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"gl-rate\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83\n            },\n            __self: this\n          }, item.review_points, \" \", React.createElement(\"i\", {\n            className: item.review_points > 0 ? \"fa fa-star\" : \"fa fa-star-o\",\n            \"aria-hidden\": \"true\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85\n            },\n            __self: this\n          }))), React.createElement(\"div\", {\n            className: \"gl-date\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 95\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 96\n            },\n            __self: this\n          }, getTimeFrmDate(item.review_created)), React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 97\n            },\n            __self: this\n          }, getTimeFrmDate(item.review_created, 2)))), React.createElement(\"div\", {\n            className: \"gl-review\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 101\n            },\n            __self: this\n          }, Parser(item.review_desc))))));\n        });\n        this.setState({\n          ratingDetails: reviewsDetails\n        });\n      }\n    }\n  }, {\n    key: \"loadMore\",\n    value: function loadMore() {\n      var page = parseInt(this.state.page) + 1;\n      this.setState({\n        page: page\n      }, function () {\n        var rparams = {\n          userID: this.props.userID,\n          page: page\n        };\n        this.props.getReview(rparams);\n      }.bind(this));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"genListPopup-wrapper customerFeedback\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"genrun-leads-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"genrun-leads-info-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"genrun_leads_info_wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"genLead-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"genLead-flex-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"genrunList-section\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, this.state.ratingDetailLoading === true ? LoadingSec : \"\", this.state.ratingDetails, this.state.ratingDetails === \"\" && this.state.ratingDetailLoading === false && React.createElement(\"div\", {\n        className: \"genrunList-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"genrunList-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"No records found.\"))), this.state.loadMoreEnable === true && React.createElement(\"div\", {\n        className: \"cf_btn_wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"javascript:;\",\n        className: \"btn btn_orange animate-btn2\",\n        onClick: this.loadMore.bind(this),\n        title: \"Load More\",\n        style: {\n          display: this.state.loadMoreEnable === false ? \"none\" : \"\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, this.state.moreloading === true && React.createElement(\"span\", {\n        className: \"load-data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"Loading\"), \"Load More\"), React.createElement(\"a\", {\n        href: \"javascript:void(0);\",\n        className: \"btn btn_blue animate-btn2 cf_btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"Load More\")))))))));\n    }\n  }]);\n\n  return CustomerFeedback;\n}(Component);\n\nvar mapStateTopProps = function mapStateTopProps(state) {\n  return {\n    review: state.review\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getReview: function getReview(formPayload) {\n      dispatch({\n        type: GET_REVIEW,\n        formPayload: formPayload\n      });\n    }\n  };\n};\n\nexport default connect(mapStateTopProps, mapDispatchToProps)(withRouter(CustomerFeedback));","map":{"version":3,"sources":["D:/text video/geniehut-Geni-App-Code/geniehut-Geni-App-Code/front-end/src/components/Customer/CustomerFeedback.js"],"names":["React","Component","withRouter","connect","GET_REVIEW","LoadingSec","getTimeFrmDate","LoadImage","Parser","require","CustomerFeedback","props","state","ratingDetails","ratingDetailLoading","loadMoreEnable","oldreview","rparams","userID","page","getReview","Props","review","result_set","run","totalrun_reviews","result","totalrecords","limit","loadMoreCount","setState","newleads","concat","displayreviews","run_reviews","reviewsDetails","map","item","index","custImage","user_name","review_points","review_created","review_desc","parseInt","bind","loadMore","display","moreloading","mapStateTopProps","mapDispatchToProps","dispatch","formPayload","type"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { GET_REVIEW } from \"../../actions\";\nimport {\n  LoadingSec,\n  getTimeFrmDate,\n  LoadImage\n} from \"../Helpers/SettingHelper\";\nvar Parser = require(\"html-react-parser\");\n\nclass CustomerFeedback extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ratingDetails: \"\",\n      ratingDetailLoading: true,\n      loadMoreEnable: false,\n      oldreview: \"\"\n    };\n  }\n  componentDidMount() {\n    const rparams = {\n      userID: this.props.userID,\n      page: 0\n    };\n    this.props.getReview(rparams);\n  }\n  componentWillReceiveProps(Props) {\n    if (this.state.review !== Props.review) {\n      if (Props.review[0].result_set.run.totalrun_reviews > 0) {\n        let result = Props.review[0].result_set;\n        const totalrecords = result.run.totalrun_reviews;\n        const limit = 1;\n        const loadMoreCount = totalrecords / limit;\n        if (loadMoreCount >= this.state.page) {\n          this.setState({ loadMoreEnable: true });\n        } else {\n          this.setState({ loadMoreEnable: false });\n        }\n\n        let newleads = \"\";\n        if (this.state.oldreview !== \"\") {\n          let oldreview = this.state.oldreview;\n          newleads = oldreview.concat(result.run);\n        } else {\n          newleads = result.run;\n        }\n\n        this.setState(\n          { review: newleads, ratingDetailLoading: false },\n          function() {\n            this.displayreviews();\n          }\n        );\n      } else {\n        this.setState({\n          ratingDetails: \"No Reviews and Ratings\",\n          ratingDetailLoading: false\n        });\n      }\n    }\n  }\n  displayreviews() {\n    if (\n      this.state.review !== null &&\n      this.state.review.run_reviews !== \"\" &&\n      typeof this.state.review.run_reviews != \"undefined\"\n    ) {\n      const reviewsDetails = this.state.review.run_reviews.map(\n        (item, index) => {\n          return (\n            <div className=\"genrunList-box\" key={index}>\n              <div className=\"genrunList-left\">\n                <div className=\"genrunList-left-img\">\n                  <img src={LoadImage(item.custImage)} alt=\"\" />\n                </div>\n                <div className=\"genrunList-left-content\">\n                  <h3>{item.user_name}</h3>\n                  <div className=\"gl-rate-date\">\n                    <div className=\"gl-rate\">\n                      <span>\n                        {item.review_points}{\" \"}\n                        <i\n                          className={\n                            item.review_points > 0\n                              ? \"fa fa-star\"\n                              : \"fa fa-star-o\"\n                          }\n                          aria-hidden=\"true\"\n                        ></i>\n                      </span>\n                    </div>\n                    <div className=\"gl-date\">\n                      <span>{getTimeFrmDate(item.review_created)}</span>\n                      <span>{getTimeFrmDate(item.review_created, 2)}</span>\n                    </div>\n                  </div>\n                  <div className=\"gl-review\">\n                    <p>{Parser(item.review_desc)}</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          );\n        }\n      );\n      this.setState({ ratingDetails: reviewsDetails });\n    }\n  }\n  loadMore() {\n    let page = parseInt(this.state.page) + 1;\n    this.setState(\n      { page: page },\n      function() {\n        const rparams = {\n          userID: this.props.userID,\n          page: page\n        };\n        this.props.getReview(rparams);\n      }.bind(this)\n    );\n  }\n  render() {\n    return (\n      <div>\n        <div className=\"genListPopup-wrapper customerFeedback\">\n          <div className=\"genrun-leads-wrapper\">\n            <div className=\"genrun-leads-info-wrapper\">\n              <div className=\"genrun_leads_info_wrap\">\n                <div className=\"genLead-flex\">\n                  <div className=\"genLead-flex-left\">\n                    <div className=\"genrunList-section\">\n                      {this.state.ratingDetailLoading === true\n                        ? LoadingSec\n                        : \"\"}\n                      {this.state.ratingDetails}\n                      {this.state.ratingDetails === \"\" &&\n                        this.state.ratingDetailLoading === false && (\n                          <div className=\"genrunList-box\">\n                            <div className=\"genrunList-center\">\n                              No records found.\n                            </div>\n                          </div>\n                        )}\n                    </div>\n                    {this.state.loadMoreEnable === true && (\n                      <div className=\"cf_btn_wrapper\">\n                        <a\n                          href=\"javascript:;\"\n                          className=\"btn btn_orange animate-btn2\"\n                          onClick={this.loadMore.bind(this)}\n                          title=\"Load More\"\n                          style={{\n                            display:\n                              this.state.loadMoreEnable === false ? \"none\" : \"\"\n                          }}\n                        >\n                          {this.state.moreloading === true && (\n                            <span className=\"load-data\">Loading</span>\n                          )}\n                          Load More\n                        </a>\n\n                        <a\n                          href=\"javascript:void(0);\"\n                          className=\"btn btn_blue animate-btn2 cf_btn\"\n                        >\n                          Load More\n                        </a>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateTopProps = state => {\n  return {\n    review: state.review\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getReview: formPayload => {\n      dispatch({ type: GET_REVIEW, formPayload });\n    }\n  };\n};\nexport default connect(\n  mapStateTopProps,\n  mapDispatchToProps\n)(withRouter(CustomerFeedback));\n"]},"metadata":{},"sourceType":"module"}